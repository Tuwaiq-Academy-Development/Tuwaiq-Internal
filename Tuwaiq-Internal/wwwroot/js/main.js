var er=!1,tr=!1,ai=[],ir=-1;function of(s){af(s)}function af(s){ai.includes(s)||ai.push(s),lf()}function ul(s){let e=ai.indexOf(s);e!==-1&&e>ir&&ai.splice(e,1)}function lf(){!tr&&!er&&(er=!0,queueMicrotask(uf))}function uf(){er=!1,tr=!0;for(let s=0;s<ai.length;s++)ai[s](),ir=s;ai.length=0,ir=-1,tr=!1}var Bi,Ni,hs,dl,sr=!0;function df(s){sr=!1,s(),sr=!0}function hf(s){Bi=s.reactive,hs=s.release,Ni=e=>s.effect(e,{scheduler:t=>{sr?of(t):t()}}),dl=s.raw}function va(s){Ni=s}function cf(s){let e=()=>{};return[i=>{let n=Ni(i);return s._x_effects||(s._x_effects=new Set,s._x_runEffects=()=>{s._x_effects.forEach(r=>r())}),s._x_effects.add(n),e=()=>{n!==void 0&&(s._x_effects.delete(n),hs(n))},n},()=>{e()}]}function es(s,e,t={}){s.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0,cancelable:!0}))}function Kt(s,e){if(typeof ShadowRoot=="function"&&s instanceof ShadowRoot){Array.from(s.children).forEach(n=>Kt(n,e));return}let t=!1;if(e(s,()=>t=!0),t)return;let i=s.firstElementChild;for(;i;)Kt(i,e),i=i.nextElementSibling}function At(s,...e){console.warn(`Alpine Warning: ${s}`,...e)}var wa=!1;function ff(){wa&&At("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),wa=!0,document.body||At("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),es(document,"alpine:init"),es(document,"alpine:initializing"),Hr(),mf(e=>Mt(e,Kt)),Dr(e=>Or(e)),yl((e,t)=>{Nr(e,t).forEach(i=>i())});let s=e=>!pn(e.parentElement,!0);Array.from(document.querySelectorAll(fl().join(","))).filter(s).forEach(e=>{Mt(e)}),es(document,"alpine:initialized")}var Mr=[],hl=[];function cl(){return Mr.map(s=>s())}function fl(){return Mr.concat(hl).map(s=>s())}function pl(s){Mr.push(s)}function gl(s){hl.push(s)}function pn(s,e=!1){return gn(s,t=>{if((e?fl():cl()).some(n=>t.matches(n)))return!0})}function gn(s,e){if(s){if(e(s))return s;if(s._x_teleportBack&&(s=s._x_teleportBack),!!s.parentElement)return gn(s.parentElement,e)}}function pf(s){return cl().some(e=>s.matches(e))}var ml=[];function gf(s){ml.push(s)}function Mt(s,e=Kt,t=()=>{}){Mf(()=>{e(s,(i,n)=>{t(i,n),ml.forEach(r=>r(i,n)),Nr(i,i.attributes).forEach(r=>r()),i._x_ignore&&n()})})}function Or(s){Kt(s,e=>{El(e),bf(e)})}var bl=[],vl=[],wl=[];function mf(s){wl.push(s)}function Dr(s,e){typeof e=="function"?(s._x_cleanups||(s._x_cleanups=[]),s._x_cleanups.push(e)):(e=s,vl.push(e))}function yl(s){bl.push(s)}function Cl(s,e,t){s._x_attributeCleanups||(s._x_attributeCleanups={}),s._x_attributeCleanups[e]||(s._x_attributeCleanups[e]=[]),s._x_attributeCleanups[e].push(t)}function El(s,e){s._x_attributeCleanups&&Object.entries(s._x_attributeCleanups).forEach(([t,i])=>{(e===void 0||e.includes(t))&&(i.forEach(n=>n()),delete s._x_attributeCleanups[t])})}function bf(s){if(s._x_cleanups)for(;s._x_cleanups.length;)s._x_cleanups.pop()()}var Pr=new MutationObserver(Fr),Ir=!1;function Hr(){Pr.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Ir=!0}function xl(){vf(),Pr.disconnect(),Ir=!1}var ts=[],Un=!1;function vf(){ts=ts.concat(Pr.takeRecords()),ts.length&&!Un&&(Un=!0,queueMicrotask(()=>{wf(),Un=!1}))}function wf(){Fr(ts),ts.length=0}function Ne(s){if(!Ir)return s();xl();let e=s();return Hr(),e}var zr=!1,Js=[];function yf(){zr=!0}function Cf(){zr=!1,Fr(Js),Js=[]}function Fr(s){if(zr){Js=Js.concat(s);return}let e=[],t=[],i=new Map,n=new Map;for(let r=0;r<s.length;r++)if(!s[r].target._x_ignoreMutationObserver&&(s[r].type==="childList"&&(s[r].addedNodes.forEach(o=>o.nodeType===1&&e.push(o)),s[r].removedNodes.forEach(o=>o.nodeType===1&&t.push(o))),s[r].type==="attributes")){let o=s[r].target,a=s[r].attributeName,l=s[r].oldValue,c=()=>{i.has(o)||i.set(o,[]),i.get(o).push({name:a,value:o.getAttribute(a)})},p=()=>{n.has(o)||n.set(o,[]),n.get(o).push(a)};o.hasAttribute(a)&&l===null?c():o.hasAttribute(a)?(p(),c()):p()}n.forEach((r,o)=>{El(o,r)}),i.forEach((r,o)=>{bl.forEach(a=>a(o,r))});for(let r of t)e.includes(r)||(vl.forEach(o=>o(r)),Or(r));e.forEach(r=>{r._x_ignoreSelf=!0,r._x_ignore=!0});for(let r of e)t.includes(r)||r.isConnected&&(delete r._x_ignoreSelf,delete r._x_ignore,wl.forEach(o=>o(r)),r._x_ignore=!0,r._x_ignoreSelf=!0);e.forEach(r=>{delete r._x_ignoreSelf,delete r._x_ignore}),e=null,t=null,i=null,n=null}function _l(s){return fs(Ri(s))}function cs(s,e,t){return s._x_dataStack=[e,...Ri(t||s)],()=>{s._x_dataStack=s._x_dataStack.filter(i=>i!==e)}}function Ri(s){return s._x_dataStack?s._x_dataStack:typeof ShadowRoot=="function"&&s instanceof ShadowRoot?Ri(s.host):s.parentNode?Ri(s.parentNode):[]}function fs(s){return new Proxy({objects:s},Ef)}var Ef={ownKeys({objects:s}){return Array.from(new Set(s.flatMap(e=>Object.keys(e))))},has({objects:s},e){return e==Symbol.unscopables?!1:s.some(t=>Object.prototype.hasOwnProperty.call(t,e))},get({objects:s},e,t){return e=="toJSON"?xf:Reflect.get(s.find(i=>Object.prototype.hasOwnProperty.call(i,e))||{},e,t)},set({objects:s},e,t,i){const n=s.find(o=>Object.prototype.hasOwnProperty.call(o,e))||s[s.length-1],r=Object.getOwnPropertyDescriptor(n,e);return r!=null&&r.set&&(r!=null&&r.get)?Reflect.set(n,e,t,i):Reflect.set(n,e,t)}};function xf(){return Reflect.ownKeys(this).reduce((e,t)=>(e[t]=Reflect.get(this,t),e),{})}function Tl(s){let e=i=>typeof i=="object"&&!Array.isArray(i)&&i!==null,t=(i,n="")=>{Object.entries(Object.getOwnPropertyDescriptors(i)).forEach(([r,{value:o,enumerable:a}])=>{if(a===!1||o===void 0)return;let l=n===""?r:`${n}.${r}`;typeof o=="object"&&o!==null&&o._x_interceptor?i[r]=o.initialize(s,l,r):e(o)&&o!==i&&!(o instanceof Element)&&t(o,l)})};return t(s)}function kl(s,e=()=>{}){let t={initialValue:void 0,_x_interceptor:!0,initialize(i,n,r){return s(this.initialValue,()=>_f(i,n),o=>nr(i,n,o),n,r)}};return e(t),i=>{if(typeof i=="object"&&i!==null&&i._x_interceptor){let n=t.initialize.bind(t);t.initialize=(r,o,a)=>{let l=i.initialize(r,o,a);return t.initialValue=l,n(r,o,a)}}else t.initialValue=i;return t}}function _f(s,e){return e.split(".").reduce((t,i)=>t[i],s)}function nr(s,e,t){if(typeof e=="string"&&(e=e.split(".")),e.length===1)s[e[0]]=t;else{if(e.length===0)throw error;return s[e[0]]||(s[e[0]]={}),nr(s[e[0]],e.slice(1),t)}}var Sl={};function pt(s,e){Sl[s]=e}function rr(s,e){return Object.entries(Sl).forEach(([t,i])=>{let n=null;function r(){if(n)return n;{let[o,a]=Dl(e);return n={interceptor:kl,...o},Dr(e,a),n}}Object.defineProperty(s,`$${t}`,{get(){return i(e,r())},enumerable:!1})}),s}function Tf(s,e,t,...i){try{return t(...i)}catch(n){os(n,s,e)}}function os(s,e,t=void 0){Object.assign(s,{el:e,expression:t}),console.warn(`Alpine Expression Error: ${s.message}

${t?'Expression: "'+t+`"

`:""}`,e),setTimeout(()=>{throw s},0)}var js=!0;function Rl(s){let e=js;js=!1;let t=s();return js=e,t}function li(s,e,t={}){let i;return $e(s,e)(n=>i=n,t),i}function $e(...s){return Ll(...s)}var Ll=Al;function kf(s){Ll=s}function Al(s,e){let t={};rr(t,s);let i=[t,...Ri(s)],n=typeof e=="function"?Sf(i,e):Lf(i,e,s);return Tf.bind(null,s,e,n)}function Sf(s,e){return(t=()=>{},{scope:i={},params:n=[]}={})=>{let r=e.apply(fs([i,...s]),n);Ys(t,r)}}var Gn={};function Rf(s,e){if(Gn[s])return Gn[s];let t=Object.getPrototypeOf(async function(){}).constructor,i=/^[\n\s]*if.*\(.*\)/.test(s.trim())||/^(let|const)\s/.test(s.trim())?`(async()=>{ ${s} })()`:s,r=(()=>{try{let o=new t(["__self","scope"],`with (scope) { __self.result = ${i} }; __self.finished = true; return __self.result;`);return Object.defineProperty(o,"name",{value:`[Alpine] ${s}`}),o}catch(o){return os(o,e,s),Promise.resolve()}})();return Gn[s]=r,r}function Lf(s,e,t){let i=Rf(e,t);return(n=()=>{},{scope:r={},params:o=[]}={})=>{i.result=void 0,i.finished=!1;let a=fs([r,...s]);if(typeof i=="function"){let l=i(i,a).catch(c=>os(c,t,e));i.finished?(Ys(n,i.result,a,o,t),i.result=void 0):l.then(c=>{Ys(n,c,a,o,t)}).catch(c=>os(c,t,e)).finally(()=>i.result=void 0)}}}function Ys(s,e,t,i,n){if(js&&typeof e=="function"){let r=e.apply(t,i);r instanceof Promise?r.then(o=>Ys(s,o,t,i)).catch(o=>os(o,n,e)):s(r)}else typeof e=="object"&&e instanceof Promise?e.then(r=>s(r)):s(e)}var Br="x-";function Vi(s=""){return Br+s}function Af(s){Br=s}var or={};function He(s,e){return or[s]=e,{before(t){if(!or[t]){console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");return}const i=oi.indexOf(t);oi.splice(i>=0?i:oi.indexOf("DEFAULT"),0,s)}}}function Nr(s,e,t){if(e=Array.from(e),s._x_virtualDirectives){let r=Object.entries(s._x_virtualDirectives).map(([a,l])=>({name:a,value:l})),o=Ml(r);r=r.map(a=>o.find(l=>l.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),e=e.concat(r)}let i={};return e.map(Hl((r,o)=>i[r]=o)).filter(Fl).map(Df(i,t)).sort(Pf).map(r=>Of(s,r))}function Ml(s){return Array.from(s).map(Hl()).filter(e=>!Fl(e))}var ar=!1,Qi=new Map,Ol=Symbol();function Mf(s){ar=!0;let e=Symbol();Ol=e,Qi.set(e,[]);let t=()=>{for(;Qi.get(e).length;)Qi.get(e).shift()();Qi.delete(e)},i=()=>{ar=!1,t()};s(t),i()}function Dl(s){let e=[],t=a=>e.push(a),[i,n]=cf(s);return e.push(n),[{Alpine:gs,effect:i,cleanup:t,evaluateLater:$e.bind($e,s),evaluate:li.bind(li,s)},()=>e.forEach(a=>a())]}function Of(s,e){let t=()=>{},i=or[e.type]||t,[n,r]=Dl(s);Cl(s,e.original,r);let o=()=>{s._x_ignore||s._x_ignoreSelf||(i.inline&&i.inline(s,e,n),i=i.bind(i,s,e,n),ar?Qi.get(Ol).push(i):i())};return o.runCleanups=r,o}var Pl=(s,e)=>({name:t,value:i})=>(t.startsWith(s)&&(t=t.replace(s,e)),{name:t,value:i}),Il=s=>s;function Hl(s=()=>{}){return({name:e,value:t})=>{let{name:i,value:n}=zl.reduce((r,o)=>o(r),{name:e,value:t});return i!==e&&s(i,e),{name:i,value:n}}}var zl=[];function Vr(s){zl.push(s)}function Fl({name:s}){return Bl().test(s)}var Bl=()=>new RegExp(`^${Br}([^:^.]+)\\b`);function Df(s,e){return({name:t,value:i})=>{let n=t.match(Bl()),r=t.match(/:([a-zA-Z0-9\-_:]+)/),o=t.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=e||s[t]||t;return{type:n?n[1]:null,value:r?r[1]:null,modifiers:o.map(l=>l.replace(".","")),expression:i,original:a}}}var lr="DEFAULT",oi=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",lr,"teleport"];function Pf(s,e){let t=oi.indexOf(s.type)===-1?lr:s.type,i=oi.indexOf(e.type)===-1?lr:e.type;return oi.indexOf(t)-oi.indexOf(i)}var ur=[],jr=!1;function Wr(s=()=>{}){return queueMicrotask(()=>{jr||setTimeout(()=>{dr()})}),new Promise(e=>{ur.push(()=>{s(),e()})})}function dr(){for(jr=!1;ur.length;)ur.shift()()}function If(){jr=!0}function Ur(s,e){return Array.isArray(e)?ya(s,e.join(" ")):typeof e=="object"&&e!==null?Hf(s,e):typeof e=="function"?Ur(s,e()):ya(s,e)}function ya(s,e){let t=n=>n.split(" ").filter(r=>!s.classList.contains(r)).filter(Boolean),i=n=>(s.classList.add(...n),()=>{s.classList.remove(...n)});return e=e===!0?e="":e||"",i(t(e))}function Hf(s,e){let t=a=>a.split(" ").filter(Boolean),i=Object.entries(e).flatMap(([a,l])=>l?t(a):!1).filter(Boolean),n=Object.entries(e).flatMap(([a,l])=>l?!1:t(a)).filter(Boolean),r=[],o=[];return n.forEach(a=>{s.classList.contains(a)&&(s.classList.remove(a),o.push(a))}),i.forEach(a=>{s.classList.contains(a)||(s.classList.add(a),r.push(a))}),()=>{o.forEach(a=>s.classList.add(a)),r.forEach(a=>s.classList.remove(a))}}function mn(s,e){return typeof e=="object"&&e!==null?zf(s,e):Ff(s,e)}function zf(s,e){let t={};return Object.entries(e).forEach(([i,n])=>{t[i]=s.style[i],i.startsWith("--")||(i=Bf(i)),s.style.setProperty(i,n)}),setTimeout(()=>{s.style.length===0&&s.removeAttribute("style")}),()=>{mn(s,t)}}function Ff(s,e){let t=s.getAttribute("style",e);return s.setAttribute("style",e),()=>{s.setAttribute("style",t||"")}}function Bf(s){return s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function hr(s,e=()=>{}){let t=!1;return function(){t?e.apply(this,arguments):(t=!0,s.apply(this,arguments))}}He("transition",(s,{value:e,modifiers:t,expression:i},{evaluate:n})=>{typeof i=="function"&&(i=n(i)),i!==!1&&(!i||typeof i=="boolean"?Vf(s,t,e):Nf(s,i,e))});function Nf(s,e,t){Nl(s,Ur,""),{enter:n=>{s._x_transition.enter.during=n},"enter-start":n=>{s._x_transition.enter.start=n},"enter-end":n=>{s._x_transition.enter.end=n},leave:n=>{s._x_transition.leave.during=n},"leave-start":n=>{s._x_transition.leave.start=n},"leave-end":n=>{s._x_transition.leave.end=n}}[t](e)}function Vf(s,e,t){Nl(s,mn);let i=!e.includes("in")&&!e.includes("out")&&!t,n=i||e.includes("in")||["enter"].includes(t),r=i||e.includes("out")||["leave"].includes(t);e.includes("in")&&!i&&(e=e.filter((A,F)=>F<e.indexOf("out"))),e.includes("out")&&!i&&(e=e.filter((A,F)=>F>e.indexOf("out")));let o=!e.includes("opacity")&&!e.includes("scale"),a=o||e.includes("opacity"),l=o||e.includes("scale"),c=a?0:1,p=l?Xi(e,"scale",95)/100:1,v=Xi(e,"delay",0)/1e3,y=Xi(e,"origin","center"),_="opacity, transform",T=Xi(e,"duration",150)/1e3,S=Xi(e,"duration",75)/1e3,L="cubic-bezier(0.4, 0.0, 0.2, 1)";n&&(s._x_transition.enter.during={transformOrigin:y,transitionDelay:`${v}s`,transitionProperty:_,transitionDuration:`${T}s`,transitionTimingFunction:L},s._x_transition.enter.start={opacity:c,transform:`scale(${p})`},s._x_transition.enter.end={opacity:1,transform:"scale(1)"}),r&&(s._x_transition.leave.during={transformOrigin:y,transitionDelay:`${v}s`,transitionProperty:_,transitionDuration:`${S}s`,transitionTimingFunction:L},s._x_transition.leave.start={opacity:1,transform:"scale(1)"},s._x_transition.leave.end={opacity:c,transform:`scale(${p})`})}function Nl(s,e,t={}){s._x_transition||(s._x_transition={enter:{during:t,start:t,end:t},leave:{during:t,start:t,end:t},in(i=()=>{},n=()=>{}){cr(s,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},i,n)},out(i=()=>{},n=()=>{}){cr(s,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},i,n)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(s,e,t,i){const n=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let r=()=>n(t);if(e){s._x_transition&&(s._x_transition.enter||s._x_transition.leave)?s._x_transition.enter&&(Object.entries(s._x_transition.enter.during).length||Object.entries(s._x_transition.enter.start).length||Object.entries(s._x_transition.enter.end).length)?s._x_transition.in(t):r():s._x_transition?s._x_transition.in(t):r();return}s._x_hidePromise=s._x_transition?new Promise((o,a)=>{s._x_transition.out(()=>{},()=>o(i)),s._x_transitioning&&s._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(i),queueMicrotask(()=>{let o=Vl(s);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(s)):n(()=>{let a=l=>{let c=Promise.all([l._x_hidePromise,...(l._x_hideChildren||[]).map(a)]).then(([p])=>p());return delete l._x_hidePromise,delete l._x_hideChildren,c};a(s).catch(l=>{if(!l.isFromCancelledTransition)throw l})})})};function Vl(s){let e=s.parentNode;if(e)return e._x_hidePromise?e:Vl(e)}function cr(s,e,{during:t,start:i,end:n}={},r=()=>{},o=()=>{}){if(s._x_transitioning&&s._x_transitioning.cancel(),Object.keys(t).length===0&&Object.keys(i).length===0&&Object.keys(n).length===0){r(),o();return}let a,l,c;jf(s,{start(){a=e(s,i)},during(){l=e(s,t)},before:r,end(){a(),c=e(s,n)},after:o,cleanup(){l(),c()}})}function jf(s,e){let t,i,n,r=hr(()=>{Ne(()=>{t=!0,i||e.before(),n||(e.end(),dr()),e.after(),s.isConnected&&e.cleanup(),delete s._x_transitioning})});s._x_transitioning={beforeCancels:[],beforeCancel(o){this.beforeCancels.push(o)},cancel:hr(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();r()}),finish:r},Ne(()=>{e.start(),e.during()}),If(),requestAnimationFrame(()=>{if(t)return;let o=Number(getComputedStyle(s).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(s).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;o===0&&(o=Number(getComputedStyle(s).animationDuration.replace("s",""))*1e3),Ne(()=>{e.before()}),i=!0,requestAnimationFrame(()=>{t||(Ne(()=>{e.end()}),dr(),setTimeout(s._x_transitioning.finish,o+a),n=!0)})})}function Xi(s,e,t){if(s.indexOf(e)===-1)return t;const i=s[s.indexOf(e)+1];if(!i||e==="scale"&&isNaN(i))return t;if(e==="duration"||e==="delay"){let n=i.match(/([0-9]+)ms/);if(n)return n[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(s[s.indexOf(e)+2])?[i,s[s.indexOf(e)+2]].join(" "):i}var Xt=!1;function ps(s,e=()=>{}){return(...t)=>Xt?e(...t):s(...t)}function Wf(s){return(...e)=>Xt&&s(...e)}var jl=[];function Wl(s){jl.push(s)}function Uf(s,e){jl.forEach(t=>t(s,e)),Xt=!0,Ul(()=>{Mt(e,(t,i)=>{i(t,()=>{})})}),Xt=!1}var fr=!1;function Gf(s,e){e._x_dataStack||(e._x_dataStack=s._x_dataStack),Xt=!0,fr=!0,Ul(()=>{qf(e)}),Xt=!1,fr=!1}function qf(s){let e=!1;Mt(s,(i,n)=>{Kt(i,(r,o)=>{if(e&&pf(r))return o();e=!0,n(r,o)})})}function Ul(s){let e=Ni;va((t,i)=>{let n=e(t);return hs(n),()=>{}}),s(),va(e)}function Gl(s,e,t,i=[]){switch(s._x_bindings||(s._x_bindings=Bi({})),s._x_bindings[e]=t,e=i.includes("camel")?ep(e):e,e){case"value":$f(s,t);break;case"style":Xf(s,t);break;case"class":Kf(s,t);break;case"selected":case"checked":Jf(s,e,t);break;default:ql(s,e,t);break}}function $f(s,e){if(s.type==="radio")s.attributes.value===void 0&&(s.value=e),window.fromModel&&(typeof e=="boolean"?s.checked=Ws(s.value)===e:s.checked=Ca(s.value,e));else if(s.type==="checkbox")Number.isInteger(e)?s.value=e:!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?s.value=String(e):Array.isArray(e)?s.checked=e.some(t=>Ca(t,s.value)):s.checked=!!e;else if(s.tagName==="SELECT")Qf(s,e);else{if(s.value===e)return;s.value=e===void 0?"":e}}function Kf(s,e){s._x_undoAddedClasses&&s._x_undoAddedClasses(),s._x_undoAddedClasses=Ur(s,e)}function Xf(s,e){s._x_undoAddedStyles&&s._x_undoAddedStyles(),s._x_undoAddedStyles=mn(s,e)}function Jf(s,e,t){ql(s,e,t),Zf(s,e,t)}function ql(s,e,t){[null,void 0,!1].includes(t)&&tp(e)?s.removeAttribute(e):($l(e)&&(t=e),Yf(s,e,t))}function Yf(s,e,t){s.getAttribute(e)!=t&&s.setAttribute(e,t)}function Zf(s,e,t){s[e]!==t&&(s[e]=t)}function Qf(s,e){const t=[].concat(e).map(i=>i+"");Array.from(s.options).forEach(i=>{i.selected=t.includes(i.value)})}function ep(s){return s.toLowerCase().replace(/-(\w)/g,(e,t)=>t.toUpperCase())}function Ca(s,e){return s==e}function Ws(s){return[1,"1","true","on","yes",!0].includes(s)?!0:[0,"0","false","off","no",!1].includes(s)?!1:s?!!s:null}function $l(s){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(s)}function tp(s){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(s)}function ip(s,e,t){return s._x_bindings&&s._x_bindings[e]!==void 0?s._x_bindings[e]:Kl(s,e,t)}function sp(s,e,t,i=!0){if(s._x_bindings&&s._x_bindings[e]!==void 0)return s._x_bindings[e];if(s._x_inlineBindings&&s._x_inlineBindings[e]!==void 0){let n=s._x_inlineBindings[e];return n.extract=i,Rl(()=>li(s,n.expression))}return Kl(s,e,t)}function Kl(s,e,t){let i=s.getAttribute(e);return i===null?typeof t=="function"?t():t:i===""?!0:$l(e)?!![e,"true"].includes(i):i}function Xl(s,e){var t;return function(){var i=this,n=arguments,r=function(){t=null,s.apply(i,n)};clearTimeout(t),t=setTimeout(r,e)}}function Jl(s,e){let t;return function(){let i=this,n=arguments;t||(s.apply(i,n),t=!0,setTimeout(()=>t=!1,e))}}function Yl({get:s,set:e},{get:t,set:i}){let n=!0,r,o=Ni(()=>{const a=s(),l=t();if(n)i(qn(a)),n=!1,r=JSON.stringify(a);else{const c=JSON.stringify(a);c!==r?(i(qn(a)),r=c):(e(qn(l)),r=JSON.stringify(l))}JSON.stringify(t()),JSON.stringify(s())});return()=>{hs(o)}}function qn(s){return typeof s=="object"?JSON.parse(JSON.stringify(s)):s}function np(s){(Array.isArray(s)?s:[s]).forEach(t=>t(gs))}var si={},Ea=!1;function rp(s,e){if(Ea||(si=Bi(si),Ea=!0),e===void 0)return si[s];si[s]=e,typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&si[s].init(),Tl(si[s])}function op(){return si}var Zl={};function ap(s,e){let t=typeof e!="function"?()=>e:e;return s instanceof Element?Ql(s,t()):(Zl[s]=t,()=>{})}function lp(s){return Object.entries(Zl).forEach(([e,t])=>{Object.defineProperty(s,e,{get(){return(...i)=>t(...i)}})}),s}function Ql(s,e,t){let i=[];for(;i.length;)i.pop()();let n=Object.entries(e).map(([o,a])=>({name:o,value:a})),r=Ml(n);return n=n.map(o=>r.find(a=>a.name===o.name)?{name:`x-bind:${o.name}`,value:`"${o.value}"`}:o),Nr(s,n,t).map(o=>{i.push(o.runCleanups),o()}),()=>{for(;i.length;)i.pop()()}}var eu={};function up(s,e){eu[s]=e}function dp(s,e){return Object.entries(eu).forEach(([t,i])=>{Object.defineProperty(s,t,{get(){return(...n)=>i.bind(e)(...n)},enumerable:!1})}),s}var hp={get reactive(){return Bi},get release(){return hs},get effect(){return Ni},get raw(){return dl},version:"3.13.3",flushAndStopDeferringMutations:Cf,dontAutoEvaluateFunctions:Rl,disableEffectScheduling:df,startObservingMutations:Hr,stopObservingMutations:xl,setReactivityEngine:hf,onAttributeRemoved:Cl,onAttributesAdded:yl,closestDataStack:Ri,skipDuringClone:ps,onlyDuringClone:Wf,addRootSelector:pl,addInitSelector:gl,interceptClone:Wl,addScopeToNode:cs,deferMutations:yf,mapAttributes:Vr,evaluateLater:$e,interceptInit:gf,setEvaluator:kf,mergeProxies:fs,extractProp:sp,findClosest:gn,onElRemoved:Dr,closestRoot:pn,destroyTree:Or,interceptor:kl,transition:cr,setStyles:mn,mutateDom:Ne,directive:He,entangle:Yl,throttle:Jl,debounce:Xl,evaluate:li,initTree:Mt,nextTick:Wr,prefixed:Vi,prefix:Af,plugin:np,magic:pt,store:rp,start:ff,clone:Gf,cloneNode:Uf,bound:ip,$data:_l,walk:Kt,data:up,bind:ap},gs=hp;function cp(s,e){const t=Object.create(null),i=s.split(",");for(let n=0;n<i.length;n++)t[i[n]]=!0;return e?n=>!!t[n.toLowerCase()]:n=>!!t[n]}var fp=Object.freeze({}),pp=Object.prototype.hasOwnProperty,bn=(s,e)=>pp.call(s,e),ui=Array.isArray,is=s=>tu(s)==="[object Map]",gp=s=>typeof s=="string",Gr=s=>typeof s=="symbol",vn=s=>s!==null&&typeof s=="object",mp=Object.prototype.toString,tu=s=>mp.call(s),iu=s=>tu(s).slice(8,-1),qr=s=>gp(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,bp=s=>{const e=Object.create(null);return t=>e[t]||(e[t]=s(t))},vp=bp(s=>s.charAt(0).toUpperCase()+s.slice(1)),su=(s,e)=>s!==e&&(s===s||e===e),pr=new WeakMap,Ji=[],mt,di=Symbol("iterate"),gr=Symbol("Map key iterate");function wp(s){return s&&s._isEffect===!0}function yp(s,e=fp){wp(s)&&(s=s.raw);const t=xp(s,e);return e.lazy||t(),t}function Cp(s){s.active&&(nu(s),s.options.onStop&&s.options.onStop(),s.active=!1)}var Ep=0;function xp(s,e){const t=function(){if(!t.active)return s();if(!Ji.includes(t)){nu(t);try{return Tp(),Ji.push(t),mt=t,s()}finally{Ji.pop(),ru(),mt=Ji[Ji.length-1]}}};return t.id=Ep++,t.allowRecurse=!!e.allowRecurse,t._isEffect=!0,t.active=!0,t.raw=s,t.deps=[],t.options=e,t}function nu(s){const{deps:e}=s;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(s);e.length=0}}var Li=!0,$r=[];function _p(){$r.push(Li),Li=!1}function Tp(){$r.push(Li),Li=!0}function ru(){const s=$r.pop();Li=s===void 0?!0:s}function ft(s,e,t){if(!Li||mt===void 0)return;let i=pr.get(s);i||pr.set(s,i=new Map);let n=i.get(t);n||i.set(t,n=new Set),n.has(mt)||(n.add(mt),mt.deps.push(n),mt.options.onTrack&&mt.options.onTrack({effect:mt,target:s,type:e,key:t}))}function Jt(s,e,t,i,n,r){const o=pr.get(s);if(!o)return;const a=new Set,l=p=>{p&&p.forEach(v=>{(v!==mt||v.allowRecurse)&&a.add(v)})};if(e==="clear")o.forEach(l);else if(t==="length"&&ui(s))o.forEach((p,v)=>{(v==="length"||v>=i)&&l(p)});else switch(t!==void 0&&l(o.get(t)),e){case"add":ui(s)?qr(t)&&l(o.get("length")):(l(o.get(di)),is(s)&&l(o.get(gr)));break;case"delete":ui(s)||(l(o.get(di)),is(s)&&l(o.get(gr)));break;case"set":is(s)&&l(o.get(di));break}const c=p=>{p.options.onTrigger&&p.options.onTrigger({effect:p,target:s,key:t,type:e,newValue:i,oldValue:n,oldTarget:r}),p.options.scheduler?p.options.scheduler(p):p()};a.forEach(c)}var kp=cp("__proto__,__v_isRef,__isVue"),ou=new Set(Object.getOwnPropertyNames(Symbol).map(s=>Symbol[s]).filter(Gr)),Sp=au(),Rp=au(!0),xa=Lp();function Lp(){const s={};return["includes","indexOf","lastIndexOf"].forEach(e=>{s[e]=function(...t){const i=Se(this);for(let r=0,o=this.length;r<o;r++)ft(i,"get",r+"");const n=i[e](...t);return n===-1||n===!1?i[e](...t.map(Se)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{s[e]=function(...t){_p();const i=Se(this)[e].apply(this,t);return ru(),i}}),s}function au(s=!1,e=!1){return function(i,n,r){if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_raw"&&r===(s?e?Gp:hu:e?Up:du).get(i))return i;const o=ui(i);if(!s&&o&&bn(xa,n))return Reflect.get(xa,n,r);const a=Reflect.get(i,n,r);return(Gr(n)?ou.has(n):kp(n))||(s||ft(i,"get",n),e)?a:mr(a)?!o||!qr(n)?a.value:a:vn(a)?s?cu(a):Yr(a):a}}var Ap=Mp();function Mp(s=!1){return function(t,i,n,r){let o=t[i];if(!s&&(n=Se(n),o=Se(o),!ui(t)&&mr(o)&&!mr(n)))return o.value=n,!0;const a=ui(t)&&qr(i)?Number(i)<t.length:bn(t,i),l=Reflect.set(t,i,n,r);return t===Se(r)&&(a?su(n,o)&&Jt(t,"set",i,n,o):Jt(t,"add",i,n)),l}}function Op(s,e){const t=bn(s,e),i=s[e],n=Reflect.deleteProperty(s,e);return n&&t&&Jt(s,"delete",e,void 0,i),n}function Dp(s,e){const t=Reflect.has(s,e);return(!Gr(e)||!ou.has(e))&&ft(s,"has",e),t}function Pp(s){return ft(s,"iterate",ui(s)?"length":di),Reflect.ownKeys(s)}var Ip={get:Sp,set:Ap,deleteProperty:Op,has:Dp,ownKeys:Pp},Hp={get:Rp,set(s,e){return console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,s),!0},deleteProperty(s,e){return console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,s),!0}},Kr=s=>vn(s)?Yr(s):s,Xr=s=>vn(s)?cu(s):s,Jr=s=>s,wn=s=>Reflect.getPrototypeOf(s);function Ds(s,e,t=!1,i=!1){s=s.__v_raw;const n=Se(s),r=Se(e);e!==r&&!t&&ft(n,"get",e),!t&&ft(n,"get",r);const{has:o}=wn(n),a=i?Jr:t?Xr:Kr;if(o.call(n,e))return a(s.get(e));if(o.call(n,r))return a(s.get(r));s!==n&&s.get(e)}function Ps(s,e=!1){const t=this.__v_raw,i=Se(t),n=Se(s);return s!==n&&!e&&ft(i,"has",s),!e&&ft(i,"has",n),s===n?t.has(s):t.has(s)||t.has(n)}function Is(s,e=!1){return s=s.__v_raw,!e&&ft(Se(s),"iterate",di),Reflect.get(s,"size",s)}function _a(s){s=Se(s);const e=Se(this);return wn(e).has.call(e,s)||(e.add(s),Jt(e,"add",s,s)),this}function Ta(s,e){e=Se(e);const t=Se(this),{has:i,get:n}=wn(t);let r=i.call(t,s);r?uu(t,i,s):(s=Se(s),r=i.call(t,s));const o=n.call(t,s);return t.set(s,e),r?su(e,o)&&Jt(t,"set",s,e,o):Jt(t,"add",s,e),this}function ka(s){const e=Se(this),{has:t,get:i}=wn(e);let n=t.call(e,s);n?uu(e,t,s):(s=Se(s),n=t.call(e,s));const r=i?i.call(e,s):void 0,o=e.delete(s);return n&&Jt(e,"delete",s,void 0,r),o}function Sa(){const s=Se(this),e=s.size!==0,t=is(s)?new Map(s):new Set(s),i=s.clear();return e&&Jt(s,"clear",void 0,void 0,t),i}function Hs(s,e){return function(i,n){const r=this,o=r.__v_raw,a=Se(o),l=e?Jr:s?Xr:Kr;return!s&&ft(a,"iterate",di),o.forEach((c,p)=>i.call(n,l(c),l(p),r))}}function zs(s,e,t){return function(...i){const n=this.__v_raw,r=Se(n),o=is(r),a=s==="entries"||s===Symbol.iterator&&o,l=s==="keys"&&o,c=n[s](...i),p=t?Jr:e?Xr:Kr;return!e&&ft(r,"iterate",l?gr:di),{next(){const{value:v,done:y}=c.next();return y?{value:v,done:y}:{value:a?[p(v[0]),p(v[1])]:p(v),done:y}},[Symbol.iterator](){return this}}}}function Ft(s){return function(...e){{const t=e[0]?`on key "${e[0]}" `:"";console.warn(`${vp(s)} operation ${t}failed: target is readonly.`,Se(this))}return s==="delete"?!1:this}}function zp(){const s={get(r){return Ds(this,r)},get size(){return Is(this)},has:Ps,add:_a,set:Ta,delete:ka,clear:Sa,forEach:Hs(!1,!1)},e={get(r){return Ds(this,r,!1,!0)},get size(){return Is(this)},has:Ps,add:_a,set:Ta,delete:ka,clear:Sa,forEach:Hs(!1,!0)},t={get(r){return Ds(this,r,!0)},get size(){return Is(this,!0)},has(r){return Ps.call(this,r,!0)},add:Ft("add"),set:Ft("set"),delete:Ft("delete"),clear:Ft("clear"),forEach:Hs(!0,!1)},i={get(r){return Ds(this,r,!0,!0)},get size(){return Is(this,!0)},has(r){return Ps.call(this,r,!0)},add:Ft("add"),set:Ft("set"),delete:Ft("delete"),clear:Ft("clear"),forEach:Hs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=zs(r,!1,!1),t[r]=zs(r,!0,!1),e[r]=zs(r,!1,!0),i[r]=zs(r,!0,!0)}),[s,t,e,i]}var[Fp,Bp,Np,Vp]=zp();function lu(s,e){const t=e?s?Vp:Np:s?Bp:Fp;return(i,n,r)=>n==="__v_isReactive"?!s:n==="__v_isReadonly"?s:n==="__v_raw"?i:Reflect.get(bn(t,n)&&n in i?t:i,n,r)}var jp={get:lu(!1,!1)},Wp={get:lu(!0,!1)};function uu(s,e,t){const i=Se(t);if(i!==t&&e.call(s,i)){const n=iu(s);console.warn(`Reactive ${n} contains both the raw and reactive versions of the same object${n==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var du=new WeakMap,Up=new WeakMap,hu=new WeakMap,Gp=new WeakMap;function qp(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $p(s){return s.__v_skip||!Object.isExtensible(s)?0:qp(iu(s))}function Yr(s){return s&&s.__v_isReadonly?s:fu(s,!1,Ip,jp,du)}function cu(s){return fu(s,!0,Hp,Wp,hu)}function fu(s,e,t,i,n){if(!vn(s))return console.warn(`value cannot be made reactive: ${String(s)}`),s;if(s.__v_raw&&!(e&&s.__v_isReactive))return s;const r=n.get(s);if(r)return r;const o=$p(s);if(o===0)return s;const a=new Proxy(s,o===2?i:t);return n.set(s,a),a}function Se(s){return s&&Se(s.__v_raw)||s}function mr(s){return!!(s&&s.__v_isRef===!0)}pt("nextTick",()=>Wr);pt("dispatch",s=>es.bind(es,s));pt("watch",(s,{evaluateLater:e,effect:t})=>(i,n)=>{let r=e(i),o=!0,a,l=t(()=>r(c=>{JSON.stringify(c),o?a=c:queueMicrotask(()=>{n(c,a),a=c}),o=!1}));s._x_effects.delete(l)});pt("store",op);pt("data",s=>_l(s));pt("root",s=>pn(s));pt("refs",s=>(s._x_refs_proxy||(s._x_refs_proxy=fs(Kp(s))),s._x_refs_proxy));function Kp(s){let e=[],t=s;for(;t;)t._x_refs&&e.push(t._x_refs),t=t.parentNode;return e}var $n={};function pu(s){return $n[s]||($n[s]=0),++$n[s]}function Xp(s,e){return gn(s,t=>{if(t._x_ids&&t._x_ids[e])return!0})}function Jp(s,e){s._x_ids||(s._x_ids={}),s._x_ids[e]||(s._x_ids[e]=pu(e))}pt("id",s=>(e,t=null)=>{let i=Xp(s,e),n=i?i._x_ids[e]:pu(e);return t?`${e}-${n}-${t}`:`${e}-${n}`});pt("el",s=>s);gu("Focus","focus","focus");gu("Persist","persist","persist");function gu(s,e,t){pt(e,i=>At(`You can't use [$${e}] without first installing the "${s}" plugin here: https://alpinejs.dev/plugins/${t}`,i))}He("modelable",(s,{expression:e},{effect:t,evaluateLater:i,cleanup:n})=>{let r=i(e),o=()=>{let p;return r(v=>p=v),p},a=i(`${e} = __placeholder`),l=p=>a(()=>{},{scope:{__placeholder:p}}),c=o();l(c),queueMicrotask(()=>{if(!s._x_model)return;s._x_removeModelListeners.default();let p=s._x_model.get,v=s._x_model.set,y=Yl({get(){return p()},set(_){v(_)}},{get(){return o()},set(_){l(_)}});n(y)})});He("teleport",(s,{modifiers:e,expression:t},{cleanup:i})=>{s.tagName.toLowerCase()!=="template"&&At("x-teleport can only be used on a <template> tag",s);let n=Ra(t),r=s.content.cloneNode(!0).firstElementChild;s._x_teleport=r,r._x_teleportBack=s,s.setAttribute("data-teleport-template",!0),r.setAttribute("data-teleport-target",!0),s._x_forwardEvents&&s._x_forwardEvents.forEach(a=>{r.addEventListener(a,l=>{l.stopPropagation(),s.dispatchEvent(new l.constructor(l.type,l))})}),cs(r,{},s);let o=(a,l,c)=>{c.includes("prepend")?l.parentNode.insertBefore(a,l):c.includes("append")?l.parentNode.insertBefore(a,l.nextSibling):l.appendChild(a)};Ne(()=>{o(r,n,e),Mt(r),r._x_ignore=!0}),s._x_teleportPutBack=()=>{let a=Ra(t);Ne(()=>{o(s._x_teleport,a,e)})},i(()=>r.remove())});var Yp=document.createElement("div");function Ra(s){let e=ps(()=>document.querySelector(s),()=>Yp)();return e||At(`Cannot find x-teleport element for selector: "${s}"`),e}var mu=()=>{};mu.inline=(s,{modifiers:e},{cleanup:t})=>{e.includes("self")?s._x_ignoreSelf=!0:s._x_ignore=!0,t(()=>{e.includes("self")?delete s._x_ignoreSelf:delete s._x_ignore})};He("ignore",mu);He("effect",ps((s,{expression:e},{effect:t})=>{t($e(s,e))}));function br(s,e,t,i){let n=s,r=l=>i(l),o={},a=(l,c)=>p=>c(l,p);if(t.includes("dot")&&(e=Zp(e)),t.includes("camel")&&(e=Qp(e)),t.includes("passive")&&(o.passive=!0),t.includes("capture")&&(o.capture=!0),t.includes("window")&&(n=window),t.includes("document")&&(n=document),t.includes("debounce")){let l=t[t.indexOf("debounce")+1]||"invalid-wait",c=Zs(l.split("ms")[0])?Number(l.split("ms")[0]):250;r=Xl(r,c)}if(t.includes("throttle")){let l=t[t.indexOf("throttle")+1]||"invalid-wait",c=Zs(l.split("ms")[0])?Number(l.split("ms")[0]):250;r=Jl(r,c)}return t.includes("prevent")&&(r=a(r,(l,c)=>{c.preventDefault(),l(c)})),t.includes("stop")&&(r=a(r,(l,c)=>{c.stopPropagation(),l(c)})),t.includes("self")&&(r=a(r,(l,c)=>{c.target===s&&l(c)})),(t.includes("away")||t.includes("outside"))&&(n=document,r=a(r,(l,c)=>{s.contains(c.target)||c.target.isConnected!==!1&&(s.offsetWidth<1&&s.offsetHeight<1||s._x_isShown!==!1&&l(c))})),t.includes("once")&&(r=a(r,(l,c)=>{l(c),n.removeEventListener(e,r,o)})),r=a(r,(l,c)=>{tg(e)&&ig(c,t)||l(c)}),n.addEventListener(e,r,o),()=>{n.removeEventListener(e,r,o)}}function Zp(s){return s.replace(/-/g,".")}function Qp(s){return s.toLowerCase().replace(/-(\w)/g,(e,t)=>t.toUpperCase())}function Zs(s){return!Array.isArray(s)&&!isNaN(s)}function eg(s){return[" ","_"].includes(s)?s:s.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function tg(s){return["keydown","keyup"].includes(s)}function ig(s,e){let t=e.filter(r=>!["window","document","prevent","stop","once","capture"].includes(r));if(t.includes("debounce")){let r=t.indexOf("debounce");t.splice(r,Zs((t[r+1]||"invalid-wait").split("ms")[0])?2:1)}if(t.includes("throttle")){let r=t.indexOf("throttle");t.splice(r,Zs((t[r+1]||"invalid-wait").split("ms")[0])?2:1)}if(t.length===0||t.length===1&&La(s.key).includes(t[0]))return!1;const n=["ctrl","shift","alt","meta","cmd","super"].filter(r=>t.includes(r));return t=t.filter(r=>!n.includes(r)),!(n.length>0&&n.filter(o=>((o==="cmd"||o==="super")&&(o="meta"),s[`${o}Key`])).length===n.length&&La(s.key).includes(t[0]))}function La(s){if(!s)return[];s=eg(s);let e={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return e[s]=s,Object.keys(e).map(t=>{if(e[t]===s)return t}).filter(t=>t)}He("model",(s,{modifiers:e,expression:t},{effect:i,cleanup:n})=>{let r=s;e.includes("parent")&&(r=s.parentNode);let o=$e(r,t),a;typeof t=="string"?a=$e(r,`${t} = __placeholder`):typeof t=="function"&&typeof t()=="string"?a=$e(r,`${t()} = __placeholder`):a=()=>{};let l=()=>{let y;return o(_=>y=_),Aa(y)?y.get():y},c=y=>{let _;o(T=>_=T),Aa(_)?_.set(y):a(()=>{},{scope:{__placeholder:y}})};typeof t=="string"&&s.type==="radio"&&Ne(()=>{s.hasAttribute("name")||s.setAttribute("name",t)});var p=s.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(s.type)||e.includes("lazy")?"change":"input";let v=Xt?()=>{}:br(s,p,e,y=>{c(sg(s,e,y,l()))});if(e.includes("fill")&&([null,""].includes(l())||s.type==="checkbox"&&Array.isArray(l()))&&s.dispatchEvent(new Event(p,{})),s._x_removeModelListeners||(s._x_removeModelListeners={}),s._x_removeModelListeners.default=v,n(()=>s._x_removeModelListeners.default()),s.form){let y=br(s.form,"reset",[],_=>{Wr(()=>s._x_model&&s._x_model.set(s.value))});n(()=>y())}s._x_model={get(){return l()},set(y){c(y)}},s._x_forceModelUpdate=y=>{y===void 0&&typeof t=="string"&&t.match(/\./)&&(y=""),window.fromModel=!0,Ne(()=>Gl(s,"value",y)),delete window.fromModel},i(()=>{let y=l();e.includes("unintrusive")&&document.activeElement.isSameNode(s)||s._x_forceModelUpdate(y)})});function sg(s,e,t,i){return Ne(()=>{if(t instanceof CustomEvent&&t.detail!==void 0)return t.detail!==null&&t.detail!==void 0?t.detail:t.target.value;if(s.type==="checkbox")if(Array.isArray(i)){let n=null;return e.includes("number")?n=Kn(t.target.value):e.includes("boolean")?n=Ws(t.target.value):n=t.target.value,t.target.checked?i.concat([n]):i.filter(r=>!ng(r,n))}else return t.target.checked;else return s.tagName.toLowerCase()==="select"&&s.multiple?e.includes("number")?Array.from(t.target.selectedOptions).map(n=>{let r=n.value||n.text;return Kn(r)}):e.includes("boolean")?Array.from(t.target.selectedOptions).map(n=>{let r=n.value||n.text;return Ws(r)}):Array.from(t.target.selectedOptions).map(n=>n.value||n.text):e.includes("number")?Kn(t.target.value):e.includes("boolean")?Ws(t.target.value):e.includes("trim")?t.target.value.trim():t.target.value})}function Kn(s){let e=s?parseFloat(s):null;return rg(e)?e:s}function ng(s,e){return s==e}function rg(s){return!Array.isArray(s)&&!isNaN(s)}function Aa(s){return s!==null&&typeof s=="object"&&typeof s.get=="function"&&typeof s.set=="function"}He("cloak",s=>queueMicrotask(()=>Ne(()=>s.removeAttribute(Vi("cloak")))));gl(()=>`[${Vi("init")}]`);He("init",ps((s,{expression:e},{evaluate:t})=>typeof e=="string"?!!e.trim()&&t(e,{},!1):t(e,{},!1)));He("text",(s,{expression:e},{effect:t,evaluateLater:i})=>{let n=i(e);t(()=>{n(r=>{Ne(()=>{s.textContent=r})})})});He("html",(s,{expression:e},{effect:t,evaluateLater:i})=>{let n=i(e);t(()=>{n(r=>{Ne(()=>{s.innerHTML=r,s._x_ignoreSelf=!0,Mt(s),delete s._x_ignoreSelf})})})});Vr(Pl(":",Il(Vi("bind:"))));var bu=(s,{value:e,modifiers:t,expression:i,original:n},{effect:r})=>{if(!e){let a={};lp(a),$e(s,i)(c=>{Ql(s,c,n)},{scope:a});return}if(e==="key")return og(s,i);if(s._x_inlineBindings&&s._x_inlineBindings[e]&&s._x_inlineBindings[e].extract)return;let o=$e(s,i);r(()=>o(a=>{a===void 0&&typeof i=="string"&&i.match(/\./)&&(a=""),Ne(()=>Gl(s,e,a,t))}))};bu.inline=(s,{value:e,modifiers:t,expression:i})=>{e&&(s._x_inlineBindings||(s._x_inlineBindings={}),s._x_inlineBindings[e]={expression:i,extract:!1})};He("bind",bu);function og(s,e){s._x_keyExpression=e}pl(()=>`[${Vi("data")}]`);He("data",(s,{expression:e},{cleanup:t})=>{if(ag(s))return;e=e===""?"{}":e;let i={};rr(i,s);let n={};dp(n,i);let r=li(s,e,{scope:n});(r===void 0||r===!0)&&(r={}),rr(r,s);let o=Bi(r);Tl(o);let a=cs(s,o);o.init&&li(s,o.init),t(()=>{o.destroy&&li(s,o.destroy),a()})});Wl((s,e)=>{s._x_dataStack&&(e._x_dataStack=s._x_dataStack,e.setAttribute("data-has-alpine-state",!0))});function ag(s){return Xt?fr?!0:s.hasAttribute("data-has-alpine-state"):!1}He("show",(s,{modifiers:e,expression:t},{effect:i})=>{let n=$e(s,t);s._x_doHide||(s._x_doHide=()=>{Ne(()=>{s.style.setProperty("display","none",e.includes("important")?"important":void 0)})}),s._x_doShow||(s._x_doShow=()=>{Ne(()=>{s.style.length===1&&s.style.display==="none"?s.removeAttribute("style"):s.style.removeProperty("display")})});let r=()=>{s._x_doHide(),s._x_isShown=!1},o=()=>{s._x_doShow(),s._x_isShown=!0},a=()=>setTimeout(o),l=hr(v=>v?o():r(),v=>{typeof s._x_toggleAndCascadeWithTransitions=="function"?s._x_toggleAndCascadeWithTransitions(s,v,o,r):v?a():r()}),c,p=!0;i(()=>n(v=>{!p&&v===c||(e.includes("immediate")&&(v?a():r()),l(v),c=v,p=!1)}))});He("for",(s,{expression:e},{effect:t,cleanup:i})=>{let n=ug(e),r=$e(s,n.items),o=$e(s,s._x_keyExpression||"index");s._x_prevKeys=[],s._x_lookup={},t(()=>lg(s,n,r,o)),i(()=>{Object.values(s._x_lookup).forEach(a=>a.remove()),delete s._x_prevKeys,delete s._x_lookup})});function lg(s,e,t,i){let n=o=>typeof o=="object"&&!Array.isArray(o),r=s;t(o=>{dg(o)&&o>=0&&(o=Array.from(Array(o).keys(),L=>L+1)),o===void 0&&(o=[]);let a=s._x_lookup,l=s._x_prevKeys,c=[],p=[];if(n(o))o=Object.entries(o).map(([L,A])=>{let F=Ma(e,A,L,o);i(j=>p.push(j),{scope:{index:L,...F}}),c.push(F)});else for(let L=0;L<o.length;L++){let A=Ma(e,o[L],L,o);i(F=>p.push(F),{scope:{index:L,...A}}),c.push(A)}let v=[],y=[],_=[],T=[];for(let L=0;L<l.length;L++){let A=l[L];p.indexOf(A)===-1&&_.push(A)}l=l.filter(L=>!_.includes(L));let S="template";for(let L=0;L<p.length;L++){let A=p[L],F=l.indexOf(A);if(F===-1)l.splice(L,0,A),v.push([S,L]);else if(F!==L){let j=l.splice(L,1)[0],B=l.splice(F-1,1)[0];l.splice(L,0,B),l.splice(F,0,j),y.push([j,B])}else T.push(A);S=A}for(let L=0;L<_.length;L++){let A=_[L];a[A]._x_effects&&a[A]._x_effects.forEach(ul),a[A].remove(),a[A]=null,delete a[A]}for(let L=0;L<y.length;L++){let[A,F]=y[L],j=a[A],B=a[F],V=document.createElement("div");Ne(()=>{B||At('x-for ":key" is undefined or invalid',r),B.after(V),j.after(B),B._x_currentIfEl&&B.after(B._x_currentIfEl),V.before(j),j._x_currentIfEl&&j.after(j._x_currentIfEl),V.remove()}),B._x_refreshXForScope(c[p.indexOf(F)])}for(let L=0;L<v.length;L++){let[A,F]=v[L],j=A==="template"?r:a[A];j._x_currentIfEl&&(j=j._x_currentIfEl);let B=c[F],V=p[F],q=document.importNode(r.content,!0).firstElementChild,ie=Bi(B);cs(q,ie,r),q._x_refreshXForScope=ee=>{Object.entries(ee).forEach(([be,ve])=>{ie[be]=ve})},Ne(()=>{j.after(q),Mt(q)}),typeof V=="object"&&At("x-for key cannot be an object, it must be a string or an integer",r),a[V]=q}for(let L=0;L<T.length;L++)a[T[L]]._x_refreshXForScope(c[p.indexOf(T[L])]);r._x_prevKeys=p})}function ug(s){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,t=/^\s*\(|\)\s*$/g,i=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,n=s.match(i);if(!n)return;let r={};r.items=n[2].trim();let o=n[1].replace(t,"").trim(),a=o.match(e);return a?(r.item=o.replace(e,"").trim(),r.index=a[1].trim(),a[2]&&(r.collection=a[2].trim())):r.item=o,r}function Ma(s,e,t,i){let n={};return/^\[.*\]$/.test(s.item)&&Array.isArray(e)?s.item.replace("[","").replace("]","").split(",").map(o=>o.trim()).forEach((o,a)=>{n[o]=e[a]}):/^\{.*\}$/.test(s.item)&&!Array.isArray(e)&&typeof e=="object"?s.item.replace("{","").replace("}","").split(",").map(o=>o.trim()).forEach(o=>{n[o]=e[o]}):n[s.item]=e,s.index&&(n[s.index]=t),s.collection&&(n[s.collection]=i),n}function dg(s){return!Array.isArray(s)&&!isNaN(s)}function vu(){}vu.inline=(s,{expression:e},{cleanup:t})=>{let i=pn(s);i._x_refs||(i._x_refs={}),i._x_refs[e]=s,t(()=>delete i._x_refs[e])};He("ref",vu);He("if",(s,{expression:e},{effect:t,cleanup:i})=>{s.tagName.toLowerCase()!=="template"&&At("x-if can only be used on a <template> tag",s);let n=$e(s,e),r=()=>{if(s._x_currentIfEl)return s._x_currentIfEl;let a=s.content.cloneNode(!0).firstElementChild;return cs(a,{},s),Ne(()=>{s.after(a),Mt(a)}),s._x_currentIfEl=a,s._x_undoIf=()=>{Kt(a,l=>{l._x_effects&&l._x_effects.forEach(ul)}),a.remove(),delete s._x_currentIfEl},a},o=()=>{s._x_undoIf&&(s._x_undoIf(),delete s._x_undoIf)};t(()=>n(a=>{a?r():o()})),i(()=>s._x_undoIf&&s._x_undoIf())});He("id",(s,{expression:e},{evaluate:t})=>{t(e).forEach(n=>Jp(s,n))});Vr(Pl("@",Il(Vi("on:"))));He("on",ps((s,{value:e,modifiers:t,expression:i},{cleanup:n})=>{let r=i?$e(s,i):()=>{};s.tagName.toLowerCase()==="template"&&(s._x_forwardEvents||(s._x_forwardEvents=[]),s._x_forwardEvents.includes(e)||s._x_forwardEvents.push(e));let o=br(s,e,t,a=>{r(()=>{},{scope:{$event:a},params:[a]})});n(()=>o())}));yn("Collapse","collapse","collapse");yn("Intersect","intersect","intersect");yn("Focus","trap","focus");yn("Mask","mask","mask");function yn(s,e,t){He(e,i=>At(`You can't use [x-${e}] without first installing the "${s}" plugin here: https://alpinejs.dev/plugins/${t}`,i))}gs.setEvaluator(Al);gs.setReactivityEngine({reactive:Yr,effect:yp,release:Cp,raw:Se});var hg=gs,bi=hg;const cg={route:{url:"",name:""},isLoading:!0,openUser:!1,async init(){this.isLoading=!1}},fg=()=>cg;class Qe{constructor(e){this.table=e}reloadData(e,t,i){return this.table.dataLoader.load(e,void 0,void 0,void 0,t,i)}langText(){return this.table.modules.localize.getText(...arguments)}langBind(){return this.table.modules.localize.bind(...arguments)}langLocale(){return this.table.modules.localize.getLocale(...arguments)}commsConnections(){return this.table.modules.comms.getConnections(...arguments)}commsSend(){return this.table.modules.comms.send(...arguments)}layoutMode(){return this.table.modules.layout.getMode()}layoutRefresh(e){return this.table.modules.layout.layout(e)}subscribe(){return this.table.eventBus.subscribe(...arguments)}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments)}subscribed(e){return this.table.eventBus.subscribed(e)}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments)}dispatch(){return this.table.eventBus.dispatch(...arguments)}chain(){return this.table.eventBus.chain(...arguments)}confirm(){return this.table.eventBus.confirm(...arguments)}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments)}subscribedExternal(e){return this.table.externalEvents.subscribed(e)}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments)}options(e){return this.table.options[e]}setOption(e,t){return typeof t<"u"&&(this.table.options[e]=t),this.table.options[e]}deprecationCheck(e,t){return this.table.deprecationAdvisor.check(e,t)}deprecationCheckMsg(e,t){return this.table.deprecationAdvisor.checkMsg(e,t)}deprecationMsg(e){return this.table.deprecationAdvisor.msg(e)}module(e){return this.table.module(e)}}class Ae{static elVisible(e){return!(e.offsetWidth<=0&&e.offsetHeight<=0)}static elOffset(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset-document.documentElement.clientTop,left:t.left+window.pageXOffset-document.documentElement.clientLeft}}static deepClone(e,t,i=[]){var n={}.__proto__,r=[].__proto__;t||(t=Object.assign(Array.isArray(e)?[]:{},e));for(var o in e){let a=e[o],l,c;a!=null&&typeof a=="object"&&(a.__proto__===n||a.__proto__===r)&&(l=i.findIndex(p=>p.subject===a),l>-1?t[o]=i[l].copy:(c=Object.assign(Array.isArray(a)?[]:{},a),i.unshift({subject:a,copy:c}),t[o]=this.deepClone(a,c,i)))}return t}}class Zr extends Qe{constructor(e,t,i){super(e),this.element=t,this.container=this._lookupContainer(),this.parent=i,this.reversedX=!1,this.childPopup=null,this.blurable=!1,this.blurCallback=null,this.blurEventsBound=!1,this.renderedCallback=null,this.visible=!1,this.hideable=!0,this.element.classList.add("tabulator-popup-container"),this.blurEvent=this.hide.bind(this,!1),this.escEvent=this._escapeCheck.bind(this),this.destroyBinding=this.tableDestroyed.bind(this),this.destroyed=!1}tableDestroyed(){this.destroyed=!0,this.hide(!0)}_lookupContainer(){var e=this.table.options.popupContainer;return typeof e=="string"?(e=document.querySelector(e),e||console.warn("Menu Error - no container element found matching selector:",this.table.options.popupContainer,"(defaulting to document body)")):e===!0&&(e=this.table.element),e&&!this._checkContainerIsParent(e)&&(e=!1,console.warn("Menu Error - container element does not contain this table:",this.table.options.popupContainer,"(defaulting to document body)")),e||(e=document.body),e}_checkContainerIsParent(e,t=this.table.element){return e===t?!0:t.parentNode?this._checkContainerIsParent(e,t.parentNode):!1}renderCallback(e){this.renderedCallback=e}containerEventCoords(e){var t=!(e instanceof MouseEvent),i=t?e.touches[0].pageX:e.pageX,n=t?e.touches[0].pageY:e.pageY;if(this.container!==document.body){let r=Ae.elOffset(this.container);i-=r.left,n-=r.top}return{x:i,y:n}}elementPositionCoords(e,t="right"){var i=Ae.elOffset(e),n,r,o;switch(this.container!==document.body&&(n=Ae.elOffset(this.container),i.left-=n.left,i.top-=n.top),t){case"right":r=i.left+e.offsetWidth,o=i.top-1;break;case"bottom":r=i.left,o=i.top+e.offsetHeight;break;case"left":r=i.left,o=i.top-1;break;case"top":r=i.left,o=i.top;break;case"center":r=i.left+e.offsetWidth/2,o=i.top+e.offsetHeight/2;break}return{x:r,y:o,offset:i}}show(e,t){var i,n,r,o,a;return this.destroyed||this.table.destroyed?this:(e instanceof HTMLElement?(r=e,a=this.elementPositionCoords(e,t),o=a.offset,i=a.x,n=a.y):typeof e=="number"?(o={top:0,left:0},i=e,n=t):(a=this.containerEventCoords(e),i=a.x,n=a.y,this.reversedX=!1),this.element.style.top=n+"px",this.element.style.left=i+"px",this.container.appendChild(this.element),typeof this.renderedCallback=="function"&&this.renderedCallback(),this._fitToScreen(i,n,r,o,t),this.visible=!0,this.subscribe("table-destroy",this.destroyBinding),this.element.addEventListener("mousedown",l=>{l.stopPropagation()}),this)}_fitToScreen(e,t,i,n,r){var o=this.container===document.body?document.documentElement.scrollTop:this.container.scrollTop;if((e+this.element.offsetWidth>=this.container.offsetWidth||this.reversedX)&&(this.element.style.left="",i?this.element.style.right=this.container.offsetWidth-n.left+"px":this.element.style.right=this.container.offsetWidth-e+"px",this.reversedX=!0),t+this.element.offsetHeight>Math.max(this.container.offsetHeight,o?this.container.scrollHeight:0))if(i)switch(r){case"bottom":this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight-i.offsetHeight-1+"px";break;default:this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight+i.offsetHeight+1+"px"}else this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight+"px"}isVisible(){return this.visible}hideOnBlur(e){return this.blurable=!0,this.visible&&(setTimeout(()=>{this.visible&&(this.table.rowManager.element.addEventListener("scroll",this.blurEvent),this.subscribe("cell-editing",this.blurEvent),document.body.addEventListener("click",this.blurEvent),document.body.addEventListener("contextmenu",this.blurEvent),document.body.addEventListener("mousedown",this.blurEvent),window.addEventListener("resize",this.blurEvent),document.body.addEventListener("keydown",this.escEvent),this.blurEventsBound=!0)},100),this.blurCallback=e),this}_escapeCheck(e){e.keyCode==27&&this.hide()}blockHide(){this.hideable=!1}restoreHide(){this.hideable=!0}hide(e=!1){return this.visible&&this.hideable&&(this.blurable&&this.blurEventsBound&&(document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),document.body.removeEventListener("mousedown",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent),this.unsubscribe("cell-editing",this.blurEvent),this.blurEventsBound=!1),this.childPopup&&this.childPopup.hide(),this.parent&&(this.parent.childPopup=null),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.visible=!1,this.blurCallback&&!e&&this.blurCallback(),this.unsubscribe("table-destroy",this.destroyBinding)),this}child(e){return this.childPopup&&this.childPopup.hide(),this.childPopup=new Zr(this.table,e,this),this.childPopup}}class le extends Qe{constructor(e,t){super(e),this._handler=null}initialize(){}registerTableOption(e,t){this.table.optionsList.register(e,t)}registerColumnOption(e,t){this.table.columnManager.optionsList.register(e,t)}registerTableFunction(e,t){typeof this.table[e]>"u"?this.table[e]=(...i)=>(this.table.initGuard(e),t(...i)):console.warn("Unable to bind table function, name already in use",e)}registerComponentFunction(e,t,i){return this.table.componentFunctionBinder.bind(e,t,i)}registerDataHandler(e,t){this.table.rowManager.registerDataPipelineHandler(e,t),this._handler=e}registerDisplayHandler(e,t){this.table.rowManager.registerDisplayPipelineHandler(e,t),this._handler=e}displayRows(e){var t=this.table.rowManager.displayRows.length-1,i;if(this._handler&&(i=this.table.rowManager.displayPipeline.findIndex(n=>n.handler===this._handler),i>-1&&(t=i)),e&&(t=t+e),this._handler)return t>-1?this.table.rowManager.getDisplayRows(t):this.activeRows()}activeRows(){return this.table.rowManager.activeRows}refreshData(e,t){t||(t=this._handler),t&&this.table.rowManager.refreshActiveData(t,!1,e)}footerAppend(e){return this.table.footerManager.append(e)}footerPrepend(e){return this.table.footerManager.prepend(e)}footerRemove(e){return this.table.footerManager.remove(e)}popup(e,t){return new Zr(this.table,e,t)}alert(e,t){return this.table.alertManager.alert(e,t)}clearAlert(){return this.table.alertManager.clear()}}var pg={};class Ai extends le{constructor(e){super(e),this.allowedTypes=["","data","download","clipboard","print","htmlOutput"],this.registerColumnOption("accessor"),this.registerColumnOption("accessorParams"),this.registerColumnOption("accessorData"),this.registerColumnOption("accessorDataParams"),this.registerColumnOption("accessorDownload"),this.registerColumnOption("accessorDownloadParams"),this.registerColumnOption("accessorClipboard"),this.registerColumnOption("accessorClipboardParams"),this.registerColumnOption("accessorPrint"),this.registerColumnOption("accessorPrintParams"),this.registerColumnOption("accessorHtmlOutput"),this.registerColumnOption("accessorHtmlOutputParams")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}initializeColumn(e){var t=!1,i={};this.allowedTypes.forEach(n=>{var r="accessor"+(n.charAt(0).toUpperCase()+n.slice(1)),o;e.definition[r]&&(o=this.lookupAccessor(e.definition[r]),o&&(t=!0,i[r]={accessor:o,params:e.definition[r+"Params"]||{}}))}),t&&(e.modules.accessor=i)}lookupAccessor(e){var t=!1;switch(typeof e){case"string":Ai.accessors[e]?t=Ai.accessors[e]:console.warn("Accessor Error - No such accessor found, ignoring: ",e);break;case"function":t=e;break}return t}transformRow(e,t){var i="accessor"+(t.charAt(0).toUpperCase()+t.slice(1)),n=e.getComponent(),r=Ae.deepClone(e.data||{});return this.table.columnManager.traverse(function(o){var a,l,c,p;o.modules.accessor&&(l=o.modules.accessor[i]||o.modules.accessor.accessor||!1,l&&(a=o.getFieldValue(r),a!="undefined"&&(p=o.getComponent(),c=typeof l.params=="function"?l.params(a,r,t,p,n):l.params,o.setFieldValue(r,l.accessor(a,r,t,c,p,n)))))}),r}}Ai.moduleName="accessor";Ai.accessors=pg;var gg={method:"GET"};function vr(s,e){var t=[];if(e=e||"",Array.isArray(s))s.forEach((n,r)=>{t=t.concat(vr(n,e?e+"["+r+"]":r))});else if(typeof s=="object")for(var i in s)t=t.concat(vr(s[i],e?e+"["+i+"]":i));else t.push({key:e,value:s});return t}function mg(s){var e=vr(s),t=[];return e.forEach(function(i){t.push(encodeURIComponent(i.key)+"="+encodeURIComponent(i.value))}),t.join("&")}function wu(s,e,t){return s&&t&&Object.keys(t).length&&(!e.method||e.method.toLowerCase()=="get")&&(e.method="get",s+=(s.includes("?")?"&":"?")+mg(t)),s}function bg(s,e,t){var i;return new Promise((n,r)=>{if(s=this.urlGenerator.call(this.table,s,e,t),e.method.toUpperCase()!="GET")if(i=typeof this.table.options.ajaxContentType=="object"?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType],i){for(var o in i.headers)e.headers||(e.headers={}),typeof e.headers[o]>"u"&&(e.headers[o]=i.headers[o]);e.body=i.body.call(this,s,e,t)}else console.warn("Ajax Error - Invalid ajaxContentType value:",this.table.options.ajaxContentType);s?(typeof e.headers>"u"&&(e.headers={}),typeof e.headers.Accept>"u"&&(e.headers.Accept="application/json"),typeof e.headers["X-Requested-With"]>"u"&&(e.headers["X-Requested-With"]="XMLHttpRequest"),typeof e.mode>"u"&&(e.mode="cors"),e.mode=="cors"?(typeof e.headers.Origin>"u"&&(e.headers.Origin=window.location.origin),typeof e.credentials>"u"&&(e.credentials="same-origin")):typeof e.credentials>"u"&&(e.credentials="include"),fetch(s,e).then(a=>{a.ok?a.json().then(l=>{n(l)}).catch(l=>{r(l),console.warn("Ajax Load Error - Invalid JSON returned",l)}):(console.error("Ajax Load Error - Connection Error: "+a.status,a.statusText),r(a))}).catch(a=>{console.error("Ajax Load Error - Connection Error: ",a),r(a)})):(console.warn("Ajax Load Error - No URL Set"),n([]))})}function wr(s,e){var t=[];if(e=e||"",Array.isArray(s))s.forEach((n,r)=>{t=t.concat(wr(n,e?e+"["+r+"]":r))});else if(typeof s=="object")for(var i in s)t=t.concat(wr(s[i],e?e+"["+i+"]":i));else t.push({key:e,value:s});return t}var vg={json:{headers:{"Content-Type":"application/json"},body:function(s,e,t){return JSON.stringify(t)}},form:{headers:{},body:function(s,e,t){var i=wr(t),n=new FormData;return i.forEach(function(r){n.append(r.key,r.value)}),n}}};class ht extends le{constructor(e){super(e),this.config={},this.url="",this.urlGenerator=!1,this.params=!1,this.loaderPromise=!1,this.registerTableOption("ajaxURL",!1),this.registerTableOption("ajaxURLGenerator",!1),this.registerTableOption("ajaxParams",{}),this.registerTableOption("ajaxConfig","get"),this.registerTableOption("ajaxContentType","form"),this.registerTableOption("ajaxRequestFunc",!1),this.registerTableOption("ajaxRequesting",function(){}),this.registerTableOption("ajaxResponse",!1),this.contentTypeFormatters=ht.contentTypeFormatters}initialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||ht.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||ht.defaultURLGenerator,this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.setDefaultConfig(this.table.options.ajaxConfig),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-params",this.requestParams.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}requestParams(e,t,i,n){var r=this.table.options.ajaxParams;return r&&(typeof r=="function"&&(r=r.call(this.table)),n=Object.assign(n,r)),n}requestDataCheck(e,t,i,n){return!!(!e&&this.url||typeof e=="string")}requestData(e,t,i,n,r){var o;return!r&&this.requestDataCheck(e)?(e&&this.setUrl(e),o=this.generateConfig(i),this.sendRequest(this.url,t,o)):r}setDefaultConfig(e={}){this.config=Object.assign({},ht.defaultConfig),typeof e=="string"?this.config.method=e:Object.assign(this.config,e)}generateConfig(e={}){var t=Object.assign({},this.config);return typeof e=="string"?t.method=e:Object.assign(t,e),t}setUrl(e){this.url=e}getUrl(){return this.url}sendRequest(e,t,i){return this.table.options.ajaxRequesting.call(this.table,e,t)!==!1?this.loaderPromise(e,i,t).then(n=>(this.table.options.ajaxResponse&&(n=this.table.options.ajaxResponse.call(this.table,e,t,n)),n)):Promise.reject()}}ht.moduleName="ajax";ht.defaultConfig=gg;ht.defaultURLGenerator=wu;ht.defaultLoaderPromise=bg;ht.contentTypeFormatters=vg;var wg={replace:function(s){return this.table.setData(s)},update:function(s){return this.table.updateOrAddData(s)},insert:function(s){return this.table.addData(s)}},yg={table:function(s){var e=[],t=!0,i=this.table.columnManager.columns,n=[],r=[];return s=s.split(`
`),s.forEach(function(o){e.push(o.split("	"))}),e.length&&!(e.length===1&&e[0].length<2)?(e[0].forEach(function(o){var a=i.find(function(l){return o&&l.definition.title&&o.trim()&&l.definition.title.trim()===o.trim()});a?n.push(a):t=!1}),t||(t=!0,n=[],e[0].forEach(function(o){var a=i.find(function(l){return o&&l.field&&o.trim()&&l.field.trim()===o.trim()});a?n.push(a):t=!1}),t||(n=this.table.columnManager.columnsByIndex)),t&&e.shift(),e.forEach(function(o){var a={};o.forEach(function(l,c){n[c]&&(a[n[c].field]=l)}),r.push(a)}),r):!1}};class fi extends le{constructor(e){super(e),this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0,this.registerTableOption("clipboard",!1),this.registerTableOption("clipboardCopyStyled",!0),this.registerTableOption("clipboardCopyConfig",!1),this.registerTableOption("clipboardCopyFormatter",!1),this.registerTableOption("clipboardCopyRowRange","active"),this.registerTableOption("clipboardPasteParser","table"),this.registerTableOption("clipboardPasteAction","insert"),this.registerColumnOption("clipboard"),this.registerColumnOption("titleClipboard")}initialize(){this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,(this.mode===!0||this.mode==="copy")&&this.table.element.addEventListener("copy",e=>{var t,i,n;this.blocked||(e.preventDefault(),this.customSelection?(t=this.customSelection,this.table.options.clipboardCopyFormatter&&(t=this.table.options.clipboardCopyFormatter("plain",t))):(n=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,"clipboard"),i=this.table.modules.export.generateHTMLTable(n),t=i?this.generatePlainContent(n):"",this.table.options.clipboardCopyFormatter&&(t=this.table.options.clipboardCopyFormatter("plain",t),i=this.table.options.clipboardCopyFormatter("html",i))),window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",t):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",t),i&&e.clipboardData.setData("text/html",i)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",t),i&&e.originalEvent.clipboardData.setData("text/html",i)),this.dispatchExternal("clipboardCopied",t,i),this.reset())}),(this.mode===!0||this.mode==="paste")&&this.table.element.addEventListener("paste",e=>{this.paste(e)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}reset(){this.blocked=!0,this.customSelection=!1}generatePlainContent(e){var t=[];return e.forEach(i=>{var n=[];i.columns.forEach(r=>{var o="";if(r)if(i.type==="group"&&(r.value=r.component.getKey()),r.value===null)o="";else switch(typeof r.value){case"object":o=JSON.stringify(r.value);break;case"undefined":o="";break;default:o=r.value}n.push(o)}),t.push(n.join("	"))}),t.join(`
`)}copy(e,t){var i,n;this.blocked=!1,this.customSelection=!1,(this.mode===!0||this.mode==="copy")&&(this.rowRange=e||this.table.options.clipboardCopyRowRange,typeof window.getSelection<"u"&&typeof document.createRange<"u"?(e=document.createRange(),e.selectNodeContents(this.table.element),i=window.getSelection(),i.toString()&&t&&(this.customSelection=i.toString()),i.removeAllRanges(),i.addRange(e)):typeof document.selection<"u"&&typeof document.body.createTextRange<"u"&&(n=document.body.createTextRange(),n.moveToElementText(this.table.element),n.select()),document.execCommand("copy"),i&&i.removeAllRanges())}setPasteAction(e){switch(typeof e){case"string":this.pasteAction=fi.pasteActions[e],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",e);break;case"function":this.pasteAction=e;break}}setPasteParser(e){switch(typeof e){case"string":this.pasteParser=fi.pasteParsers[e],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",e);break;case"function":this.pasteParser=e;break}}paste(e){var t,i,n;this.checkPaseOrigin(e)&&(t=this.getPasteData(e),i=this.pasteParser.call(this,t),i?(e.preventDefault(),this.table.modExists("mutator")&&(i=this.mutateData(i)),n=this.pasteAction.call(this,i),this.dispatchExternal("clipboardPasted",t,i,n)):this.dispatchExternal("clipboardPasteError",t))}mutateData(e){var t=[];return Array.isArray(e)?e.forEach(i=>{t.push(this.table.modules.mutator.transformRow(i,"clipboard"))}):t=e,t}checkPaseOrigin(e){var t=!0;return(e.target.tagName!="DIV"||this.table.modules.edit.currentCell)&&(t=!1),t}getPasteData(e){var t;return window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?t=e.clipboardData.getData("text/plain"):e.originalEvent&&e.originalEvent.clipboardData.getData&&(t=e.originalEvent.clipboardData.getData("text/plain")),t}}fi.moduleName="clipboard";fi.pasteActions=wg;fi.pasteParsers=yg;class Cg{constructor(e){return this._row=e,new Proxy(this,{get:function(t,i,n){return typeof t[i]<"u"?t[i]:t._row.table.componentFunctionBinder.handle("row",t._row,i)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getTable(){return this._row.table}getCells(){var e=[];return this._row.getCells().forEach(function(t){e.push(t.getComponent())}),e}getCell(e){var t=this._row.getCell(e);return t?t.getComponent():!1}_getSelf(){return this._row}}class yu{constructor(e){return this._cell=e,new Proxy(this,{get:function(t,i,n){return typeof t[i]<"u"?t[i]:t._cell.table.componentFunctionBinder.handle("cell",t._cell,i)}})}getValue(){return this._cell.getValue()}getOldValue(){return this._cell.getOldValue()}getInitialValue(){return this._cell.initialValue}getElement(){return this._cell.getElement()}getRow(){return this._cell.row.getComponent()}getData(e){return this._cell.row.getData(e)}getType(){return"cell"}getField(){return this._cell.column.getField()}getColumn(){return this._cell.column.getComponent()}setValue(e,t){typeof t>"u"&&(t=!0),this._cell.setValue(e,t)}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue())}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue)}checkHeight(){this._cell.checkHeight()}getTable(){return this._cell.table}_getSelf(){return this._cell}}class ms extends Qe{constructor(e,t){super(e.table),this.table=e.table,this.column=e,this.row=t,this.element=null,this.value=null,this.initialValue,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()}build(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}generateElement(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell")}_configureCell(){var e=this.element,t=this.column.getField(),i={top:"flex-start",bottom:"flex-end",middle:"center"},n={left:"flex-start",right:"flex-end",center:"center"};if(e.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(e.style.display="inline-flex",e.style.alignItems=i[this.column.vertAlign]||"",this.column.hozAlign&&(e.style.justifyContent=n[this.column.hozAlign]||"")),t&&e.setAttribute("tabulator-field",t),this.column.definition.cssClass){var r=this.column.definition.cssClass.split(" ");r.forEach(o=>{e.classList.add(o)})}this.dispatch("cell-init",this),this.column.visible||this.hide()}_generateContents(){var e;switch(e=this.chain("cell-format",this,null,()=>this.element.innerHTML=this.value),typeof e){case"object":if(e instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(e)}else this.element.innerHTML="",e!=null&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",e);break;case"undefined":this.element.innerHTML="";break;default:this.element.innerHTML=e}}cellRendered(){this.dispatch("cell-rendered",this)}getElement(e){return this.loaded||(this.loaded=!0,e||this.layoutElement()),this.element}getValue(){return this.value}getOldValue(){return this.oldValue}setValue(e,t,i){var n=this.setValueProcessData(e,t,i);n&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.column.definition.cellEdited&&this.column.definition.cellEdited.call(this.table,this.getComponent()),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}setValueProcessData(e,t,i){var n=!1;return(this.value!==e||i)&&(n=!0,t&&(e=this.chain("cell-value-changing",[this,e],null,e))),this.setValueActual(e),n&&this.dispatch("cell-value-changed",this),n}setValueActual(e){this.oldValue=this.value,this.value=e,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,e),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}layoutElement(){this._generateContents(),this.dispatch("cell-layout",this)}setWidth(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}clearWidth(){this.width="",this.element.style.width=""}getWidth(){return this.width||this.element.offsetWidth}setMinWidth(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}setMaxWidth(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}checkHeight(){this.row.reinitializeHeight()}clearHeight(){this.element.style.height="",this.height=null,this.dispatch("cell-height",this,"")}setHeight(){this.height=this.row.height,this.element.style.height=this.row.heightStyled,this.dispatch("cell-height",this,this.row.heightStyled)}getHeight(){return this.height||this.element.offsetHeight}show(){this.element.style.display=this.column.vertAlign?"inline-flex":""}hide(){this.element.style.display="none"}delete(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}getIndex(){return this.row.getCellIndex(this)}getComponent(){return this.component||(this.component=new yu(this)),this.component}}class Cu{constructor(e){return this._column=e,this.type="ColumnComponent",new Proxy(this,{get:function(t,i,n){return typeof t[i]<"u"?t[i]:t._column.table.componentFunctionBinder.handle("column",t._column,i)}})}getElement(){return this._column.getElement()}getDefinition(){return this._column.getDefinition()}getField(){return this._column.getField()}getTitleDownload(){return this._column.getTitleDownload()}getCells(){var e=[];return this._column.cells.forEach(function(t){e.push(t.getComponent())}),e}isVisible(){return this._column.visible}show(){this._column.isGroup?this._column.columns.forEach(function(e){e.show()}):this._column.show()}hide(){this._column.isGroup?this._column.columns.forEach(function(e){e.hide()}):this._column.hide()}toggle(){this._column.visible?this.hide():this.show()}delete(){return this._column.delete()}getSubColumns(){var e=[];return this._column.columns.length&&this._column.columns.forEach(function(t){e.push(t.getComponent())}),e}getParentColumn(){return this._column.parent instanceof vt?this._column.parent.getComponent():!1}_getSelf(){return this._column}scrollTo(e,t){return this._column.table.columnManager.scrollToColumn(this._column,e,t)}getTable(){return this._column.table}move(e,t){var i=this._column.table.columnManager.findColumn(e);i?this._column.table.columnManager.moveColumn(this._column,i,t):console.warn("Move Error - No matching column found:",i)}getNextColumn(){var e=this._column.nextColumn();return e?e.getComponent():!1}getPrevColumn(){var e=this._column.prevColumn();return e?e.getComponent():!1}updateDefinition(e){return this._column.updateDefinition(e)}getWidth(){return this._column.getWidth()}setWidth(e){var t;return e===!0?t=this._column.reinitializeWidth(!0):t=this._column.setWidth(e),this._column.table.columnManager.rerenderColumns(!0),t}}var Eu={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,maxInitialWidth:void 0,cssClass:void 0,variableHeight:void 0,headerVertical:void 0,headerHozAlign:void 0,headerWordWrap:!1,editableTitle:void 0};class vt extends Qe{constructor(e,t){super(t.table),this.definition=e,this.parent=t,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleDownload=null,this.titleFormatterRendered=!1,this.mapDefinitions(),this.setField(this.definition.field),this.modules={},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.maxInitialWidth=null,this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this.definition.columns?(this.isGroup=!0,this.definition.columns.forEach((i,n)=>{var r=new vt(i,this);this.attachColumn(r)}),this.checkColumnVisibility()):t.registerColumnField(this),this._initialize()}createElement(){var e=document.createElement("div");switch(e.classList.add("tabulator-col"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),this.table.options.columnHeaderVertAlign){case"middle":e.style.justifyContent="center";break;case"bottom":e.style.justifyContent="flex-end";break}return e}createGroupElement(){var e=document.createElement("div");return e.classList.add("tabulator-col-group-cols"),e}mapDefinitions(){var e=this.table.options.columnDefaults;if(e)for(let t in e)typeof this.definition[t]>"u"&&(this.definition[t]=e[t]);this.definition=this.table.columnManager.optionsList.generate(vt.defaultOptionList,this.definition)}checkDefinition(){Object.keys(this.definition).forEach(e=>{vt.defaultOptionList.indexOf(e)===-1&&console.warn("Invalid column definition option in '"+(this.field||this.definition.title)+"' column:",e)})}setField(e){this.field=e,this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}registerColumnPosition(e){this.parent.registerColumnPosition(e)}registerColumnField(e){this.parent.registerColumnField(e)}reRegisterPosition(){this.isGroup?this.columns.forEach(function(e){e.reRegisterPosition()}):this.registerColumnPosition(this)}_initialize(){for(var e=this.definition;this.element.firstChild;)this.element.removeChild(this.element.firstChild);e.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),e.headerVertical==="flip"&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.dispatch("column-init",this)}_buildColumnHeader(){var e=this.definition;if(this.dispatch("column-layout",this),typeof e.visible<"u"&&(e.visible?this.show(!0):this.hide(!0)),e.cssClass){var t=e.cssClass.split(" ");t.forEach(i=>{this.element.classList.add(i)})}e.field&&this.element.setAttribute("tabulator-field",e.field),this.setMinWidth(parseInt(e.minWidth)),e.maxInitialWidth&&(this.maxInitialWidth=parseInt(e.maxInitialWidth)),e.maxWidth&&this.setMaxWidth(parseInt(e.maxWidth)),this.reinitializeWidth(),this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}_buildColumnHeaderContent(){var e=document.createElement("div");return e.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),e.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),e}_buildColumnHeaderTitle(){var e=this.definition,t=document.createElement("div");if(t.classList.add("tabulator-col-title"),e.headerWordWrap&&t.classList.add("tabulator-col-title-wrap"),e.editableTitle){var i=document.createElement("input");i.classList.add("tabulator-title-editor"),i.addEventListener("click",n=>{n.stopPropagation(),i.focus()}),i.addEventListener("change",()=>{e.title=i.value,this.dispatchExternal("columnTitleChanged",this.getComponent())}),t.appendChild(i),e.field?this.langBind("columns|"+e.field,n=>{i.value=n||e.title||"&nbsp;"}):i.value=e.title||"&nbsp;"}else e.field?this.langBind("columns|"+e.field,n=>{this._formatColumnHeaderTitle(t,n||e.title||"&nbsp;")}):this._formatColumnHeaderTitle(t,e.title||"&nbsp;");return t}_formatColumnHeaderTitle(e,t){var i=this.chain("column-format",[this,t,e],null,()=>t);switch(typeof i){case"object":i instanceof Node?e.appendChild(i):(e.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",i));break;case"undefined":e.innerHTML="";break;default:e.innerHTML=i}}_buildGroupHeader(){if(this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass){var e=this.definition.cssClass.split(" ");e.forEach(t=>{this.element.classList.add(t)})}this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}_getFlatData(e){return e[this.field]}_getNestedData(e){var t=e,i=this.fieldStructure,n=i.length,r;for(let o=0;o<n&&(t=t[i[o]],r=t,!!t);o++);return r}_setFlatData(e,t){this.field&&(e[this.field]=t)}_setNestedData(e,t){var i=e,n=this.fieldStructure,r=n.length;for(let o=0;o<r;o++)if(o==r-1)i[n[o]]=t;else{if(!i[n[o]])if(typeof t<"u")i[n[o]]={};else break;i=i[n[o]]}}attachColumn(e){this.groupElement?(this.columns.push(e),this.groupElement.appendChild(e.getElement()),e.columnRendered()):console.warn("Column Warning - Column being attached to another column instead of column group")}verticalAlign(e,t){var i=this.parent.isGroup?this.parent.getGroupElement().clientHeight:t||this.parent.getHeadersElement().clientHeight;this.element.style.height=i+"px",this.dispatch("column-height",this,this.element.style.height),this.isGroup&&(this.groupElement.style.minHeight=i-this.contentElement.offsetHeight+"px"),this.columns.forEach(function(n){n.verticalAlign(e)})}clearVerticalAlign(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach(function(e){e.clearVerticalAlign()}),this.dispatch("column-height",this,"")}getElement(){return this.element}getGroupElement(){return this.groupElement}getField(){return this.field}getTitleDownload(){return this.titleDownload}getFirstColumn(){return this.isGroup?this.columns.length?this.columns[0].getFirstColumn():!1:this}getLastColumn(){return this.isGroup?this.columns.length?this.columns[this.columns.length-1].getLastColumn():!1:this}getColumns(e){var t=[];return e?this.columns.forEach(i=>{t.push(i),t=t.concat(i.getColumns(!0))}):t=this.columns,t}getCells(){return this.cells}getTopColumn(){return this.parent.isGroup?this.parent.getTopColumn():this}getDefinition(e){var t=[];return this.isGroup&&e&&(this.columns.forEach(function(i){t.push(i.getDefinition(!0))}),this.definition.columns=t),this.definition}checkColumnVisibility(){var e=!1;this.columns.forEach(function(t){t.visible&&(e=!0)}),e?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}show(e,t){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(i){i.show()}),!this.isGroup&&this.width===null&&this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,t),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}hide(e,t){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(i){i.hide()}),this.dispatch("column-hide",this,t),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}matchChildWidths(){var e=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(t){t.visible&&(e+=t.getWidth())}),this.contentElement.style.maxWidth=e-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())}removeChild(e){var t=this.columns.indexOf(e);t>-1&&this.columns.splice(t,1),this.columns.length||this.delete()}setWidth(e){this.widthFixed=!0,this.setWidthActual(e)}setWidthActual(e){isNaN(e)&&(e=Math.floor(this.table.element.clientWidth/100*parseInt(e))),e=Math.max(this.minWidth,e),this.maxWidth&&(e=Math.min(this.maxWidth,e)),this.width=e,this.widthStyled=e?e+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach(function(t){t.setWidth()}),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this)}checkCellHeights(){var e=[];this.cells.forEach(function(t){t.row.heightInitialized&&(t.row.getElement().offsetParent!==null?(e.push(t.row),t.row.clearCellHeight()):t.row.heightInitialized=!1)}),e.forEach(function(t){t.calcHeight()}),e.forEach(function(t){t.setCellHeight()})}getWidth(){var e=0;return this.isGroup?this.columns.forEach(function(t){t.visible&&(e+=t.getWidth())}):e=this.width,e}getLeftOffset(){var e=this.element.offsetLeft;return this.parent.isGroup&&(e+=this.parent.getLeftOffset()),e}getHeight(){return Math.ceil(this.element.getBoundingClientRect().height)}setMinWidth(e){this.maxWidth&&e>this.maxWidth&&(e=this.maxWidth,console.warn("the minWidth ("+e+"px) for column '"+this.field+"' cannot be bigger that its maxWidth ("+this.maxWidthStyled+")")),this.minWidth=e,this.minWidthStyled=e?e+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach(function(t){t.setMinWidth()})}setMaxWidth(e){this.minWidth&&e<this.minWidth&&(e=this.minWidth,console.warn("the maxWidth ("+e+"px) for column '"+this.field+"' cannot be smaller that its minWidth ("+this.minWidthStyled+")")),this.maxWidth=e,this.maxWidthStyled=e?e+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach(function(t){t.setMaxWidth()})}delete(){return new Promise((e,t)=>{this.isGroup&&this.columns.forEach(function(n){n.delete()}),this.dispatch("column-delete",this);var i=this.cells.length;for(let n=0;n<i;n++)this.cells[0].delete();this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.contentElement=!1,this.titleElement=!1,this.groupElement=!1,this.parent.isGroup&&this.parent.removeChild(this),this.table.columnManager.deregisterColumn(this),this.table.columnManager.rerenderColumns(!0),e()})}columnRendered(){this.titleFormatterRendered&&this.titleFormatterRendered(),this.dispatch("column-rendered",this)}generateCell(e){var t=new ms(this,e);return this.cells.push(t),t}nextColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1?this._nextVisibleColumn(e+1):!1}_nextVisibleColumn(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._nextVisibleColumn(e+1)}prevColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1?this._prevVisibleColumn(e-1):!1}_prevVisibleColumn(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._prevVisibleColumn(e-1)}reinitializeWidth(e){this.widthFixed=!1,typeof this.definition.width<"u"&&!e&&this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(e),this.dispatch("column-width-fit-after",this)}fitToData(e){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach(n=>{n.clearWidth()}));var t=this.element.offsetWidth;if((!this.width||!this.widthFixed)&&(this.cells.forEach(n=>{var r=n.getWidth();r>t&&(t=r)}),t)){var i=t+1;this.maxInitialWidth&&!e&&(i=Math.min(i,this.maxInitialWidth)),this.setWidthActual(i)}}}updateDefinition(e){var t;return this.isGroup||this.parent.isGroup?(console.error("Column Update Error - The updateDefinition function is only available on ungrouped columns"),Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(t=Object.assign({},this.getDefinition()),t=Object.assign(t,e),this.table.columnManager.addColumn(t,!1,this).then(i=>(t.field==this.field&&(this.field=!1),this.delete().then(()=>i.getComponent()))))}deleteCell(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)}getComponent(){return this.component||(this.component=new Cu(this)),this.component}}vt.defaultOptionList=Eu;class Cn{constructor(e){return this._row=e,new Proxy(this,{get:function(t,i,n){return typeof t[i]<"u"?t[i]:t._row.table.componentFunctionBinder.handle("row",t._row,i)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getCells(){var e=[];return this._row.getCells().forEach(function(t){e.push(t.getComponent())}),e}getCell(e){var t=this._row.getCell(e);return t?t.getComponent():!1}getIndex(){return this._row.getData("data")[this._row.table.options.index]}getPosition(){return this._row.getPosition()}watchPosition(e){return this._row.watchPosition(e)}delete(){return this._row.delete()}scrollTo(e,t){return this._row.table.rowManager.scrollToRow(this._row,e,t)}move(e,t){this._row.moveToRow(e,t)}update(e){return this._row.updateData(e)}normalizeHeight(){this._row.normalizeHeight(!0)}_getSelf(){return this._row}reformat(){return this._row.reinitialize()}getTable(){return this._row.table}getNextRow(){var e=this._row.nextRow();return e&&e.getComponent()}getPrevRow(){var e=this._row.prevRow();return e&&e.getComponent()}}class qe extends Qe{constructor(e,t,i="row"){super(t.table),this.parent=t,this.data={},this.type=i,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.position=0,this.positionWatchers=[],this.component=null,this.created=!1,this.setData(e)}create(){this.created||(this.created=!0,this.generateElement())}createElement(){var e=document.createElement("div");e.classList.add("tabulator-row"),e.setAttribute("role","row"),this.element=e}getElement(){return this.create(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}generateElement(){this.createElement(),this.dispatch("row-init",this)}generateCells(){this.cells=this.table.columnManager.generateCells(this)}initialize(e,t){if(this.create(),!this.initialized||e){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.initialized=!0,this.table.columnManager.renderer.renderRowCells(this,t),e&&this.normalizeHeight(),this.dispatch("row-layout",this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this,t)}rendered(){this.cells.forEach(e=>{e.cellRendered()})}reinitializeHeight(){this.heightInitialized=!1,this.element&&this.element.offsetParent!==null&&this.normalizeHeight(!0)}deinitialize(){this.initialized=!1}deinitializeHeight(){this.heightInitialized=!1}reinitialize(e){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&this.element.offsetParent!==null&&this.initialize(!0),this.dispatch("row-relayout",this)}calcHeight(e){var t=0,i;this.table.options.rowHeight?this.height=this.table.options.rowHeight:(i=this.table.options.resizableRows?this.element.clientHeight:0,this.cells.forEach(function(n){var r=n.getHeight();r>t&&(t=r)}),e?this.height=Math.max(t,i):this.height=this.manualHeight?this.height:Math.max(t,i)),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}setCellHeight(){this.cells.forEach(function(e){e.setHeight()}),this.heightInitialized=!0}clearCellHeight(){this.cells.forEach(function(e){e.clearHeight()})}normalizeHeight(e){e&&!this.table.options.rowHeight&&this.clearCellHeight(),this.calcHeight(e),this.setCellHeight()}setHeight(e,t){(this.height!=e||t)&&(this.manualHeight=!0,this.height=e,this.heightStyled=e?e+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getWidth(){return this.element.offsetWidth}deleteCell(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)}setData(e){this.data=this.chain("row-data-init-before",[this,e],void 0,e),this.dispatch("row-data-init-after",this)}updateData(e){var t=this.element&&Ae.elVisible(this.element),i={},n;return new Promise((r,o)=>{typeof e=="string"&&(e=JSON.parse(e)),this.dispatch("row-data-save-before",this),this.subscribed("row-data-changing")&&(i=Object.assign(i,this.data),i=Object.assign(i,e)),n=this.chain("row-data-changing",[this,i,e],null,e);for(let a in n)this.data[a]=n[a];this.dispatch("row-data-save-after",this);for(let a in e)this.table.columnManager.getColumnsByFieldRoot(a).forEach(c=>{let p=this.getCell(c.getField());if(p){let v=c.getFieldValue(n);p.getValue()!==v&&(p.setValueProcessData(v),t&&p.cellRendered())}});t?(this.normalizeHeight(!0),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent())):(this.initialized=!1,this.height=0,this.heightStyled=""),this.dispatch("row-data-changed",this,t,e),this.dispatchExternal("rowUpdated",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),r()})}getData(e){return e?this.chain("row-data-retrieve",[this,e],null,this.data):this.data}getCell(e){var t=!1;return e=this.table.columnManager.findColumn(e),!this.initialized&&this.cells.length===0&&this.generateCells(),t=this.cells.find(function(i){return i.column===e}),t}getCellIndex(e){return this.cells.findIndex(function(t){return t===e})}findCell(e){return this.cells.find(t=>t.element===e)}getCells(){return!this.initialized&&this.cells.length===0&&this.generateCells(),this.cells}nextRow(){var e=this.table.rowManager.nextDisplayRow(this,!0);return e||!1}prevRow(){var e=this.table.rowManager.prevDisplayRow(this,!0);return e||!1}moveToRow(e,t){var i=this.table.rowManager.findRow(e);i?(this.table.rowManager.moveRowActual(this,i,!t),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",e)}delete(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}deleteActual(e){this.detachModules(),this.table.rowManager.deleteRow(this,e),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}detachModules(){this.dispatch("row-deleting",this)}deleteCells(){var e=this.cells.length;for(let t=0;t<e;t++)this.cells[0].delete()}wipe(){if(this.detachModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}isDisplayed(){return this.table.rowManager.getDisplayRows().includes(this)}getPosition(){return this.isDisplayed()?this.position:!1}setPosition(e){e!=this.position&&(this.position=e,this.positionWatchers.forEach(t=>{t(this.position)}))}watchPosition(e){this.positionWatchers.push(e),e(this.position)}getGroup(){return this.modules.group||!1}getComponent(){return this.component||(this.component=new Cn(this)),this.component}}var Eg={avg:function(s,e,t){var i=0,n=typeof t.precision<"u"?t.precision:2;return s.length&&(i=s.reduce(function(r,o){return Number(r)+Number(o)}),i=i/s.length,i=n!==!1?i.toFixed(n):i),parseFloat(i).toString()},max:function(s,e,t){var i=null,n=typeof t.precision<"u"?t.precision:!1;return s.forEach(function(r){r=Number(r),(r>i||i===null)&&(i=r)}),i!==null?n!==!1?i.toFixed(n):i:""},min:function(s,e,t){var i=null,n=typeof t.precision<"u"?t.precision:!1;return s.forEach(function(r){r=Number(r),(r<i||i===null)&&(i=r)}),i!==null?n!==!1?i.toFixed(n):i:""},sum:function(s,e,t){var i=0,n=typeof t.precision<"u"?t.precision:!1;return s.length&&s.forEach(function(r){r=Number(r),i+=isNaN(r)?0:Number(r)}),n!==!1?i.toFixed(n):i},concat:function(s,e,t){var i=0;return s.length&&(i=s.reduce(function(n,r){return String(n)+String(r)})),i},count:function(s,e,t){var i=0;return s.length&&s.forEach(function(n){n&&i++}),i},unique:function(s,e,t){var i=s.filter((n,r)=>(s||n===0)&&s.indexOf(n)===r);return i.length}};class qt extends le{constructor(e){super(e),this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.blocked=!1,this.recalcAfterBlock=!1,this.registerTableOption("columnCalcs",!0),this.registerColumnOption("topCalc"),this.registerColumnOption("topCalcParams"),this.registerColumnOption("topCalcFormatter"),this.registerColumnOption("topCalcFormatterParams"),this.registerColumnOption("bottomCalc"),this.registerColumnOption("bottomCalcParams"),this.registerColumnOption("bottomCalcFormatter"),this.registerColumnOption("bottomCalcFormatterParams")}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-calcs-holder"),e}initialize(){this.genColumn=new vt({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refreshed",this.recalcActiveRowsRefresh.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this)),this.subscribe("redraw-blocked",this.blockRedraw.bind(this)),this.subscribe("redraw-restored",this.restoreRedraw.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this)),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}tableRedraw(e){this.recalc(this.table.rowManager.activeRows),e&&this.redraw()}blockRedraw(){this.blocked=!0,this.recalcAfterBlock=!1}restoreRedraw(){this.blocked=!1,this.recalcAfterBlock&&(this.recalcAfterBlock=!1,this.recalcActiveRowsRefresh())}userRecalc(){this.recalc(this.table.rowManager.activeRows)}blockCheck(){return this.blocked&&(this.recalcAfterBlock=!0),this.blocked}visibleRows(e,t){return this.topRow&&t.unshift(this.topRow),this.botRow&&t.push(this.botRow),t}rowsUpdated(e){this.table.options.groupBy?this.recalcRowGroup(e):this.recalcActiveRows()}recalcActiveRowsRefresh(){this.table.options.groupBy&&this.table.options.dataTreeStartExpanded&&this.table.options.dataTree?this.recalcAll():this.recalcActiveRows()}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows)}cellValueChanged(e){(e.column.definition.topCalc||e.column.definition.bottomCalc)&&(this.table.options.groupBy?((this.table.options.columnCalcs=="table"||this.table.options.columnCalcs=="both")&&this.recalcActiveRows(),this.table.options.columnCalcs!="table"&&this.recalcRowGroup(e.row)):this.recalcActiveRows())}initializeColumnCheck(e){(e.definition.topCalc||e.definition.bottomCalc)&&this.initializeColumn(e)}initializeColumn(e){var t=e.definition,i={topCalcParams:t.topCalcParams||{},botCalcParams:t.bottomCalcParams||{}};if(t.topCalc){switch(typeof t.topCalc){case"string":qt.calculations[t.topCalc]?i.topCalc=qt.calculations[t.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.topCalc);break;case"function":i.topCalc=t.topCalc;break}i.topCalc&&(e.modules.columnCalcs=i,this.topCalcs.push(e),this.table.options.columnCalcs!="group"&&this.initializeTopRow())}if(t.bottomCalc){switch(typeof t.bottomCalc){case"string":qt.calculations[t.bottomCalc]?i.botCalc=qt.calculations[t.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.bottomCalc);break;case"function":i.botCalc=t.bottomCalc;break}i.botCalc&&(e.modules.columnCalcs=i,this.botCalcs.push(e),this.table.options.columnCalcs!="group"&&this.initializeBottomRow())}}registerColumnField(){}removeCalcs(){var e=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),e=!0),this.botInitialized&&(this.botInitialized=!1,this.footerRemove(this.botElement),e=!0),e&&this.table.rowManager.adjustTableSize()}reinitializeCalcs(){this.topCalcs.length&&this.initializeTopRow(),this.botCalcs.length&&this.initializeBottomRow()}initializeTopRow(){this.topInitialized||(this.table.columnManager.getContentsElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}initializeBottomRow(){this.botInitialized||(this.footerPrepend(this.botElement),this.botInitialized=!0)}scrollHorizontal(e){this.botInitialized&&this.botRow&&(this.botElement.scrollLeft=e)}recalc(e){var t,i;if(!this.blockCheck()&&(this.topInitialized||this.botInitialized)){if(t=this.rowsToData(e),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),i=this.generateRow("top",t),this.topRow=i;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(i.getElement()),i.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),i=this.generateRow("bottom",t),this.botRow=i;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(i.getElement()),i.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}recalcRowGroup(e){this.recalcGroup(this.table.modules.groupRows.getRowGroup(e))}recalcAll(){if((this.topCalcs.length||this.botCalcs.length)&&(this.table.options.columnCalcs!=="group"&&this.recalcActiveRows(),this.table.options.groupBy&&this.table.options.columnCalcs!=="table")){var e=this.table.modules.groupRows.getChildGroups();e.forEach(t=>{this.recalcGroup(t)})}}recalcGroup(e){var t,i;this.blockCheck()||e&&e.calcs&&(e.calcs.bottom&&(t=this.rowsToData(e.rows),i=this.generateRowData("bottom",t),e.calcs.bottom.updateData(i),e.calcs.bottom.reinitialize()),e.calcs.top&&(t=this.rowsToData(e.rows),i=this.generateRowData("top",t),e.calcs.top.updateData(i),e.calcs.top.reinitialize()))}generateTopRow(e){return this.generateRow("top",this.rowsToData(e))}generateBottomRow(e){return this.generateRow("bottom",this.rowsToData(e))}rowsToData(e){var t=[];return e.forEach(i=>{if(t.push(i.getData()),this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs&&i.modules.dataTree&&i.modules.dataTree.open){var n=this.rowsToData(this.table.modules.dataTree.getFilteredTreeChildren(i));t=t.concat(n)}}),t}generateRow(e,t){var i=this.generateRowData(e,t),n;return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),n=new qe(i,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),n.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+e),n.component=!1,n.getComponent=()=>(n.component||(n.component=new Cg(n)),n.component),n.generateCells=()=>{var r=[];this.table.columnManager.columnsByIndex.forEach(o=>{this.genColumn.setField(o.getField()),this.genColumn.hozAlign=o.hozAlign,o.definition[e+"CalcFormatter"]&&this.table.modExists("format")?this.genColumn.modules.format={formatter:this.table.modules.format.getFormatter(o.definition[e+"CalcFormatter"]),params:o.definition[e+"CalcFormatterParams"]||{}}:this.genColumn.modules.format={formatter:this.table.modules.format.getFormatter("plaintext"),params:{}},this.genColumn.definition.cssClass=o.definition.cssClass;var a=new ms(this.genColumn,n);a.getElement(),a.column=o,a.setWidth(),o.cells.push(a),r.push(a),o.visible||a.hide()}),n.cells=r},n}generateRowData(e,t){var i={},n=e=="top"?this.topCalcs:this.botCalcs,r=e=="top"?"topCalc":"botCalc",o,a;return n.forEach(function(l){var c=[];l.modules.columnCalcs&&l.modules.columnCalcs[r]&&(t.forEach(function(p){c.push(l.getFieldValue(p))}),a=r+"Params",o=typeof l.modules.columnCalcs[a]=="function"?l.modules.columnCalcs[a](c,t):l.modules.columnCalcs[a],l.setFieldValue(i,l.modules.columnCalcs[r](c,t,o)))}),i}hasTopCalcs(){return!!this.topCalcs.length}hasBottomCalcs(){return!!this.botCalcs.length}redraw(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}getResults(){var e={},t;return this.table.options.groupBy&&this.table.modExists("groupRows")?(t=this.table.modules.groupRows.getGroups(!0),t.forEach(i=>{e[i.getKey()]=this.getGroupResults(i)})):e={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},e}getGroupResults(e){var t=e._getSelf(),i=e.getSubGroups(),n={},r={};return i.forEach(o=>{n[o.getKey()]=this.getGroupResults(o)}),r={top:t.calcs.top?t.calcs.top.getData():{},bottom:t.calcs.bottom?t.calcs.bottom.getData():{},groups:n},r}adjustForScrollbar(e){this.botRow&&(this.table.rtl?this.botElement.style.paddingLeft=e+"px":this.botElement.style.paddingRight=e+"px")}}qt.moduleName="columnCalcs";qt.calculations=Eg;class xu extends le{constructor(e){super(e),this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.registerTableOption("dataTree",!1),this.registerTableOption("dataTreeFilter",!0),this.registerTableOption("dataTreeSort",!0),this.registerTableOption("dataTreeElementColumn",!1),this.registerTableOption("dataTreeBranchElement",!0),this.registerTableOption("dataTreeChildIndent",9),this.registerTableOption("dataTreeChildField","_children"),this.registerTableOption("dataTreeCollapseElement",!1),this.registerTableOption("dataTreeExpandElement",!1),this.registerTableOption("dataTreeStartExpanded",!1),this.registerTableOption("dataTreeChildColumnCalcs",!1),this.registerTableOption("dataTreeSelectPropagate",!1),this.registerComponentFunction("row","treeCollapse",this.collapseRow.bind(this)),this.registerComponentFunction("row","treeExpand",this.expandRow.bind(this)),this.registerComponentFunction("row","treeToggle",this.toggleRow.bind(this)),this.registerComponentFunction("row","getTreeParent",this.getTreeParent.bind(this)),this.registerComponentFunction("row","getTreeChildren",this.getRowChildren.bind(this)),this.registerComponentFunction("row","addTreeChild",this.addTreeChildRow.bind(this)),this.registerComponentFunction("row","isTreeExpanded",this.isRowExpanded.bind(this))}initialize(){if(this.table.options.dataTree){var e=null,t=this.table.options;switch(this.field=t.dataTreeChildField,this.indent=t.dataTreeChildIndent,this.options("movableRows")&&console.warn("The movableRows option is not available with dataTree enabled, moving of child rows could result in unpredictable behavior"),t.dataTreeBranchElement?t.dataTreeBranchElement===!0?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):typeof t.dataTreeBranchElement=="string"?(e=document.createElement("div"),e.innerHTML=t.dataTreeBranchElement,this.branchEl=e.firstChild):this.branchEl=t.dataTreeBranchElement:(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch-empty")),t.dataTreeCollapseElement?typeof t.dataTreeCollapseElement=="string"?(e=document.createElement("div"),e.innerHTML=t.dataTreeCollapseElement,this.collapseEl=e.firstChild):this.collapseEl=t.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),t.dataTreeExpandElement?typeof t.dataTreeExpandElement=="string"?(e=document.createElement("div"),e.innerHTML=t.dataTreeExpandElement,this.expandEl=e.firstChild):this.expandEl=t.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof t.dataTreeStartExpanded){case"boolean":this.startOpen=function(i,n){return t.dataTreeStartExpanded};break;case"function":this.startOpen=t.dataTreeStartExpanded;break;default:this.startOpen=function(i,n){return t.dataTreeStartExpanded[n]};break}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("cell-value-updated",this.cellValueChanged.bind(this)),this.subscribe("edit-cancelled",this.cellValueChanged.bind(this)),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.subscribe("table-built",this.initializeElementField.bind(this)),this.subscribe("table-redrawing",this.tableRedrawing.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}tableRedrawing(e){var t;e&&(t=this.table.rowManager.getRows(),t.forEach(i=>{this.reinitializeRowChildren(i)}))}initializeElementField(){var e=this.table.columnManager.getFirstVisibleColumn();this.elementField=this.table.options.dataTreeElementColumn||(e?e.field:!1)}getRowChildren(e){return this.getTreeChildren(e,!0)}columnMoving(){var e=[];return this.table.rowManager.rows.forEach(t=>{e=e.concat(this.getTreeChildren(t,!1,!0))}),e}rowDataChanged(e,t,i){this.redrawNeeded(i)&&(this.initializeRow(e),t&&(this.layoutRow(e),this.refreshData(!0)))}cellValueChanged(e){var t=e.column.getField();t===this.elementField&&this.layoutRow(e.row)}initializeRow(e){var t=e.getData()[this.field],i=Array.isArray(t),n=i||!i&&typeof t=="object"&&t!==null;!n&&e.modules.dataTree&&e.modules.dataTree.branchEl&&e.modules.dataTree.branchEl.parentNode.removeChild(e.modules.dataTree.branchEl),!n&&e.modules.dataTree&&e.modules.dataTree.controlEl&&e.modules.dataTree.controlEl.parentNode.removeChild(e.modules.dataTree.controlEl),e.modules.dataTree={index:e.modules.dataTree?e.modules.dataTree.index:0,open:n?e.modules.dataTree?e.modules.dataTree.open:this.startOpen(e.getComponent(),0):!1,controlEl:e.modules.dataTree&&n?e.modules.dataTree.controlEl:!1,branchEl:e.modules.dataTree&&n?e.modules.dataTree.branchEl:!1,parent:e.modules.dataTree?e.modules.dataTree.parent:!1,children:n}}reinitializeRowChildren(e){var t=this.getTreeChildren(e,!1,!0);t.forEach(function(i){i.reinitialize(!0)})}layoutRow(e){var t=this.elementField?e.getCell(this.elementField):e.getCells()[0],i=t.getElement(),n=e.modules.dataTree;n.branchEl&&(n.branchEl.parentNode&&n.branchEl.parentNode.removeChild(n.branchEl),n.branchEl=!1),n.controlEl&&(n.controlEl.parentNode&&n.controlEl.parentNode.removeChild(n.controlEl),n.controlEl=!1),this.generateControlElement(e,i),e.getElement().classList.add("tabulator-tree-level-"+n.index),n.index&&(this.branchEl?(n.branchEl=this.branchEl.cloneNode(!0),i.insertBefore(n.branchEl,i.firstChild),this.table.rtl?n.branchEl.style.marginRight=(n.branchEl.offsetWidth+n.branchEl.style.marginLeft)*(n.index-1)+n.index*this.indent+"px":n.branchEl.style.marginLeft=(n.branchEl.offsetWidth+n.branchEl.style.marginRight)*(n.index-1)+n.index*this.indent+"px"):this.table.rtl?i.style.paddingRight=parseInt(window.getComputedStyle(i,null).getPropertyValue("padding-right"))+n.index*this.indent+"px":i.style.paddingLeft=parseInt(window.getComputedStyle(i,null).getPropertyValue("padding-left"))+n.index*this.indent+"px")}generateControlElement(e,t){var i=e.modules.dataTree,n=i.controlEl;t=t||e.getCells()[0].getElement(),i.children!==!1&&(i.open?(i.controlEl=this.collapseEl.cloneNode(!0),i.controlEl.addEventListener("click",r=>{r.stopPropagation(),this.collapseRow(e)})):(i.controlEl=this.expandEl.cloneNode(!0),i.controlEl.addEventListener("click",r=>{r.stopPropagation(),this.expandRow(e)})),i.controlEl.addEventListener("mousedown",r=>{r.stopPropagation()}),n&&n.parentNode===t?n.parentNode.replaceChild(i.controlEl,n):t.insertBefore(i.controlEl,t.firstChild))}getRows(e){var t=[];return e.forEach((i,n)=>{var r,o;t.push(i),i instanceof qe&&(i.create(),r=i.modules.dataTree,!r.index&&r.children!==!1&&(o=this.getChildren(i),o.forEach(a=>{a.create(),t.push(a)})))}),t}getChildren(e,t){var i=e.modules.dataTree,n=[],r=[];return i.children!==!1&&(i.open||t)&&(Array.isArray(i.children)||(i.children=this.generateChildren(e)),this.table.modExists("filter")&&this.table.options.dataTreeFilter?n=this.table.modules.filter.filter(i.children):n=i.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(n),n.forEach(o=>{r.push(o);var a=this.getChildren(o);a.forEach(l=>{r.push(l)})})),r}generateChildren(e){var t=[],i=e.getData()[this.field];return Array.isArray(i)||(i=[i]),i.forEach(n=>{var r=new qe(n||{},this.table.rowManager);r.create(),r.modules.dataTree.index=e.modules.dataTree.index+1,r.modules.dataTree.parent=e,r.modules.dataTree.children&&(r.modules.dataTree.open=this.startOpen(r.getComponent(),r.modules.dataTree.index)),t.push(r)}),t}expandRow(e,t){var i=e.modules.dataTree;i.children!==!1&&(i.open=!0,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",e.getComponent(),e.modules.dataTree.index))}collapseRow(e){var t=e.modules.dataTree;t.children!==!1&&(t.open=!1,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",e.getComponent(),e.modules.dataTree.index))}toggleRow(e){var t=e.modules.dataTree;t.children!==!1&&(t.open?this.collapseRow(e):this.expandRow(e))}isRowExpanded(e){return e.modules.dataTree.open}getTreeParent(e){return e.modules.dataTree.parent?e.modules.dataTree.parent.getComponent():!1}getTreeParentRoot(e){return e.modules.dataTree&&e.modules.dataTree.parent?this.getTreeParentRoot(e.modules.dataTree.parent):e}getFilteredTreeChildren(e){var t=e.modules.dataTree,i=[],n;return t.children&&(Array.isArray(t.children)||(t.children=this.generateChildren(e)),this.table.modExists("filter")&&this.table.options.dataTreeFilter?n=this.table.modules.filter.filter(t.children):n=t.children,n.forEach(r=>{r instanceof qe&&i.push(r)})),i}rowDelete(e){var t=e.modules.dataTree.parent,i;t&&(i=this.findChildIndex(e,t),i!==!1&&t.data[this.field].splice(i,1),t.data[this.field].length||delete t.data[this.field],this.initializeRow(t),this.layoutRow(t)),this.refreshData(!0)}addTreeChildRow(e,t,i,n){var r=!1;typeof t=="string"&&(t=JSON.parse(t)),Array.isArray(e.data[this.field])||(e.data[this.field]=[],e.modules.dataTree.open=this.startOpen(e.getComponent(),e.modules.dataTree.index)),typeof n<"u"&&(r=this.findChildIndex(n,e),r!==!1&&e.data[this.field].splice(i?r:r+1,0,t)),r===!1&&(i?e.data[this.field].unshift(t):e.data[this.field].push(t)),this.initializeRow(e),this.layoutRow(e),this.refreshData(!0)}findChildIndex(e,t){var i=!1;return typeof e=="object"?e instanceof qe?i=e.data:e instanceof Cn?i=e._getSelf().data:typeof HTMLElement<"u"&&e instanceof HTMLElement?t.modules.dataTree&&(i=t.modules.dataTree.children.find(n=>n instanceof qe?n.element===e:!1),i&&(i=i.data)):e===null&&(i=!1):typeof e>"u"?i=!1:i=t.data[this.field].find(n=>n.data[this.table.options.index]==e),i&&(Array.isArray(t.data[this.field])&&(i=t.data[this.field].indexOf(i)),i==-1&&(i=!1)),i}getTreeChildren(e,t,i){var n=e.modules.dataTree,r=[];return n&&n.children&&(Array.isArray(n.children)||(n.children=this.generateChildren(e)),n.children.forEach(o=>{o instanceof qe&&(r.push(t?o.getComponent():o),i&&(r=r.concat(this.getTreeChildren(o,t,i))))})),r}getChildField(){return this.field}redrawNeeded(e){return(this.field?typeof e[this.field]<"u":!1)||(this.elementField?typeof e[this.elementField]<"u":!1)}}xu.moduleName="dataTree";function xg(s,e={},t){var i=e.delimiter?e.delimiter:",",n=[],r=[];s.forEach(o=>{var a=[];switch(o.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":o.columns.forEach((l,c)=>{l&&l.depth===1&&(r[c]=typeof l.value>"u"||l.value===null?"":'"'+String(l.value).split('"').join('""')+'"')});break;case"row":o.columns.forEach(l=>{if(l){switch(typeof l.value){case"object":l.value=l.value!==null?JSON.stringify(l.value):"";break;case"undefined":l.value="";break}a.push('"'+String(l.value).split('"').join('""')+'"')}}),n.push(a.join(i));break}}),r.length&&n.unshift(r.join(i)),n=n.join(`
`),e.bom&&(n="\uFEFF"+n),t(n,"text/csv")}function _g(s,e,t){var i=[];s.forEach(n=>{var r={};switch(n.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":n.columns.forEach(o=>{o&&(r[o.component.getTitleDownload()||o.component.getField()]=o.value)}),i.push(r);break}}),i=JSON.stringify(i,null,"	"),t(i,"application/json")}function Tg(s,e={},t){var i=[],n=[],r={},o=e.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},a=e.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},l=e.jsPDF||{},c=e.title?e.title:"";l.orientation||(l.orientation=e.orientation||"landscape"),l.unit||(l.unit="pt"),s.forEach(y=>{switch(y.type){case"header":i.push(p(y));break;case"group":n.push(p(y,o));break;case"calc":n.push(p(y,a));break;case"row":n.push(p(y));break}});function p(y,_){var T=[];return y.columns.forEach(S=>{var L;if(S){switch(typeof S.value){case"object":S.value=S.value!==null?JSON.stringify(S.value):"";break;case"undefined":S.value="";break}L={content:S.value,colSpan:S.width,rowSpan:S.height},_&&(L.styles=_),T.push(L)}}),T}var v=new jspdf.jsPDF(l);e.autoTable&&(typeof e.autoTable=="function"?r=e.autoTable(v)||{}:r=e.autoTable),c&&(r.didDrawPage=function(y){v.text(c,40,30)}),r.head=i,r.body=n,v.autoTable(r),e.documentProcessing&&e.documentProcessing(v),t(v.output("arraybuffer"),"application/pdf")}function kg(s,e,t){var i=this,n=e.sheetName||"Sheet1",r=XLSX.utils.book_new(),o=new Qe(this),a="compress"in e?e.compress:!0,l=e.writeOptions||{bookType:"xlsx",bookSST:!0,compression:a},c;l.type="binary",r.SheetNames=[],r.Sheets={};function p(){var _=[],T=[],S={},L={s:{c:0,r:0},e:{c:s[0]?s[0].columns.reduce((A,F)=>A+(F&&F.width?F.width:1),0):0,r:s.length}};return s.forEach((A,F)=>{var j=[];A.columns.forEach(function(B,V){B?(j.push(!(B.value instanceof Date)&&typeof B.value=="object"?JSON.stringify(B.value):B.value),(B.width>1||B.height>-1)&&(B.height>1||B.width>1)&&T.push({s:{r:F,c:V},e:{r:F+B.height-1,c:V+B.width-1}})):j.push("")}),_.push(j)}),XLSX.utils.sheet_add_aoa(S,_),S["!ref"]=XLSX.utils.encode_range(L),T.length&&(S["!merges"]=T),S}if(e.sheetOnly){t(p());return}if(e.sheets)for(var v in e.sheets)e.sheets[v]===!0?(r.SheetNames.push(v),r.Sheets[v]=p()):(r.SheetNames.push(v),o.commsSend(e.sheets[v],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:i.active,intercept:function(_){r.Sheets[v]=_}}));else r.SheetNames.push(n),r.Sheets[n]=p();e.documentProcessing&&(r=e.documentProcessing(r));function y(_){for(var T=new ArrayBuffer(_.length),S=new Uint8Array(T),L=0;L!=_.length;++L)S[L]=_.charCodeAt(L)&255;return T}c=XLSX.write(r,l),t(y(c),"application/octet-stream")}function Sg(s,e,t){this.modExists("export",!0)&&t(this.modules.export.generateHTMLTable(s),"text/html")}function Rg(s,e,t){const i=[];s.forEach(n=>{const r={};switch(n.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":n.columns.forEach(o=>{o&&(r[o.component.getTitleDownload()||o.component.getField()]=o.value)}),i.push(JSON.stringify(r));break}}),t(i.join(`
`),"application/x-ndjson")}var Lg={csv:xg,json:_g,jsonLines:Rg,pdf:Tg,xlsx:kg,html:Sg};class Mi extends le{constructor(e){super(e),this.registerTableOption("downloadEncoder",function(t,i){return new Blob([t],{type:i})}),this.registerTableOption("downloadReady",void 0),this.registerTableOption("downloadConfig",{}),this.registerTableOption("downloadRowRange","active"),this.registerColumnOption("download"),this.registerColumnOption("titleDownload")}initialize(){this.deprecatedOptionsCheck(),this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}deprecatedOptionsCheck(){this.deprecationCheck("downloadReady","downloadEncoder")}downloadToTab(e,t,i,n){this.download(e,t,i,n,!0)}download(e,t,i,n,r){var o=!1;function a(c,p){r?r===!0?this.triggerDownload(c,p,e,t,!0):r(c):this.triggerDownload(c,p,e,t)}if(typeof e=="function"?o=e:Mi.downloaders[e]?o=Mi.downloaders[e]:console.warn("Download Error - No such download type found: ",e),o){var l=this.generateExportList(n);o.call(this.table,l,i||{},a.bind(this))}}generateExportList(e){var t=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,e||this.table.options.downloadRowRange,"download"),i=this.table.options.groupHeaderDownload;return i&&!Array.isArray(i)&&(i=[i]),t.forEach(n=>{var r;n.type==="group"&&(r=n.columns[0],i&&i[n.indent]&&(r.value=i[n.indent](r.value,n.component._group.getRowCount(),n.component._group.getData(),n.component)))}),t}triggerDownload(e,t,i,n,r){var o=document.createElement("a"),a=this.table.options.downloadEncoder(e,t);a&&(r?window.open(window.URL.createObjectURL(a)):(n=n||"Tabulator."+(typeof i=="function"?"txt":i),navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(a,n):(o.setAttribute("href",window.URL.createObjectURL(a)),o.setAttribute("download",n),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o))),this.dispatchExternal("downloadComplete"))}commsReceived(e,t,i){switch(t){case"intercept":this.download(i.type,"",i.options,i.active,i.intercept);break}}}Mi.moduleName="download";Mi.downloaders=Lg;function En(s,e){var t=e.mask,i=typeof e.maskLetterChar<"u"?e.maskLetterChar:"A",n=typeof e.maskNumberChar<"u"?e.maskNumberChar:"9",r=typeof e.maskWildcardChar<"u"?e.maskWildcardChar:"*";function o(a){var l=t[a];typeof l<"u"&&l!==r&&l!==i&&l!==n&&(s.value=s.value+""+l,o(a+1))}s.addEventListener("keydown",a=>{var l=s.value.length,c=a.key;if(a.keyCode>46&&!a.ctrlKey&&!a.metaKey){if(l>=t.length)return a.preventDefault(),a.stopPropagation(),!1;switch(t[l]){case i:if(c.toUpperCase()==c.toLowerCase())return a.preventDefault(),a.stopPropagation(),!1;break;case n:if(isNaN(c))return a.preventDefault(),a.stopPropagation(),!1;break;case r:break;default:if(c!==t[l])return a.preventDefault(),a.stopPropagation(),!1}}}),s.addEventListener("keyup",a=>{a.keyCode>46&&e.maskAutoFill&&o(s.value.length)}),s.placeholder||(s.placeholder=t),e.maskAutoFill&&o(s.value.length)}function Ag(s,e,t,i,n){var r=s.getValue(),o=document.createElement("input");if(o.setAttribute("type",n.search?"search":"text"),o.style.padding="4px",o.style.width="100%",o.style.boxSizing="border-box",n.elementAttributes&&typeof n.elementAttributes=="object")for(let l in n.elementAttributes)l.charAt(0)=="+"?(l=l.slice(1),o.setAttribute(l,o.getAttribute(l)+n.elementAttributes["+"+l])):o.setAttribute(l,n.elementAttributes[l]);o.value=typeof r<"u"?r:"",e(function(){s.getType()==="cell"&&(o.focus({preventScroll:!0}),o.style.height="100%",n.selectContents&&o.select())});function a(l){(r===null||typeof r>"u")&&o.value!==""||o.value!==r?t(o.value)&&(r=o.value):i()}return o.addEventListener("change",a),o.addEventListener("blur",a),o.addEventListener("keydown",function(l){switch(l.keyCode){case 13:a();break;case 27:i();break;case 35:case 36:l.stopPropagation();break}}),n.mask&&En(o,n),o}function Mg(s,e,t,i,n){var r=s.getValue(),o=n.verticalNavigation||"hybrid",a=String(r!==null&&typeof r<"u"?r:""),l=document.createElement("textarea"),c=0;if(l.style.display="block",l.style.padding="2px",l.style.height="100%",l.style.width="100%",l.style.boxSizing="border-box",l.style.whiteSpace="pre-wrap",l.style.resize="none",n.elementAttributes&&typeof n.elementAttributes=="object")for(let v in n.elementAttributes)v.charAt(0)=="+"?(v=v.slice(1),l.setAttribute(v,l.getAttribute(v)+n.elementAttributes["+"+v])):l.setAttribute(v,n.elementAttributes[v]);l.value=a,e(function(){s.getType()==="cell"&&(l.focus({preventScroll:!0}),l.style.height="100%",l.scrollHeight,l.style.height=l.scrollHeight+"px",s.getRow().normalizeHeight(),n.selectContents&&l.select())});function p(v){(r===null||typeof r>"u")&&l.value!==""||l.value!==r?(t(l.value)&&(r=l.value),setTimeout(function(){s.getRow().normalizeHeight()},300)):i()}return l.addEventListener("change",p),l.addEventListener("blur",p),l.addEventListener("keyup",function(){l.style.height="";var v=l.scrollHeight;l.style.height=v+"px",v!=c&&(c=v,s.getRow().normalizeHeight())}),l.addEventListener("keydown",function(v){switch(v.keyCode){case 13:v.shiftKey&&n.shiftEnterSubmit&&p();break;case 27:i();break;case 38:(o=="editor"||o=="hybrid"&&l.selectionStart)&&(v.stopImmediatePropagation(),v.stopPropagation());break;case 40:(o=="editor"||o=="hybrid"&&l.selectionStart!==l.value.length)&&(v.stopImmediatePropagation(),v.stopPropagation());break;case 35:case 36:v.stopPropagation();break}}),n.mask&&En(l,n),l}function Og(s,e,t,i,n){var r=s.getValue(),o=n.verticalNavigation||"editor",a=document.createElement("input");if(a.setAttribute("type","number"),typeof n.max<"u"&&a.setAttribute("max",n.max),typeof n.min<"u"&&a.setAttribute("min",n.min),typeof n.step<"u"&&a.setAttribute("step",n.step),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",n.elementAttributes&&typeof n.elementAttributes=="object")for(let p in n.elementAttributes)p.charAt(0)=="+"?(p=p.slice(1),a.setAttribute(p,a.getAttribute(p)+n.elementAttributes["+"+p])):a.setAttribute(p,n.elementAttributes[p]);a.value=r;var l=function(p){c()};e(function(){s.getType()==="cell"&&(a.removeEventListener("blur",l),a.focus({preventScroll:!0}),a.style.height="100%",a.addEventListener("blur",l),n.selectContents&&a.select())});function c(){var p=a.value;!isNaN(p)&&p!==""&&(p=Number(p)),p!==r?t(p)&&(r=p):i()}return a.addEventListener("keydown",function(p){switch(p.keyCode){case 13:c();break;case 27:i();break;case 38:case 40:o=="editor"&&(p.stopImmediatePropagation(),p.stopPropagation());break;case 35:case 36:p.stopPropagation();break}}),n.mask&&En(a,n),a}function Dg(s,e,t,i,n){var r=s.getValue(),o=document.createElement("input");if(o.setAttribute("type","range"),typeof n.max<"u"&&o.setAttribute("max",n.max),typeof n.min<"u"&&o.setAttribute("min",n.min),typeof n.step<"u"&&o.setAttribute("step",n.step),o.style.padding="4px",o.style.width="100%",o.style.boxSizing="border-box",n.elementAttributes&&typeof n.elementAttributes=="object")for(let l in n.elementAttributes)l.charAt(0)=="+"?(l=l.slice(1),o.setAttribute(l,o.getAttribute(l)+n.elementAttributes["+"+l])):o.setAttribute(l,n.elementAttributes[l]);o.value=r,e(function(){s.getType()==="cell"&&(o.focus({preventScroll:!0}),o.style.height="100%")});function a(){var l=o.value;!isNaN(l)&&l!==""&&(l=Number(l)),l!=r?t(l)&&(r=l):i()}return o.addEventListener("blur",function(l){a()}),o.addEventListener("keydown",function(l){switch(l.keyCode){case 13:a();break;case 27:i();break}}),o}function Pg(s,e,t,i,n){var r=n.format,o=n.verticalNavigation||"editor",a=r?window.DateTime||luxon.DateTime:null,l=s.getValue(),c=document.createElement("input");function p(y){var _;return a.isDateTime(y)?_=y:r==="iso"?_=a.fromISO(String(y)):_=a.fromFormat(String(y),r),_.toFormat("yyyy-MM-dd")}if(c.type="date",c.style.padding="4px",c.style.width="100%",c.style.boxSizing="border-box",n.max&&c.setAttribute("max",r?p(n.max):n.max),n.min&&c.setAttribute("min",r?p(n.min):n.min),n.elementAttributes&&typeof n.elementAttributes=="object")for(let y in n.elementAttributes)y.charAt(0)=="+"?(y=y.slice(1),c.setAttribute(y,c.getAttribute(y)+n.elementAttributes["+"+y])):c.setAttribute(y,n.elementAttributes[y]);l=typeof l<"u"?l:"",r&&(a?l=p(l):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),c.value=l,e(function(){s.getType()==="cell"&&(c.focus({preventScroll:!0}),c.style.height="100%",n.selectContents&&c.select())});function v(){var y=c.value,_;if((l===null||typeof l>"u")&&y!==""||y!==l){if(y&&r)switch(_=a.fromFormat(String(y),"yyyy-MM-dd"),r){case!0:y=_;break;case"iso":y=_.toISO();break;default:y=_.toFormat(r)}t(y)&&(l=c.value)}else i()}return c.addEventListener("blur",function(y){(y.relatedTarget||y.rangeParent||y.explicitOriginalTarget!==c)&&v()}),c.addEventListener("keydown",function(y){switch(y.keyCode){case 13:v();break;case 27:i();break;case 35:case 36:y.stopPropagation();break;case 38:case 40:o=="editor"&&(y.stopImmediatePropagation(),y.stopPropagation());break}}),c}function Ig(s,e,t,i,n){var r=n.format,o=n.verticalNavigation||"editor",a=r?window.DateTime||luxon.DateTime:null,l,c=s.getValue(),p=document.createElement("input");if(p.type="time",p.style.padding="4px",p.style.width="100%",p.style.boxSizing="border-box",n.elementAttributes&&typeof n.elementAttributes=="object")for(let y in n.elementAttributes)y.charAt(0)=="+"?(y=y.slice(1),p.setAttribute(y,p.getAttribute(y)+n.elementAttributes["+"+y])):p.setAttribute(y,n.elementAttributes[y]);c=typeof c<"u"?c:"",r&&(a?(a.isDateTime(c)?l=c:r==="iso"?l=a.fromISO(String(c)):l=a.fromFormat(String(c),r),c=l.toFormat("hh:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),p.value=c,e(function(){s.getType()=="cell"&&(p.focus({preventScroll:!0}),p.style.height="100%",n.selectContents&&p.select())});function v(){var y=p.value,_;if((c===null||typeof c>"u")&&y!==""||y!==c){if(y&&r)switch(_=a.fromFormat(String(y),"hh:mm"),r){case!0:y=_;break;case"iso":y=_.toISO();break;default:y=_.toFormat(r)}t(y)&&(c=p.value)}else i()}return p.addEventListener("blur",function(y){(y.relatedTarget||y.rangeParent||y.explicitOriginalTarget!==p)&&v()}),p.addEventListener("keydown",function(y){switch(y.keyCode){case 13:v();break;case 27:i();break;case 35:case 36:y.stopPropagation();break;case 38:case 40:o=="editor"&&(y.stopImmediatePropagation(),y.stopPropagation());break}}),p}function Hg(s,e,t,i,n){var r=n.format,o=n.verticalNavigation||"editor",a=r?window.DateTime||luxon.DateTime:null,l,c=s.getValue(),p=document.createElement("input");if(p.type="datetime-local",p.style.padding="4px",p.style.width="100%",p.style.boxSizing="border-box",n.elementAttributes&&typeof n.elementAttributes=="object")for(let y in n.elementAttributes)y.charAt(0)=="+"?(y=y.slice(1),p.setAttribute(y,p.getAttribute(y)+n.elementAttributes["+"+y])):p.setAttribute(y,n.elementAttributes[y]);c=typeof c<"u"?c:"",r&&(a?(a.isDateTime(c)?l=c:r==="iso"?l=a.fromISO(String(c)):l=a.fromFormat(String(c),r),c=l.toFormat("yyyy-MM-dd")+"T"+l.toFormat("hh:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),p.value=c,e(function(){s.getType()==="cell"&&(p.focus({preventScroll:!0}),p.style.height="100%",n.selectContents&&p.select())});function v(){var y=p.value,_;if((c===null||typeof c>"u")&&y!==""||y!==c){if(y&&r)switch(_=a.fromISO(String(y)),r){case!0:y=_;break;case"iso":y=_.toISO();break;default:y=_.toFormat(r)}t(y)&&(c=p.value)}else i()}return p.addEventListener("blur",function(y){(y.relatedTarget||y.rangeParent||y.explicitOriginalTarget!==p)&&v()}),p.addEventListener("keydown",function(y){switch(y.keyCode){case 13:v();break;case 27:i();break;case 35:case 36:y.stopPropagation();break;case 38:case 40:o=="editor"&&(y.stopImmediatePropagation(),y.stopPropagation());break}}),p}class Qr{constructor(e,t,i,n,r,o){this.edit=e,this.table=e.table,this.cell=t,this.params=this._initializeParams(o),this.data=[],this.displayItems=[],this.currentItems=[],this.focusedItem=null,this.input=this._createInputElement(),this.listEl=this._createListElement(),this.initialValues=null,this.isFilter=t.getType()==="header",this.filterTimeout=null,this.filtered=!1,this.typing=!1,this.values=[],this.popup=null,this.listIteration=0,this.lastAction="",this.filterTerm="",this.blurable=!0,this.actions={success:n,cancel:r},this._deprecatedOptionsCheck(),this._initializeValue(),i(this._onRendered.bind(this))}_deprecatedOptionsCheck(){this.params.listItemFormatter&&this.cell.getTable().deprecationAdvisor.msg("The listItemFormatter editor param has been deprecated, please see the latest editor documentation for updated options"),this.params.sortValuesList&&this.cell.getTable().deprecationAdvisor.msg("The sortValuesList editor param has been deprecated, please see the latest editor documentation for updated options"),this.params.searchFunc&&this.cell.getTable().deprecationAdvisor.msg("The searchFunc editor param has been deprecated, please see the latest editor documentation for updated options"),this.params.searchingPlaceholder&&this.cell.getTable().deprecationAdvisor.msg("The searchingPlaceholder editor param has been deprecated, please see the latest editor documentation for updated options")}_initializeValue(){var e=this.cell.getValue();typeof e>"u"&&typeof this.params.defaultValue<"u"&&(e=this.params.defaultValue),this.initialValues=this.params.multiselect?e:[e],this.isFilter&&(this.input.value=this.initialValues?this.initialValues.join(","):"",this.headerFilterInitialListGen())}_onRendered(){var e=this.cell.getElement();function t(i){i.stopPropagation()}this.isFilter||(this.input.style.height="100%",this.input.focus({preventScroll:!0})),e.addEventListener("click",t),setTimeout(()=>{e.removeEventListener("click",t)},1e3),this.input.addEventListener("mousedown",this._preventPopupBlur.bind(this))}_createListElement(){var e=document.createElement("div");return e.classList.add("tabulator-edit-list"),e.addEventListener("mousedown",this._preventBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e}_setListWidth(){var e=this.isFilter?this.input:this.cell.getElement();this.listEl.style.minWidth=e.offsetWidth+"px",this.params.maxWidth&&(this.params.maxWidth===!0?this.listEl.style.maxWidth=e.offsetWidth+"px":typeof this.params.maxWidth=="number"?this.listEl.style.maxWidth=this.params.maxWidth+"px":this.listEl.style.maxWidth=this.params.maxWidth)}_createInputElement(){var e=this.params.elementAttributes,t=document.createElement("input");if(t.setAttribute("type",this.params.clearable?"search":"text"),t.style.padding="4px",t.style.width="100%",t.style.boxSizing="border-box",this.params.autocomplete||(t.style.cursor="default",t.style.caretColor="transparent"),e&&typeof e=="object")for(let i in e)i.charAt(0)=="+"?(i=i.slice(1),t.setAttribute(i,t.getAttribute(i)+e["+"+i])):t.setAttribute(i,e[i]);return this.params.mask&&En(t,this.params),this._bindInputEvents(t),t}_initializeParams(e){var t=["values","valuesURL","valuesLookup"],i;return e=Object.assign({},e),e.verticalNavigation=e.verticalNavigation||"editor",e.placeholderLoading=typeof e.placeholderLoading>"u"?"Searching ...":e.placeholderLoading,e.placeholderEmpty=typeof e.placeholderEmpty>"u"?"No Results Found":e.placeholderEmpty,e.filterDelay=typeof e.filterDelay>"u"?300:e.filterDelay,e.emptyValue=Object.keys(e).includes("emptyValue")?e.emptyValue:"",i=Object.keys(e).filter(n=>t.includes(n)).length,i?i>1&&console.warn("list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor"):console.warn("list editor config error - either the values, valuesURL, or valuesLookup option must be set"),e.autocomplete?e.multiselect&&(e.multiselect=!1,console.warn("list editor config error - multiselect option is not available when autocomplete is enabled")):(e.freetext&&(e.freetext=!1,console.warn("list editor config error - freetext option is only available when autocomplete is enabled")),e.filterFunc&&(e.filterFunc=!1,console.warn("list editor config error - filterFunc option is only available when autocomplete is enabled")),e.filterRemote&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option is only available when autocomplete is enabled")),e.mask&&(e.mask=!1,console.warn("list editor config error - mask option is only available when autocomplete is enabled")),e.allowEmpty&&(e.allowEmpty=!1,console.warn("list editor config error - allowEmpty option is only available when autocomplete is enabled")),e.listOnEmpty&&(e.listOnEmpty=!1,console.warn("list editor config error - listOnEmpty option is only available when autocomplete is enabled"))),e.filterRemote&&!(typeof e.valuesLookup=="function"||e.valuesURL)&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option should only be used when values list is populated from a remote source")),e}_bindInputEvents(e){e.addEventListener("focus",this._inputFocus.bind(this)),e.addEventListener("click",this._inputClick.bind(this)),e.addEventListener("blur",this._inputBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e.addEventListener("search",this._inputSearch.bind(this)),this.params.autocomplete&&e.addEventListener("keyup",this._inputKeyUp.bind(this))}_inputFocus(e){this.rebuildOptionsList()}_filter(){this.params.filterRemote?(clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(()=>{this.rebuildOptionsList()},this.params.filterDelay)):this._filterList()}_inputClick(e){e.stopPropagation()}_inputBlur(e){this.blurable&&(this.popup?this.popup.hide():this._resolveValue(!0))}_inputSearch(){this._clearChoices()}_inputKeyDown(e){switch(e.keyCode){case 38:this._keyUp(e);break;case 40:this._keyDown(e);break;case 37:case 39:this._keySide(e);break;case 13:this._keyEnter();break;case 27:this._keyEsc();break;case 36:case 35:this._keyHomeEnd(e);break;case 9:this._keyTab(e);break;default:this._keySelectLetter(e)}}_inputKeyUp(e){switch(e.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:this._keyAutoCompLetter(e)}}_preventPopupBlur(){this.popup&&this.popup.blockHide(),setTimeout(()=>{this.popup&&this.popup.restoreHide()},10)}_preventBlur(){this.blurable=!1,setTimeout(()=>{this.blurable=!0},10)}_keyTab(e){this.params.autocomplete&&this.lastAction==="typing"?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem,!0)}_keyUp(e){var t=this.displayItems.indexOf(this.focusedItem);(this.params.verticalNavigation=="editor"||this.params.verticalNavigation=="hybrid"&&t)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t>0&&this._focusItem(this.displayItems[t-1]))}_keyDown(e){var t=this.displayItems.indexOf(this.focusedItem);(this.params.verticalNavigation=="editor"||this.params.verticalNavigation=="hybrid"&&t<this.displayItems.length-1)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t<this.displayItems.length-1&&(t==-1?this._focusItem(this.displayItems[0]):this._focusItem(this.displayItems[t+1])))}_keySide(e){this.params.autocomplete||(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())}_keyEnter(e){this.params.autocomplete&&this.lastAction==="typing"?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem)}_keyEsc(e){this._cancel()}_keyHomeEnd(e){this.params.autocomplete&&e.stopImmediatePropagation()}_keySelectLetter(e){this.params.autocomplete||(e.preventDefault(),e.keyCode>=38&&e.keyCode<=90&&this._scrollToValue(e.keyCode))}_keyAutoCompLetter(e){this._filter(),this.lastAction="typing",this.typing=!0}_scrollToValue(e){clearTimeout(this.filterTimeout);var t=String.fromCharCode(e).toLowerCase();this.filterTerm+=t.toLowerCase();var i=this.displayItems.find(n=>typeof n.label<"u"&&n.label.toLowerCase().startsWith(this.filterTerm));i&&this._focusItem(i),this.filterTimeout=setTimeout(()=>{this.filterTerm=""},800)}_focusItem(e){this.lastAction="focus",this.focusedItem&&this.focusedItem.element&&this.focusedItem.element.classList.remove("focused"),this.focusedItem=e,e&&e.element&&(e.element.classList.add("focused"),e.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}))}headerFilterInitialListGen(){this._generateOptions(!0)}rebuildOptionsList(){this._generateOptions().then(this._sortOptions.bind(this)).then(this._buildList.bind(this)).then(this._showList.bind(this)).catch(e=>{Number.isInteger(e)||console.error("List generation error",e)})}_filterList(){this._buildList(this._filterOptions()),this._showList()}_generateOptions(e){var t=[],i=++this.listIteration;return this.filtered=!1,this.params.values?t=this.params.values:this.params.valuesURL?t=this._ajaxRequest(this.params.valuesURL,this.input.value):typeof this.params.valuesLookup=="function"?t=this.params.valuesLookup(this.cell,this.input.value):this.params.valuesLookup&&(t=this._uniqueColumnValues(this.params.valuesLookupField)),t instanceof Promise?(e||this._addPlaceholder(this.params.placeholderLoading),t.then().then(n=>this.listIteration===i?this._parseList(n):Promise.reject(i))):Promise.resolve(this._parseList(t))}_addPlaceholder(e){var t=document.createElement("div");typeof e=="function"&&(e=e(this.cell.getComponent(),this.listEl)),e&&(this._clearList(),e instanceof HTMLElement?t=e:(t.classList.add("tabulator-edit-list-placeholder"),t.innerHTML=e),this.listEl.appendChild(t),this._showList())}_ajaxRequest(e,t){var i=this.params.filterRemote?{term:t}:{};return e=wu(e,{},i),fetch(e).then(n=>n.ok?n.json().catch(r=>(console.warn("List Ajax Load Error - Invalid JSON returned",r),Promise.reject(r))):(console.error("List Ajax Load Error - Connection Error: "+n.status,n.statusText),Promise.reject(n))).catch(n=>(console.error("List Ajax Load Error - Connection Error: ",n),Promise.reject(n)))}_uniqueColumnValues(e){var t={},i=this.table.getData(this.params.valuesLookup),n;return e?n=this.table.columnManager.getColumnByField(e):n=this.cell.getColumn()._getSelf(),n?i.forEach(r=>{var o=n.getFieldValue(r);o!==null&&typeof o<"u"&&o!==""&&(t[o]=!0)}):(console.warn("unable to find matching column to create select lookup list:",e),t=[]),Object.keys(t)}_parseList(e){var t=[];return Array.isArray(e)||(e=Object.entries(e).map(([i,n])=>({label:n,value:i}))),e.forEach(i=>{typeof i!="object"&&(i={label:i,value:i}),this._parseListItem(i,t,0)}),!this.currentItems.length&&this.params.freetext&&(this.input.value=this.initialValues,this.typing=!0,this.lastAction="typing"),this.data=t,t}_parseListItem(e,t,i){var n={};e.options?n=this._parseListGroup(e,i+1):(n={label:e.label,value:e.value,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,selected:!1,visible:!0,level:i,original:e},this.initialValues&&this.initialValues.indexOf(e.value)>-1&&this._chooseItem(n,!0)),t.push(n)}_parseListGroup(e,t){var i={label:e.label,group:!0,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,visible:!0,level:t,options:[],original:e};return e.options.forEach(n=>{this._parseListItem(n,i.options,t)}),i}_sortOptions(e){var t;return this.params.sort&&(t=typeof this.params.sort=="function"?this.params.sort:this._defaultSortFunction.bind(this),this._sortGroup(t,e)),e}_sortGroup(e,t){t.sort((i,n)=>e(i.label,n.label,i.value,n.value,i.original,n.original)),t.forEach(i=>{i.group&&this._sortGroup(e,i.options)})}_defaultSortFunction(e,t){var i,n,r,o,a=0,l,c=/(\d+)|(\D+)/g,p=/\d/,v=0;if(this.params.sort==="desc"&&([e,t]=[t,e]),!e&&e!==0)v=!t&&t!==0?0:-1;else if(!t&&t!==0)v=1;else{if(isFinite(e)&&isFinite(t))return e-t;if(i=String(e).toLowerCase(),n=String(t).toLowerCase(),i===n)return 0;if(!(p.test(i)&&p.test(n)))return i>n?1:-1;for(i=i.match(c),n=n.match(c),l=i.length>n.length?n.length:i.length;a<l;)if(r=i[a],o=n[a++],r!==o)return isFinite(r)&&isFinite(o)?(r.charAt(0)==="0"&&(r="."+r),o.charAt(0)==="0"&&(o="."+o),r-o):r>o?1:-1;return i.length>n.length}return v}_filterOptions(){var e=this.params.filterFunc||this._defaultFilterFunc,t=this.input.value;return t?(this.filtered=!0,this.data.forEach(i=>{this._filterItem(e,t,i)})):this.filtered=!1,this.data}_filterItem(e,t,i){var n=!1;return i.group?(i.options.forEach(r=>{this._filterItem(e,t,r)&&(n=!0)}),i.visible=n):i.visible=e(t,i.label,i.value,i.original),i.visible}_defaultFilterFunc(e,t,i,n){return e=String(e).toLowerCase(),t!==null&&typeof t<"u"&&(String(t).toLowerCase().indexOf(e)>-1||String(i).toLowerCase().indexOf(e)>-1)}_clearList(){for(;this.listEl.firstChild;)this.listEl.removeChild(this.listEl.firstChild);this.displayItems=[]}_buildList(e){this._clearList(),e.forEach(t=>{this._buildItem(t)}),this.displayItems.length||this._addPlaceholder(this.params.placeholderEmpty)}_buildItem(e){var t=e.element,i;if(!this.filtered||e.visible){if(!t){if(t=document.createElement("div"),t.tabIndex=0,i=this.params.itemFormatter?this.params.itemFormatter(e.label,e.value,e.original,t):e.label,i instanceof HTMLElement?t.appendChild(i):t.innerHTML=i,e.group?t.classList.add("tabulator-edit-list-group"):t.classList.add("tabulator-edit-list-item"),t.classList.add("tabulator-edit-list-group-level-"+e.level),e.elementAttributes&&typeof e.elementAttributes=="object")for(let n in e.elementAttributes)n.charAt(0)=="+"?(n=n.slice(1),t.setAttribute(n,this.input.getAttribute(n)+e.elementAttributes["+"+n])):t.setAttribute(n,e.elementAttributes[n]);e.group?t.addEventListener("click",this._groupClick.bind(this,e)):t.addEventListener("click",this._itemClick.bind(this,e)),t.addEventListener("mousedown",this._preventBlur.bind(this)),e.element=t}this._styleItem(e),this.listEl.appendChild(t),e.group?e.options.forEach(n=>{this._buildItem(n)}):this.displayItems.push(e)}}_showList(){var e=this.popup&&this.popup.isVisible();if(this.input.parentNode){if(this.params.autocomplete&&this.input.value===""&&!this.params.listOnEmpty){this.popup&&this.popup.hide(!0);return}this._setListWidth(),this.popup||(this.popup=this.edit.popup(this.listEl)),this.popup.show(this.cell.getElement(),"bottom"),e||setTimeout(()=>{this.popup.hideOnBlur(this._resolveValue.bind(this,!0))},10)}}_styleItem(e){e&&e.element&&(e.selected?e.element.classList.add("active"):e.element.classList.remove("active"))}_itemClick(e,t){t.stopPropagation(),this._chooseItem(e)}_groupClick(e,t){t.stopPropagation()}_cancel(){this.popup.hide(!0),this.actions.cancel()}_clearChoices(){this.typing=!0,this.currentItems.forEach(e=>{e.selected=!1,this._styleItem(e)}),this.currentItems=[],this.focusedItem=null}_chooseItem(e,t){var i;this.typing=!1,this.params.multiselect?(i=this.currentItems.indexOf(e),i>-1?(this.currentItems.splice(i,1),e.selected=!1):(this.currentItems.push(e),e.selected=!0),this.input.value=this.currentItems.map(n=>n.label).join(","),this._styleItem(e)):(this.currentItems=[e],e.selected=!0,this.input.value=e.label,this._styleItem(e),t||this._resolveValue()),this._focusItem(e)}_resolveValue(e){var t,i;if(this.popup&&this.popup.hide(!0),this.params.multiselect)t=this.currentItems.map(n=>n.value);else if(e&&this.params.autocomplete&&this.typing)if(this.params.freetext||this.params.allowEmpty&&this.input.value==="")t=this.input.value;else{this.actions.cancel();return}else this.currentItems[0]?t=this.currentItems[0].value:(i=Array.isArray(this.initialValues)?this.initialValues[0]:this.initialValues,i===null||typeof i>"u"||i===""?t=i:t=this.params.emptyValue);t===""&&(t=this.params.emptyValue),this.actions.success(t),this.isFilter&&(this.initialValues=t&&!Array.isArray(t)?[t]:t,this.currentItems=[])}}function zg(s,e,t,i,n){this.deprecationMsg("The select editor has been deprecated, please use the new list editor");var r=new Qr(this,s,e,t,i,n);return r.input}function Fg(s,e,t,i,n){var r=new Qr(this,s,e,t,i,n);return r.input}function Bg(s,e,t,i,n){this.deprecationMsg("The autocomplete editor has been deprecated, please use the new list editor with the 'autocomplete' editorParam"),n.autocomplete=!0;var r=new Qr(this,s,e,t,i,n);return r.input}function Ng(s,e,t,i,n){var r=this,o=s.getElement(),a=s.getValue(),l=o.getElementsByTagName("svg").length||5,c=o.getElementsByTagName("svg")[0]?o.getElementsByTagName("svg")[0].getAttribute("width"):14,p=[],v=document.createElement("div"),y=document.createElementNS("http://www.w3.org/2000/svg","svg");function _(A){p.forEach(function(F,j){j<A?(r.table.browser=="ie"?F.setAttribute("class","tabulator-star-active"):F.classList.replace("tabulator-star-inactive","tabulator-star-active"),F.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):(r.table.browser=="ie"?F.setAttribute("class","tabulator-star-inactive"):F.classList.replace("tabulator-star-active","tabulator-star-inactive"),F.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')})}function T(A){var F=document.createElement("span"),j=y.cloneNode(!0);p.push(j),F.addEventListener("mouseenter",function(B){B.stopPropagation(),B.stopImmediatePropagation(),_(A)}),F.addEventListener("mousemove",function(B){B.stopPropagation(),B.stopImmediatePropagation()}),F.addEventListener("click",function(B){B.stopPropagation(),B.stopImmediatePropagation(),t(A),o.blur()}),F.appendChild(j),v.appendChild(F)}function S(A){a=A,_(A)}if(o.style.whiteSpace="nowrap",o.style.overflow="hidden",o.style.textOverflow="ellipsis",v.style.verticalAlign="middle",v.style.display="inline-block",v.style.padding="4px",y.setAttribute("width",c),y.setAttribute("height",c),y.setAttribute("viewBox","0 0 512 512"),y.setAttribute("xml:space","preserve"),y.style.padding="0 1px",n.elementAttributes&&typeof n.elementAttributes=="object")for(let A in n.elementAttributes)A.charAt(0)=="+"?(A=A.slice(1),v.setAttribute(A,v.getAttribute(A)+n.elementAttributes["+"+A])):v.setAttribute(A,n.elementAttributes[A]);for(var L=1;L<=l;L++)T(L);return a=Math.min(parseInt(a),l),_(a),v.addEventListener("mousemove",function(A){_(0)}),v.addEventListener("click",function(A){t(0)}),o.addEventListener("blur",function(A){i()}),o.addEventListener("keydown",function(A){switch(A.keyCode){case 39:S(a+1);break;case 37:S(a-1);break;case 13:t(a);break;case 27:i();break}}),v}function Vg(s,e,t,i,n){var r=s.getElement(),o=typeof n.max>"u"?r.getElementsByTagName("div")[0]&&r.getElementsByTagName("div")[0].getAttribute("max")||100:n.max,a=typeof n.min>"u"?r.getElementsByTagName("div")[0]&&r.getElementsByTagName("div")[0].getAttribute("min")||0:n.min,l=(o-a)/100,c=s.getValue()||0,p=document.createElement("div"),v=document.createElement("div"),y,_;function T(){var S=window.getComputedStyle(r,null),L=l*Math.round(v.offsetWidth/((r.clientWidth-parseInt(S.getPropertyValue("padding-left"))-parseInt(S.getPropertyValue("padding-right")))/100))+a;t(L),r.setAttribute("aria-valuenow",L),r.setAttribute("aria-label",c)}if(p.style.position="absolute",p.style.right="0",p.style.top="0",p.style.bottom="0",p.style.width="5px",p.classList.add("tabulator-progress-handle"),v.style.display="inline-block",v.style.position="relative",v.style.height="100%",v.style.backgroundColor="#488CE9",v.style.maxWidth="100%",v.style.minWidth="0%",n.elementAttributes&&typeof n.elementAttributes=="object")for(let S in n.elementAttributes)S.charAt(0)=="+"?(S=S.slice(1),v.setAttribute(S,v.getAttribute(S)+n.elementAttributes["+"+S])):v.setAttribute(S,n.elementAttributes[S]);return r.style.padding="4px 4px",c=Math.min(parseFloat(c),o),c=Math.max(parseFloat(c),a),c=Math.round((c-a)/l),v.style.width=c+"%",r.setAttribute("aria-valuemin",a),r.setAttribute("aria-valuemax",o),v.appendChild(p),p.addEventListener("mousedown",function(S){y=S.screenX,_=v.offsetWidth}),p.addEventListener("mouseover",function(){p.style.cursor="ew-resize"}),r.addEventListener("mousemove",function(S){y&&(v.style.width=_+S.screenX-y+"px")}),r.addEventListener("mouseup",function(S){y&&(S.stopPropagation(),S.stopImmediatePropagation(),y=!1,_=!1,T())}),r.addEventListener("keydown",function(S){switch(S.keyCode){case 39:S.preventDefault(),v.style.width=v.clientWidth+r.clientWidth/100+"px";break;case 37:S.preventDefault(),v.style.width=v.clientWidth-r.clientWidth/100+"px";break;case 9:case 13:T();break;case 27:i();break}}),r.addEventListener("blur",function(){i()}),v}function jg(s,e,t,i,n){var r=s.getValue(),o=document.createElement("input"),a=n.tristate,l=typeof n.indeterminateValue>"u"?null:n.indeterminateValue,c=!1,p=Object.keys(n).includes("trueValue"),v=Object.keys(n).includes("falseValue");if(o.setAttribute("type","checkbox"),o.style.marginTop="5px",o.style.boxSizing="border-box",n.elementAttributes&&typeof n.elementAttributes=="object")for(let _ in n.elementAttributes)_.charAt(0)=="+"?(_=_.slice(1),o.setAttribute(_,o.getAttribute(_)+n.elementAttributes["+"+_])):o.setAttribute(_,n.elementAttributes[_]);o.value=r,a&&(typeof r>"u"||r===l||r==="")&&(c=!0,o.indeterminate=!0),this.table.browser!="firefox"&&this.table.browser!="safari"&&e(function(){s.getType()==="cell"&&o.focus({preventScroll:!0})}),o.checked=p?r===n.trueValue:r===!0||r==="true"||r==="True"||r===1;function y(_){var T=o.checked;return p&&T?T=n.trueValue:v&&!T&&(T=n.falseValue),a?_?c?l:T:o.checked&&!c?(o.checked=!1,o.indeterminate=!0,c=!0,l):(c=!1,T):T}return o.addEventListener("change",function(_){t(y())}),o.addEventListener("blur",function(_){t(y(!0))}),o.addEventListener("keydown",function(_){_.keyCode==13&&t(y()),_.keyCode==27&&i()}),o}var Wg={input:Ag,textarea:Mg,number:Og,range:Dg,date:Pg,time:Ig,datetime:Hg,select:zg,list:Fg,autocomplete:Bg,star:Ng,progress:Vg,tickCross:jg};class bs extends le{constructor(e){super(e),this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[],this.editors=bs.editors,this.registerColumnOption("editable"),this.registerColumnOption("editor"),this.registerColumnOption("editorParams"),this.registerColumnOption("cellEditing"),this.registerColumnOption("cellEdited"),this.registerColumnOption("cellEditCancelled"),this.registerTableFunction("getEditedCells",this.getEditedCells.bind(this)),this.registerTableFunction("clearCellEdited",this.clearCellEdited.bind(this)),this.registerTableFunction("navigatePrev",this.navigatePrev.bind(this)),this.registerTableFunction("navigateNext",this.navigateNext.bind(this)),this.registerTableFunction("navigateLeft",this.navigateLeft.bind(this)),this.registerTableFunction("navigateRight",this.navigateRight.bind(this)),this.registerTableFunction("navigateUp",this.navigateUp.bind(this)),this.registerTableFunction("navigateDown",this.navigateDown.bind(this)),this.registerComponentFunction("cell","isEdited",this.cellIsEdited.bind(this)),this.registerComponentFunction("cell","clearEdited",this.clearEdited.bind(this)),this.registerComponentFunction("cell","edit",this.editCell.bind(this)),this.registerComponentFunction("cell","cancelEdit",this.cellCancelEdit.bind(this)),this.registerComponentFunction("cell","navigatePrev",this.navigatePrev.bind(this)),this.registerComponentFunction("cell","navigateNext",this.navigateNext.bind(this)),this.registerComponentFunction("cell","navigateLeft",this.navigateLeft.bind(this)),this.registerComponentFunction("cell","navigateRight",this.navigateRight.bind(this)),this.registerComponentFunction("cell","navigateUp",this.navigateUp.bind(this)),this.registerComponentFunction("cell","navigateDown",this.navigateDown.bind(this))}initialize(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("cell-value-changed",this.updateCellClass.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("row-layout",this.rowEditableCheck.bind(this)),this.subscribe("data-refreshing",this.cancelEdit.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this,void 0)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-left",this.navigateLeft.bind(this,void 0)),this.subscribe("keybinding-nav-right",this.navigateRight.bind(this,void 0)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this,void 0)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this,void 0))}keybindingNavigateNext(e){var t=this.currentCell,i=this.options("tabEndNewRow");t&&(this.navigateNext(t,e)||i&&(t.getElement().firstChild.blur(),i===!0?i=this.table.addRow({}):typeof i=="function"?i=this.table.addRow(i(t.row.getComponent())):i=this.table.addRow(Object.assign({},i)),i.then(()=>{setTimeout(()=>{t.getComponent().navigateNext()})})))}cellIsEdited(e){return!!e.modules.edit&&e.modules.edit.edited}cellCancelEdit(e){e===this.currentCell?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}updateCellClass(e){this.allowEdit(e)?e.getElement().classList.add("tabulator-editable"):e.getElement().classList.remove("tabulator-editable")}clearCellEdited(e){e||(e=this.table.modules.edit.getEditedCells()),Array.isArray(e)||(e=[e]),e.forEach(t=>{this.table.modules.edit.clearEdited(t._getSelf())})}navigatePrev(e=this.currentCell,t){var i,n;if(e){if(t&&t.preventDefault(),i=this.navigateLeft(),i)return!0;if(n=this.table.rowManager.prevDisplayRow(e.row,!0),n&&(i=this.findPrevEditableCell(n,n.cells.length),i))return i.getComponent().edit(),!0}return!1}navigateNext(e=this.currentCell,t){var i,n;if(e){if(t&&t.preventDefault(),i=this.navigateRight(),i)return!0;if(n=this.table.rowManager.nextDisplayRow(e.row,!0),n&&(i=this.findNextEditableCell(n,-1),i))return i.getComponent().edit(),!0}return!1}navigateLeft(e=this.currentCell,t){var i,n;return e&&(t&&t.preventDefault(),i=e.getIndex(),n=this.findPrevEditableCell(e.row,i),n)?(n.getComponent().edit(),!0):!1}navigateRight(e=this.currentCell,t){var i,n;return e&&(t&&t.preventDefault(),i=e.getIndex(),n=this.findNextEditableCell(e.row,i),n)?(n.getComponent().edit(),!0):!1}navigateUp(e=this.currentCell,t){var i,n;return e&&(t&&t.preventDefault(),i=e.getIndex(),n=this.table.rowManager.prevDisplayRow(e.row,!0),n)?(n.cells[i].getComponent().edit(),!0):!1}navigateDown(e=this.currentCell,t){var i,n;return e&&(t&&t.preventDefault(),i=e.getIndex(),n=this.table.rowManager.nextDisplayRow(e.row,!0),n)?(n.cells[i].getComponent().edit(),!0):!1}findNextEditableCell(e,t){var i=!1;if(t<e.cells.length-1)for(var n=t+1;n<e.cells.length;n++){let r=e.cells[n];if(r.column.modules.edit&&Ae.elVisible(r.getElement())&&this.allowEdit(r)){i=r;break}}return i}findPrevEditableCell(e,t){var i=!1;if(t>0)for(var n=t-1;n>=0;n--){let r=e.cells[n];if(r.column.modules.edit&&Ae.elVisible(r.getElement())&&this.allowEdit(r)){i=r;break}}return i}initializeColumnCheck(e){typeof e.definition.editor<"u"&&this.initializeColumn(e)}columnDeleteCheck(e){this.currentCell&&this.currentCell.column===e&&this.cancelEdit()}rowDeleteCheck(e){this.currentCell&&this.currentCell.row===e&&this.cancelEdit()}rowEditableCheck(e){e.getCells().forEach(t=>{t.column.modules.edit&&typeof t.column.modules.edit.check=="function"&&this.updateCellClass(t)})}initializeColumn(e){var t={editor:!1,blocked:!1,check:e.definition.editable,params:e.definition.editorParams||{}};switch(typeof e.definition.editor){case"string":this.editors[e.definition.editor]?t.editor=this.editors[e.definition.editor]:console.warn("Editor Error - No such editor found: ",e.definition.editor);break;case"function":t.editor=e.definition.editor;break;case"boolean":e.definition.editor===!0&&(typeof e.definition.formatter!="function"?this.editors[e.definition.formatter]?t.editor=this.editors[e.definition.formatter]:t.editor=this.editors.input:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",e.definition.formatter));break}t.editor&&(e.modules.edit=t)}getCurrentCell(){return this.currentCell?this.currentCell.getComponent():!1}clearEditor(e){var t=this.currentCell,i;if(this.invalidEdit=!1,t){for(this.currentCell=!1,i=t.getElement(),this.dispatch("edit-editor-clear",t,e),i.classList.remove("tabulator-editing");i.firstChild;)i.removeChild(i.firstChild);t.row.getElement().classList.remove("tabulator-editing"),t.table.element.classList.remove("tabulator-editing")}}cancelEdit(){if(this.currentCell){var e=this.currentCell,t=this.currentCell.getComponent();this.clearEditor(!0),e.setValueActual(e.getValue()),e.cellRendered(),(e.column.definition.editor=="textarea"||e.column.definition.variableHeight)&&e.row.normalizeHeight(!0),e.column.definition.cellEditCancelled&&e.column.definition.cellEditCancelled.call(this.table,t),this.dispatch("edit-cancelled",e),this.dispatchExternal("cellEditCancelled",t)}}bindEditor(e){if(e.column.modules.edit){var t=this,i=e.getElement(!0);this.updateCellClass(e),i.setAttribute("tabindex",0),i.addEventListener("click",function(n){i.classList.contains("tabulator-editing")||i.focus({preventScroll:!0})}),i.addEventListener("mousedown",function(n){n.button===2?n.preventDefault():t.mouseClick=!0}),i.addEventListener("focus",function(n){t.recursionBlock||t.edit(e,n,!1)})}}focusCellNoEvent(e,t){this.recursionBlock=!0,t&&this.table.browser==="ie"||e.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}editCell(e,t){this.focusCellNoEvent(e),this.edit(e,!1,t)}focusScrollAdjust(e){if(this.table.rowManager.getRenderMode()=="virtual"){var t=this.table.rowManager.element.scrollTop,i=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,n=e.row.getElement();n.offsetTop<t?this.table.rowManager.element.scrollTop-=t-n.offsetTop:n.offsetTop+n.offsetHeight>i&&(this.table.rowManager.element.scrollTop+=n.offsetTop+n.offsetHeight-i);var r=this.table.rowManager.element.scrollLeft,o=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,a=e.getElement();this.table.modExists("frozenColumns")&&(r+=parseInt(this.table.modules.frozenColumns.leftMargin||0),o-=parseInt(this.table.modules.frozenColumns.rightMargin||0)),this.table.options.renderHorizontal==="virtual"&&(r-=parseInt(this.table.columnManager.renderer.vDomPadLeft),o-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),a.offsetLeft<r?this.table.rowManager.element.scrollLeft-=r-a.offsetLeft:a.offsetLeft+a.offsetWidth>o&&(this.table.rowManager.element.scrollLeft+=a.offsetLeft+a.offsetWidth-o)}}allowEdit(e){var t=!!e.column.modules.edit;if(e.column.modules.edit)switch(typeof e.column.modules.edit.check){case"function":e.row.initialized&&(t=e.column.modules.edit.check(e.getComponent()));break;case"string":t=!!e.row.data[e.column.modules.edit.check];break;case"boolean":t=e.column.modules.edit.check;break}return t}edit(e,t,i){var n=this,r=!0,o=function(){},a=e.getElement(),l,c,p;if(this.currentCell){!this.invalidEdit&&this.currentCell!==e&&this.cancelEdit();return}function v(L){if(n.currentCell===e){var A=n.chain("edit-success",[e,L],!0,!0);return A===!0||n.table.options.validationMode==="highlight"?(n.clearEditor(),e.modules.edit||(e.modules.edit={}),e.modules.edit.edited=!0,n.editedCells.indexOf(e)==-1&&n.editedCells.push(e),e.setValue(L,!0),A===!0):(n.invalidEdit=!0,n.focusCellNoEvent(e,!0),o(),!1)}}function y(){n.currentCell===e&&n.cancelEdit()}function _(L){o=L}if(e.column.modules.edit.blocked)return this.mouseClick=!1,a.blur(),!1;if(t&&t.stopPropagation(),r=this.allowEdit(e),r||i){if(n.cancelEdit(),n.currentCell=e,this.focusScrollAdjust(e),c=e.getComponent(),this.mouseClick&&(this.mouseClick=!1,e.column.definition.cellClick&&e.column.definition.cellClick.call(this.table,t,c)),e.column.definition.cellEditing&&e.column.definition.cellEditing.call(this.table,c),this.dispatch("cell-editing",e),this.dispatchExternal("cellEditing",c),p=typeof e.column.modules.edit.params=="function"?e.column.modules.edit.params(c):e.column.modules.edit.params,l=e.column.modules.edit.editor.call(n,c,_,v,y,p),this.currentCell&&l!==!1)if(l instanceof Node){for(a.classList.add("tabulator-editing"),e.row.getElement().classList.add("tabulator-editing"),e.table.element.classList.add("tabulator-editing");a.firstChild;)a.removeChild(a.firstChild);a.appendChild(l),o();for(var T=a.children,S=0;S<T.length;S++)T[S].addEventListener("click",function(L){L.stopPropagation()})}else return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",l),a.blur(),!1;else return a.blur(),!1;return!0}else return this.mouseClick=!1,a.blur(),!1}getEditedCells(){var e=[];return this.editedCells.forEach(t=>{e.push(t.getComponent())}),e}clearEdited(e){var t;e.modules.edit&&e.modules.edit.edited&&(e.modules.edit.edited=!1,this.dispatch("edit-edited-clear",e)),t=this.editedCells.indexOf(e),t>-1&&this.editedCells.splice(t,1)}}bs.moduleName="edit";bs.editors=Wg;class Oa{constructor(e,t,i,n){this.type=e,this.columns=t,this.component=i||!1,this.indent=n||0}}class Xn{constructor(e,t,i,n,r){this.value=e,this.component=t||!1,this.width=i,this.height=n,this.depth=r}}class _u extends le{constructor(e){super(e),this.config={},this.cloneTableStyle=!0,this.colVisProp="",this.registerTableOption("htmlOutputConfig",!1),this.registerColumnOption("htmlOutput"),this.registerColumnOption("titleHtmlOutput")}initialize(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}generateExportList(e,t,i,n){this.cloneTableStyle=t,this.config=e||{},this.colVisProp=n;var r=this.config.columnHeaders!==!1?this.headersToExportRows(this.generateColumnGroupHeaders()):[],o=this.bodyToExportRows(this.rowLookup(i));return r.concat(o)}generateTable(e,t,i,n){var r=this.generateExportList(e,t,i,n);return this.generateTableElement(r)}rowLookup(e){var t=[];if(typeof e=="function")e.call(this.table).forEach(i=>{i=this.table.rowManager.findRow(i),i&&t.push(i)});else switch(e){case!0:case"visible":t=this.table.rowManager.getVisibleRows(!1,!0);break;case"all":t=this.table.rowManager.rows;break;case"selected":t=this.table.modules.selectRow.selectedRows;break;case"active":default:this.table.options.pagination?t=this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length-2):t=this.table.rowManager.getDisplayRows()}return Object.assign([],t)}generateColumnGroupHeaders(){var e=[],t=this.config.columnGroups!==!1?this.table.columnManager.columns:this.table.columnManager.columnsByIndex;return t.forEach(i=>{var n=this.processColumnGroup(i);n&&e.push(n)}),e}processColumnGroup(e){var t=e.columns,i=0,n=e.definition["title"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))]||e.definition.title,r={title:n,column:e,depth:1};if(t.length){if(r.subGroups=[],r.width=0,t.forEach(o=>{var a=this.processColumnGroup(o);a&&(r.width+=a.width,r.subGroups.push(a),a.depth>i&&(i=a.depth))}),r.depth+=i,!r.width)return!1}else if(this.columnVisCheck(e))r.width=1;else return!1;return r}columnVisCheck(e){var t=e.definition[this.colVisProp];return typeof t=="function"&&(t=t.call(this.table,e.getComponent())),t!==!1&&(e.visible||!e.visible&&t)}headersToExportRows(e){var t=[],i=0,n=[];function r(o,a){var l=i-a;if(typeof t[a]>"u"&&(t[a]=[]),o.height=o.subGroups?1:l-o.depth+1,t[a].push(o),o.height>1)for(let c=1;c<o.height;c++)typeof t[a+c]>"u"&&(t[a+c]=[]),t[a+c].push(!1);if(o.width>1)for(let c=1;c<o.width;c++)t[a].push(!1);o.subGroups&&o.subGroups.forEach(function(c){r(c,a+1)})}return e.forEach(function(o){o.depth>i&&(i=o.depth)}),e.forEach(function(o){r(o,0)}),t.forEach(o=>{var a=[];o.forEach(l=>{if(l){let c=typeof l.title>"u"?"":l.title;a.push(new Xn(c,l.column.getComponent(),l.width,l.height,l.depth))}else a.push(null)}),n.push(new Oa("header",a))}),n}bodyToExportRows(e){var t=[],i=[];return this.table.columnManager.columnsByIndex.forEach(n=>{this.columnVisCheck(n)&&t.push(n.getComponent())}),this.config.columnCalcs!==!1&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&e.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&e.push(this.table.modules.columnCalcs.botRow)),e=e.filter(n=>{switch(n.type){case"group":return this.config.rowGroups!==!1;case"calc":return this.config.columnCalcs!==!1;case"row":return!(this.table.options.dataTree&&this.config.dataTree===!1&&n.modules.dataTree.parent)}return!0}),e.forEach((n,r)=>{var o=n.getData(this.colVisProp),a=[],l=0;switch(n.type){case"group":l=n.level,a.push(new Xn(n.key,n.getComponent(),t.length,1));break;case"calc":case"row":t.forEach(c=>{a.push(new Xn(c._column.getFieldValue(o),c,1,1))}),this.table.options.dataTree&&this.config.dataTree!==!1&&(l=n.modules.dataTree.index);break}i.push(new Oa(n.type,a,n.getComponent(),l))}),i}generateTableElement(e){var t=document.createElement("table"),i=document.createElement("thead"),n=document.createElement("tbody"),r=this.lookupTableStyles(),o=this.table.options["rowFormatter"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],a={};return a.rowFormatter=o!==null?o:this.table.options.rowFormatter,this.table.options.dataTree&&this.config.dataTree!==!1&&this.table.modExists("columnCalcs")&&(a.treeElementField=this.table.modules.dataTree.elementField),a.groupHeader=this.table.options["groupHeader"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],a.groupHeader&&!Array.isArray(a.groupHeader)&&(a.groupHeader=[a.groupHeader]),t.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),i,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),e.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),e.forEach((l,c)=>{let p;switch(l.type){case"header":i.appendChild(this.generateHeaderElement(l,a,r));break;case"group":n.appendChild(this.generateGroupElement(l,a,r));break;case"calc":n.appendChild(this.generateCalcElement(l,a,r));break;case"row":p=this.generateRowElement(l,a,r),this.mapElementStyles(c%2&&r.evenRow?r.evenRow:r.oddRow,p,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),n.appendChild(p);break}}),i.innerHTML&&t.appendChild(i),t.appendChild(n),this.mapElementStyles(this.table.element,t,["border-top","border-left","border-right","border-bottom"]),t}lookupTableStyles(){var e={};return this.cloneTableStyle&&window.getComputedStyle&&(e.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),e.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),e.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),e.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),e.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],e.firstRow&&(e.styleCells=e.firstRow.getElementsByClassName("tabulator-cell"),e.firstCell=e.styleCells[0],e.lastCell=e.styleCells[e.styleCells.length-1])),e}generateHeaderElement(e,t,i){var n=document.createElement("tr");return e.columns.forEach(r=>{if(r){var o=document.createElement("th"),a=r.component._column.definition.cssClass?r.component._column.definition.cssClass.split(" "):[];o.colSpan=r.width,o.rowSpan=r.height,o.innerHTML=r.value,this.cloneTableStyle&&(o.style.boxSizing="border-box"),a.forEach(function(l){o.classList.add(l)}),this.mapElementStyles(r.component.getElement(),o,["text-align","border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),this.mapElementStyles(r.component._column.contentElement,o,["padding-top","padding-left","padding-right","padding-bottom"]),r.component._column.visible?this.mapElementStyles(r.component.getElement(),o,["width"]):r.component._column.definition.width&&(o.style.width=r.component._column.definition.width+"px"),r.component._column.parent&&this.mapElementStyles(r.component._column.parent.groupElement,o,["border-top"]),n.appendChild(o)}}),n}generateGroupElement(e,t,i){var n=document.createElement("tr"),r=document.createElement("td"),o=e.columns[0];return n.classList.add("tabulator-print-table-row"),t.groupHeader&&t.groupHeader[e.indent]?o.value=t.groupHeader[e.indent](o.value,e.component._group.getRowCount(),e.component._group.getData(),e.component):t.groupHeader!==!1&&(o.value=e.component._group.generator(o.value,e.component._group.getRowCount(),e.component._group.getData(),e.component)),r.colSpan=o.width,r.innerHTML=o.value,n.classList.add("tabulator-print-table-group"),n.classList.add("tabulator-group-level-"+e.indent),o.component.isVisible()&&n.classList.add("tabulator-group-visible"),this.mapElementStyles(i.firstGroup,n,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(i.firstGroup,r,["padding-top","padding-left","padding-right","padding-bottom"]),n.appendChild(r),n}generateCalcElement(e,t,i){var n=this.generateRowElement(e,t,i);return n.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(i.calcRow,n,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),n}generateRowElement(e,t,i){var n=document.createElement("tr");if(n.classList.add("tabulator-print-table-row"),e.columns.forEach((r,o)=>{if(r){var a=document.createElement("td"),l=r.component._column,c=this.table.columnManager.findColumnIndex(l),p=r.value,v,y={modules:{},getValue:function(){return p},getField:function(){return l.definition.field},getElement:function(){return a},getType:function(){return"cell"},getColumn:function(){return l.getComponent()},getData:function(){return e.component.getData()},getRow:function(){return e.component},getComponent:function(){return y},column:l},_=l.definition.cssClass?l.definition.cssClass.split(" "):[];if(_.forEach(function(T){a.classList.add(T)}),this.table.modExists("format")&&this.config.formatCells!==!1)p=this.table.modules.format.formatExportValue(y,this.colVisProp);else switch(typeof p){case"object":p=p!==null?JSON.stringify(p):"";break;case"undefined":p="";break}p instanceof Node?a.appendChild(p):a.innerHTML=p,v=i.styleCells&&i.styleCells[c]?i.styleCells[c]:i.firstCell,v&&(this.mapElementStyles(v,a,["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","text-align"]),l.definition.align&&(a.style.textAlign=l.definition.align)),this.table.options.dataTree&&this.config.dataTree!==!1&&(t.treeElementField&&t.treeElementField==l.field||!t.treeElementField&&o==0)&&(e.component._row.modules.dataTree.controlEl&&a.insertBefore(e.component._row.modules.dataTree.controlEl.cloneNode(!0),a.firstChild),e.component._row.modules.dataTree.branchEl&&a.insertBefore(e.component._row.modules.dataTree.branchEl.cloneNode(!0),a.firstChild)),n.appendChild(a),y.modules.format&&y.modules.format.renderedCallback&&y.modules.format.renderedCallback()}}),t.rowFormatter&&e.type==="row"&&this.config.formatCells!==!1){let r=Object.assign(e.component);r.getElement=function(){return n},t.rowFormatter(e.component)}return n}generateHTMLTable(e){var t=document.createElement("div");return t.appendChild(this.generateTableElement(e)),t.innerHTML}getHtml(e,t,i,n){var r=this.generateExportList(i||this.table.options.htmlOutputConfig,t,e,n||"htmlOutput");return this.generateHTMLTable(r)}mapElementStyles(e,t,i){if(this.cloneTableStyle&&e&&t){var n={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var r=window.getComputedStyle(e);i.forEach(function(o){t.style[n[o]]||(t.style[n[o]]=r.getPropertyValue(o))})}}}}_u.moduleName="export";var Ug={"=":function(s,e,t,i){return e==s},"<":function(s,e,t,i){return e<s},"<=":function(s,e,t,i){return e<=s},">":function(s,e,t,i){return e>s},">=":function(s,e,t,i){return e>=s},"!=":function(s,e,t,i){return e!=s},regex:function(s,e,t,i){return typeof s=="string"&&(s=new RegExp(s)),s.test(e)},like:function(s,e,t,i){return s===null||typeof s>"u"?e===s:typeof e<"u"&&e!==null?String(e).toLowerCase().indexOf(s.toLowerCase())>-1:!1},keywords:function(s,e,t,i){var n=s.toLowerCase().split(typeof i.separator>"u"?" ":i.separator),r=String(e===null||typeof e>"u"?"":e).toLowerCase(),o=[];return n.forEach(a=>{r.includes(a)&&o.push(!0)}),i.matchAll?o.length===n.length:!!o.length},starts:function(s,e,t,i){return s===null||typeof s>"u"?e===s:typeof e<"u"&&e!==null?String(e).toLowerCase().startsWith(s.toLowerCase()):!1},ends:function(s,e,t,i){return s===null||typeof s>"u"?e===s:typeof e<"u"&&e!==null?String(e).toLowerCase().endsWith(s.toLowerCase()):!1},in:function(s,e,t,i){return Array.isArray(s)?s.length?s.indexOf(e)>-1:!0:(console.warn("Filter Error - filter value is not an array:",s),!1)}};class St extends le{constructor(e){super(e),this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1,this.tableInitialized=!1,this.registerTableOption("filterMode","local"),this.registerTableOption("initialFilter",!1),this.registerTableOption("initialHeaderFilter",!1),this.registerTableOption("headerFilterLiveFilterDelay",300),this.registerTableOption("placeholderHeaderFilter",!1),this.registerColumnOption("headerFilter"),this.registerColumnOption("headerFilterPlaceholder"),this.registerColumnOption("headerFilterParams"),this.registerColumnOption("headerFilterEmptyCheck"),this.registerColumnOption("headerFilterFunc"),this.registerColumnOption("headerFilterFuncParams"),this.registerColumnOption("headerFilterLiveFilter"),this.registerTableFunction("searchRows",this.searchRows.bind(this)),this.registerTableFunction("searchData",this.searchData.bind(this)),this.registerTableFunction("setFilter",this.userSetFilter.bind(this)),this.registerTableFunction("refreshFilter",this.userRefreshFilter.bind(this)),this.registerTableFunction("addFilter",this.userAddFilter.bind(this)),this.registerTableFunction("getFilters",this.getFilters.bind(this)),this.registerTableFunction("setHeaderFilterFocus",this.userSetHeaderFilterFocus.bind(this)),this.registerTableFunction("getHeaderFilterValue",this.userGetHeaderFilterValue.bind(this)),this.registerTableFunction("setHeaderFilterValue",this.userSetHeaderFilterValue.bind(this)),this.registerTableFunction("getHeaderFilters",this.getHeaderFilters.bind(this)),this.registerTableFunction("removeFilter",this.userRemoveFilter.bind(this)),this.registerTableFunction("clearFilter",this.userClearFilter.bind(this)),this.registerTableFunction("clearHeaderFilter",this.userClearHeaderFilter.bind(this)),this.registerComponentFunction("column","headerFilterFocus",this.setHeaderFilterFocus.bind(this)),this.registerComponentFunction("column","reloadHeaderFilter",this.reloadHeaderFilter.bind(this)),this.registerComponentFunction("column","getHeaderFilterValue",this.getHeaderFilterValue.bind(this)),this.registerComponentFunction("column","setHeaderFilterValue",this.setHeaderFilterValue.bind(this))}initialize(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.subscribe("placeholder",this.generatePlaceholder.bind(this)),this.table.options.filterMode==="remote"&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}tableBuilt(){this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach(e=>{var t=this.table.columnManager.findColumn(e.field);if(t)this.setHeaderFilterValue(t,e.value);else return console.warn("Column Filter Error - No matching column found:",e.field),!1}),this.tableInitialized=!0}remoteFilterParams(e,t,i,n){return n.filter=this.getFilters(!0,!0),n}generatePlaceholder(e){if(this.table.options.placeholderHeaderFilter&&Object.keys(this.headerFilters).length)return this.table.options.placeholderHeaderFilter}userSetFilter(e,t,i,n){this.setFilter(e,t,i,n),this.refreshFilter()}userRefreshFilter(){this.refreshFilter()}userAddFilter(e,t,i,n){this.addFilter(e,t,i,n),this.refreshFilter()}userSetHeaderFilterFocus(e){var t=this.table.columnManager.findColumn(e);if(t)this.setHeaderFilterFocus(t);else return console.warn("Column Filter Focus Error - No matching column found:",e),!1}userGetHeaderFilterValue(e){var t=this.table.columnManager.findColumn(e);if(t)return this.getHeaderFilterValue(t);console.warn("Column Filter Error - No matching column found:",e)}userSetHeaderFilterValue(e,t){var i=this.table.columnManager.findColumn(e);if(i)this.setHeaderFilterValue(i,t);else return console.warn("Column Filter Error - No matching column found:",e),!1}userRemoveFilter(e,t,i){this.removeFilter(e,t,i),this.refreshFilter()}userClearFilter(e){this.clearFilter(e),this.refreshFilter()}userClearHeaderFilter(){this.clearHeaderFilter(),this.refreshFilter()}searchRows(e,t,i){return this.search("rows",e,t,i)}searchData(e,t,i){return this.search("data",e,t,i)}initializeColumnHeaderFilter(e){var t=e.definition;t.headerFilter&&this.initializeColumn(e)}initializeColumn(e,t){var i=this,n=e.getField();function r(o){var a=e.modules.filter.tagType=="input"&&e.modules.filter.attrType=="text"||e.modules.filter.tagType=="textarea"?"partial":"match",l="",c="",p;if(typeof e.modules.filter.prevSuccess>"u"||e.modules.filter.prevSuccess!==o){if(e.modules.filter.prevSuccess=o,e.modules.filter.emptyFunc(o))delete i.headerFilters[n];else{switch(e.modules.filter.value=o,typeof e.definition.headerFilterFunc){case"string":St.filters[e.definition.headerFilterFunc]?(l=e.definition.headerFilterFunc,p=function(v){var y=e.definition.headerFilterFuncParams||{},_=e.getFieldValue(v);return y=typeof y=="function"?y(o,_,v):y,St.filters[e.definition.headerFilterFunc](o,_,v,y)}):console.warn("Header Filter Error - Matching filter function not found: ",e.definition.headerFilterFunc);break;case"function":p=function(v){var y=e.definition.headerFilterFuncParams||{},_=e.getFieldValue(v);return y=typeof y=="function"?y(o,_,v):y,e.definition.headerFilterFunc(o,_,v,y)},l=p;break}if(!p)switch(a){case"partial":p=function(v){var y=e.getFieldValue(v);return typeof y<"u"&&y!==null?String(y).toLowerCase().indexOf(String(o).toLowerCase())>-1:!1},l="like";break;default:p=function(v){return e.getFieldValue(v)==o},l="="}i.headerFilters[n]={value:o,func:p,type:l}}e.modules.filter.value=o,c=JSON.stringify(i.headerFilters),i.prevHeaderFilterChangeCheck!==c&&(i.prevHeaderFilterChangeCheck=c,i.trackChanges(),i.refreshFilter())}return!0}e.modules.filter={success:r,attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(e)}generateHeaderFilterElement(e,t,i){var n=this,r=e.modules.filter.success,o=e.getField(),a,l,c,p,v,y,_,T;e.modules.filter.value=t;function S(){}function L(A){T=A}if(e.modules.filter.headerElement&&e.modules.filter.headerElement.parentNode&&e.contentElement.removeChild(e.modules.filter.headerElement.parentNode),o){switch(e.modules.filter.emptyFunc=e.definition.headerFilterEmptyCheck||function(A){return!A&&A!==0},a=document.createElement("div"),a.classList.add("tabulator-header-filter"),typeof e.definition.headerFilter){case"string":n.table.modules.edit.editors[e.definition.headerFilter]?(l=n.table.modules.edit.editors[e.definition.headerFilter],(e.definition.headerFilter==="tick"||e.definition.headerFilter==="tickCross")&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(A){return A!==!0&&A!==!1})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",e.definition.editor);break;case"function":l=e.definition.headerFilter;break;case"boolean":e.modules.edit&&e.modules.edit.editor?l=e.modules.edit.editor:e.definition.formatter&&n.table.modules.edit.editors[e.definition.formatter]?(l=n.table.modules.edit.editors[e.definition.formatter],(e.definition.formatter==="tick"||e.definition.formatter==="tickCross")&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(A){return A!==!0&&A!==!1})):l=n.table.modules.edit.editors.input;break}if(l){if(p={getValue:function(){return typeof t<"u"?t:""},getField:function(){return e.definition.field},getElement:function(){return a},getColumn:function(){return e.getComponent()},getTable:()=>this.table,getType:()=>"header",getRow:function(){return{normalizeHeight:function(){}}}},_=e.definition.headerFilterParams||{},_=typeof _=="function"?_.call(n.table,p):_,c=l.call(this.table.modules.edit,p,L,r,S,_),!c){console.warn("Filter Error - Cannot add filter to "+o+" column, editor returned a value of false");return}if(!(c instanceof Node)){console.warn("Filter Error - Cannot add filter to "+o+" column, editor should return an instance of Node, the editor returned:",c);return}n.langBind("headerFilters|columns|"+e.definition.field,function(A){c.setAttribute("placeholder",typeof A<"u"&&A?A:e.definition.headerFilterPlaceholder||n.langText("headerFilters|default"))}),c.addEventListener("click",function(A){A.stopPropagation(),c.focus()}),c.addEventListener("focus",A=>{var F=this.table.columnManager.contentsElement.scrollLeft,j=this.table.rowManager.element.scrollLeft;F!==j&&(this.table.rowManager.scrollHorizontal(F),this.table.columnManager.scrollHorizontal(F))}),v=!1,y=function(A){v&&clearTimeout(v),v=setTimeout(function(){r(c.value)},n.table.options.headerFilterLiveFilterDelay)},e.modules.filter.headerElement=c,e.modules.filter.attrType=c.hasAttribute("type")?c.getAttribute("type").toLowerCase():"",e.modules.filter.tagType=c.tagName.toLowerCase(),e.definition.headerFilterLiveFilter!==!1&&(e.definition.headerFilter==="autocomplete"||e.definition.headerFilter==="tickCross"||(e.definition.editor==="autocomplete"||e.definition.editor==="tickCross")&&e.definition.headerFilter===!0||(c.addEventListener("keyup",y),c.addEventListener("search",y),e.modules.filter.attrType=="number"&&c.addEventListener("change",function(A){r(c.value)}),e.modules.filter.attrType=="text"&&this.table.browser!=="ie"&&c.setAttribute("type","search")),(e.modules.filter.tagType=="input"||e.modules.filter.tagType=="select"||e.modules.filter.tagType=="textarea")&&c.addEventListener("mousedown",function(A){A.stopPropagation()})),a.appendChild(c),e.contentElement.appendChild(a),i||n.headerFilterColumns.push(e),T&&T()}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",e.definition.title)}hideHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="none")})}showHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="")})}setHeaderFilterFocus(e){e.modules.filter&&e.modules.filter.headerElement?e.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",e.getField())}getHeaderFilterValue(e){if(e.modules.filter&&e.modules.filter.headerElement)return e.modules.filter.value;console.warn("Column Filter Error - No header filter set on column:",e.getField())}setHeaderFilterValue(e,t){e&&(e.modules.filter&&e.modules.filter.headerElement?(this.generateHeaderFilterElement(e,t,!0),e.modules.filter.success(t)):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}reloadHeaderFilter(e){e&&(e.modules.filter&&e.modules.filter.headerElement?this.generateHeaderFilterElement(e,e.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}refreshFilter(){this.tableInitialized&&(this.table.options.filterMode==="remote"?this.reloadData(null,!1,!1):this.refreshData(!0))}trackChanges(){this.changed=!0,this.dispatch("filter-changed")}hasChanged(){var e=this.changed;return this.changed=!1,e}setFilter(e,t,i,n){this.filterList=[],Array.isArray(e)||(e=[{field:e,type:t,value:i,params:n}]),this.addFilter(e)}addFilter(e,t,i,n){var r=!1;Array.isArray(e)||(e=[{field:e,type:t,value:i,params:n}]),e.forEach(o=>{o=this.findFilter(o),o&&(this.filterList.push(o),r=!0)}),r&&this.trackChanges()}findFilter(e){var t;if(Array.isArray(e))return this.findSubFilters(e);var i=!1;return typeof e.field=="function"?i=function(n){return e.field(n,e.type||{})}:St.filters[e.type]?(t=this.table.columnManager.getColumnByField(e.field),t?i=function(n){return St.filters[e.type](e.value,t.getFieldValue(n),n,e.params||{})}:i=function(n){return St.filters[e.type](e.value,n[e.field],n,e.params||{})}):console.warn("Filter Error - No such filter type found, ignoring: ",e.type),e.func=i,e.func?e:!1}findSubFilters(e){var t=[];return e.forEach(i=>{i=this.findFilter(i),i&&t.push(i)}),t.length?t:!1}getFilters(e,t){var i=[];return e&&(i=this.getHeaderFilters()),t&&i.forEach(function(n){typeof n.type=="function"&&(n.type="function")}),i=i.concat(this.filtersToArray(this.filterList,t)),i}filtersToArray(e,t){var i=[];return e.forEach(n=>{var r;Array.isArray(n)?i.push(this.filtersToArray(n,t)):(r={field:n.field,type:n.type,value:n.value},t&&typeof r.type=="function"&&(r.type="function"),i.push(r))}),i}getHeaderFilters(){var e=[];for(var t in this.headerFilters)e.push({field:t,type:this.headerFilters[t].type,value:this.headerFilters[t].value});return e}removeFilter(e,t,i){Array.isArray(e)||(e=[{field:e,type:t,value:i}]),e.forEach(n=>{var r=-1;typeof n.field=="object"?r=this.filterList.findIndex(o=>n===o):r=this.filterList.findIndex(o=>n.field===o.field&&n.type===o.type&&n.value===o.value),r>-1?this.filterList.splice(r,1):console.warn("Filter Error - No matching filter type found, ignoring: ",n.type)}),this.trackChanges()}clearFilter(e){this.filterList=[],e&&this.clearHeaderFilter(),this.trackChanges()}clearHeaderFilter(){this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach(e=>{typeof e.modules.filter.value<"u"&&delete e.modules.filter.value,e.modules.filter.prevSuccess=void 0,this.reloadHeaderFilter(e)}),this.trackChanges()}search(e,t,i,n){var r=[],o=[];return Array.isArray(t)||(t=[{field:t,type:i,value:n}]),t.forEach(a=>{a=this.findFilter(a),a&&o.push(a)}),this.table.rowManager.rows.forEach(a=>{var l=!0;o.forEach(c=>{this.filterRecurse(c,a.getData())||(l=!1)}),l&&r.push(e==="data"?a.getData("data"):a.getComponent())}),r}filter(e,t){var i=[],n=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters(!0)),this.table.options.filterMode!=="remote"&&(this.filterList.length||Object.keys(this.headerFilters).length)?e.forEach(r=>{this.filterRow(r)&&i.push(r)}):i=e.slice(0),this.subscribedExternal("dataFiltered")&&(i.forEach(r=>{n.push(r.getComponent())}),this.dispatchExternal("dataFiltered",this.getFilters(!0),n)),i}filterRow(e,t){var i=!0,n=e.getData();this.filterList.forEach(o=>{this.filterRecurse(o,n)||(i=!1)});for(var r in this.headerFilters)this.headerFilters[r].func(n)||(i=!1);return i}filterRecurse(e,t){var i=!1;return Array.isArray(e)?e.forEach(n=>{this.filterRecurse(n,t)&&(i=!0)}):i=e.func(t),i}}St.moduleName="filter";St.filters=Ug;function Gg(s,e,t){return this.emptyToSpace(this.sanitizeHTML(s.getValue()))}function qg(s,e,t){return s.getValue()}function $g(s,e,t){return s.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(s.getValue()))}function Kg(s,e,t){var i=parseFloat(s.getValue()),n="",r,o,a,l,c,p=e.decimal||".",v=e.thousand||",",y=e.negativeSign||"-",_=e.symbol||"",T=!!e.symbolAfter,S=typeof e.precision<"u"?e.precision:2;if(isNaN(i))return this.emptyToSpace(this.sanitizeHTML(s.getValue()));if(i<0&&(i=Math.abs(i),n=y),r=S!==!1?i.toFixed(S):i,r=String(r).split("."),o=r[0],a=r.length>1?p+r[1]:"",e.thousand!==!1)for(l=/(\d+)(\d{3})/;l.test(o);)o=o.replace(l,"$1"+v+"$2");return c=o+a,n===!0?(c="("+c+")",T?c+_:_+c):T?n+c+_:n+_+c}function Xg(s,e,t){var i=s.getValue(),n=e.urlPrefix||"",r=e.download,o=i,a=document.createElement("a"),l;function c(p,v){var y=p.shift(),_=v[y];return p.length&&typeof _=="object"?c(p,_):_}if(e.labelField&&(l=s.getData(),o=c(e.labelField.split(this.table.options.nestedFieldSeparator),l)),e.label)switch(typeof e.label){case"string":o=e.label;break;case"function":o=e.label(s);break}if(o){if(e.urlField&&(l=s.getData(),i=l[e.urlField]),e.url)switch(typeof e.url){case"string":i=e.url;break;case"function":i=e.url(s);break}return a.setAttribute("href",n+i),e.target&&a.setAttribute("target",e.target),e.download&&(typeof r=="function"?r=r(s):r=r===!0?"":r,a.setAttribute("download",r)),a.innerHTML=this.emptyToSpace(this.sanitizeHTML(o)),a}else return"&nbsp;"}function Jg(s,e,t){var i=document.createElement("img"),n=s.getValue();switch(e.urlPrefix&&(n=e.urlPrefix+s.getValue()),e.urlSuffix&&(n=n+e.urlSuffix),i.setAttribute("src",n),typeof e.height){case"number":i.style.height=e.height+"px";break;case"string":i.style.height=e.height;break}switch(typeof e.width){case"number":i.style.width=e.width+"px";break;case"string":i.style.width=e.width;break}return i.addEventListener("load",function(){s.getRow().normalizeHeight()}),i}function Yg(s,e,t){var i=s.getValue(),n=s.getElement(),r=e.allowEmpty,o=e.allowTruthy,a=Object.keys(e).includes("trueValue"),l=typeof e.tickElement<"u"?e.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',c=typeof e.crossElement<"u"?e.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return a&&i===e.trueValue||!a&&(o&&i||i===!0||i==="true"||i==="True"||i===1||i==="1")?(n.setAttribute("aria-checked",!0),l||""):r&&(i==="null"||i===""||i===null||typeof i>"u")?(n.setAttribute("aria-checked","mixed"),""):(n.setAttribute("aria-checked",!1),c||"")}function Zg(s,e,t){var i=window.DateTime||luxon.DateTime,n=e.inputFormat||"yyyy-MM-dd HH:mm:ss",r=e.outputFormat||"dd/MM/yyyy HH:mm:ss",o=typeof e.invalidPlaceholder<"u"?e.invalidPlaceholder:"",a=s.getValue();if(typeof i<"u"){var l;return i.isDateTime(a)?l=a:n==="iso"?l=i.fromISO(String(a)):l=i.fromFormat(String(a),n),l.isValid?(e.timezone&&(l=l.setZone(e.timezone)),l.toFormat(r)):o===!0||!a?a:typeof o=="function"?o(a):o}else console.error("Format Error - 'datetime' formatter is dependant on luxon.js")}function Qg(s,e,t){var i=window.DateTime||luxon.DateTime,n=e.inputFormat||"yyyy-MM-dd HH:mm:ss",r=typeof e.invalidPlaceholder<"u"?e.invalidPlaceholder:"",o=typeof e.suffix<"u"?e.suffix:!1,a=typeof e.unit<"u"?e.unit:"days",l=typeof e.humanize<"u"?e.humanize:!1,c=typeof e.date<"u"?e.date:i.now(),p=s.getValue();if(typeof i<"u"){var v;return i.isDateTime(p)?v=p:n==="iso"?v=i.fromISO(String(p)):v=i.fromFormat(String(p),n),v.isValid?l?v.diff(c,a).toHuman()+(o?" "+o:""):parseInt(v.diff(c,a)[a])+(o?" "+o:""):r===!0?p:typeof r=="function"?r(p):r}else console.error("Format Error - 'datetimediff' formatter is dependant on luxon.js")}function em(s,e,t){var i=s.getValue();return typeof e[i]>"u"?(console.warn("Missing display value for "+i),i):e[i]}function tm(s,e,t){var i=s.getValue(),n=s.getElement(),r=e&&e.stars?e.stars:5,o=document.createElement("span"),a=document.createElementNS("http://www.w3.org/2000/svg","svg"),l='<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',c='<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>';o.style.verticalAlign="middle",a.setAttribute("width","14"),a.setAttribute("height","14"),a.setAttribute("viewBox","0 0 512 512"),a.setAttribute("xml:space","preserve"),a.style.padding="0 1px",i=i&&!isNaN(i)?parseInt(i):0,i=Math.max(0,Math.min(i,r));for(var p=1;p<=r;p++){var v=a.cloneNode(!0);v.innerHTML=p<=i?l:c,o.appendChild(v)}return n.style.whiteSpace="nowrap",n.style.overflow="hidden",n.style.textOverflow="ellipsis",n.setAttribute("aria-label",i),o}function im(s,e,t){var i=this.sanitizeHTML(s.getValue())||0,n=document.createElement("span"),r=e&&e.max?e.max:100,o=e&&e.min?e.min:0,a=e&&typeof e.color<"u"?e.color:["red","orange","green"],l="#666666",c,p;if(!(isNaN(i)||typeof s.getValue()>"u")){switch(n.classList.add("tabulator-traffic-light"),p=parseFloat(i)<=r?parseFloat(i):r,p=parseFloat(p)>=o?parseFloat(p):o,c=(r-o)/100,p=Math.round((p-o)/c),typeof a){case"string":l=a;break;case"function":l=a(i);break;case"object":if(Array.isArray(a)){var v=100/a.length,y=Math.floor(p/v);y=Math.min(y,a.length-1),y=Math.max(y,0),l=a[y];break}}return n.style.backgroundColor=l,n}}function sm(s,e={},t){var i=this.sanitizeHTML(s.getValue())||0,n=s.getElement(),r=e.max?e.max:100,o=e.min?e.min:0,a=e.legendAlign?e.legendAlign:"center",l,c,p,v,y;switch(c=parseFloat(i)<=r?parseFloat(i):r,c=parseFloat(c)>=o?parseFloat(c):o,l=(r-o)/100,c=Math.round((c-o)/l),typeof e.color){case"string":p=e.color;break;case"function":p=e.color(i);break;case"object":if(Array.isArray(e.color)){let L=100/e.color.length,A=Math.floor(c/L);A=Math.min(A,e.color.length-1),A=Math.max(A,0),p=e.color[A];break}default:p="#2DC214"}switch(typeof e.legend){case"string":v=e.legend;break;case"function":v=e.legend(i);break;case"boolean":v=i;break;default:v=!1}switch(typeof e.legendColor){case"string":y=e.legendColor;break;case"function":y=e.legendColor(i);break;case"object":if(Array.isArray(e.legendColor)){let L=100/e.legendColor.length,A=Math.floor(c/L);A=Math.min(A,e.legendColor.length-1),A=Math.max(A,0),y=e.legendColor[A]}break;default:y="#000"}n.style.minWidth="30px",n.style.position="relative",n.setAttribute("aria-label",c);var _=document.createElement("div");_.style.display="inline-block",_.style.width=c+"%",_.style.backgroundColor=p,_.style.height="100%",_.setAttribute("data-max",r),_.setAttribute("data-min",o);var T=document.createElement("div");if(T.style.position="relative",T.style.width="100%",T.style.height="100%",v){var S=document.createElement("div");S.style.position="absolute",S.style.top=0,S.style.left=0,S.style.textAlign=a,S.style.width="100%",S.style.color=y,S.innerHTML=v}return t(function(){if(!(s instanceof yu)){var L=document.createElement("div");L.style.position="absolute",L.style.top="4px",L.style.bottom="4px",L.style.left="4px",L.style.right="4px",n.appendChild(L),n=L}n.appendChild(T),T.appendChild(_),v&&T.appendChild(S)}),""}function nm(s,e,t){return s.getElement().style.backgroundColor=this.sanitizeHTML(s.getValue()),""}function rm(s,e,t){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'}function om(s,e,t){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'}function am(s,e,t){var i=document.createElement("span"),n=s.getRow();return n.watchPosition(r=>{i.innerText=r}),i}function lm(s,e,t){return s.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"}function um(s,e,t){var i=document.createElement("div"),n=s.getRow()._row.modules.responsiveLayout;i.classList.add("tabulator-responsive-collapse-toggle"),i.innerHTML=`<svg class='tabulator-responsive-collapse-toggle-open' viewbox="0 0 24 24">
  <line x1="7" y1="12" x2="17" y2="12" fill="none" stroke-width="3" stroke-linecap="round" />
  <line y1="7" x1="12" y2="17" x2="12" fill="none" stroke-width="3" stroke-linecap="round" />
</svg>

<svg class='tabulator-responsive-collapse-toggle-close' viewbox="0 0 24 24">
  <line x1="7" y1="12" x2="17" y2="12"  fill="none" stroke-width="3" stroke-linecap="round" />
</svg>`,s.getElement().classList.add("tabulator-row-handle");function r(o){var a=n.element;n.open=o,a&&(n.open?(i.classList.add("open"),a.style.display=""):(i.classList.remove("open"),a.style.display="none"))}return i.addEventListener("click",function(o){o.stopImmediatePropagation(),r(!n.open),s.getTable().rowManager.adjustTableSize()}),r(n.open),i}function dm(s,e,t){var i=document.createElement("input"),n=!1;if(i.type="checkbox",i.setAttribute("aria-label","Select Row"),this.table.modExists("selectRow",!0))if(i.addEventListener("click",o=>{o.stopPropagation()}),typeof s.getRow=="function"){var r=s.getRow();r instanceof Cn?(i.addEventListener("change",o=>{this.table.options.selectableRangeMode==="click"&&n?n=!1:r.toggleSelect()}),this.table.options.selectableRangeMode==="click"&&i.addEventListener("click",o=>{n=!0,this.table.modules.selectRow.handleComplexRowClick(r._row,o)}),i.checked=r.isSelected&&r.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(r,i)):i=""}else i.addEventListener("change",o=>{this.table.modules.selectRow.selectedRows.length?this.table.deselectRow():this.table.selectRow(e.rowRange)}),this.table.modules.selectRow.registerHeaderSelectCheckbox(i);return i}var hm={plaintext:Gg,html:qg,textarea:$g,money:Kg,link:Xg,image:Jg,tickCross:Yg,datetime:Zg,datetimediff:Qg,lookup:em,star:tm,traffic:im,progress:sm,color:nm,buttonTick:rm,buttonCross:om,rownum:am,handle:lm,responsiveCollapse:um,rowSelection:dm};class rt extends le{constructor(e){super(e),this.registerColumnOption("formatter"),this.registerColumnOption("formatterParams"),this.registerColumnOption("formatterPrint"),this.registerColumnOption("formatterPrintParams"),this.registerColumnOption("formatterClipboard"),this.registerColumnOption("formatterClipboardParams"),this.registerColumnOption("formatterHtmlOutput"),this.registerColumnOption("formatterHtmlOutputParams"),this.registerColumnOption("titleFormatter"),this.registerColumnOption("titleFormatterParams")}initialize(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}initializeColumn(e){e.modules.format=this.lookupFormatter(e,""),typeof e.definition.formatterPrint<"u"&&(e.modules.format.print=this.lookupFormatter(e,"Print")),typeof e.definition.formatterClipboard<"u"&&(e.modules.format.clipboard=this.lookupFormatter(e,"Clipboard")),typeof e.definition.formatterHtmlOutput<"u"&&(e.modules.format.htmlOutput=this.lookupFormatter(e,"HtmlOutput"))}lookupFormatter(e,t){var i={params:e.definition["formatter"+t+"Params"]||{}},n=e.definition["formatter"+t];switch(typeof n){case"string":rt.formatters[n]?i.formatter=rt.formatters[n]:(console.warn("Formatter Error - No such formatter found: ",n),i.formatter=rt.formatters.plaintext);break;case"function":i.formatter=n;break;default:i.formatter=rt.formatters.plaintext;break}return i}cellRendered(e){e.modules.format&&e.modules.format.renderedCallback&&!e.modules.format.rendered&&(e.modules.format.renderedCallback(),e.modules.format.rendered=!0)}formatHeader(e,t,i){var n,r,o,a;return e.definition.titleFormatter?(n=this.getFormatter(e.definition.titleFormatter),o=l=>{e.titleFormatterRendered=l},a={getValue:function(){return t},getElement:function(){return i},getType:function(){return"header"},getColumn:function(){return e.getComponent()},getTable:()=>this.table},r=e.definition.titleFormatterParams||{},r=typeof r=="function"?r():r,n.call(this,a,r,o)):t}formatValue(e){var t=e.getComponent(),i=typeof e.column.modules.format.params=="function"?e.column.modules.format.params(t):e.column.modules.format.params;function n(r){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=r,e.modules.format.rendered=!1}return e.column.modules.format.formatter.call(this,t,i,n)}formatExportValue(e,t){var i=e.column.modules.format[t],n;if(i){let o=function(a){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=a,e.modules.format.rendered=!1};var r=o;return n=typeof i.params=="function"?i.params(e.getComponent()):i.params,i.formatter.call(this,e.getComponent(),n,o)}else return this.formatValue(e)}sanitizeHTML(e){if(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=/]/g,function(i){return t[i]})}else return e}emptyToSpace(e){return e===null||typeof e>"u"||e===""?"&nbsp;":e}getFormatter(e){switch(typeof e){case"string":rt.formatters[e]?e=rt.formatters[e]:(console.warn("Formatter Error - No such formatter found: ",e),e=rt.formatters.plaintext);break;case"function":break;default:e=rt.formatters.plaintext;break}return e}}rt.moduleName="format";rt.formatters=hm;class Tu extends le{constructor(e){super(e),this.leftColumns=[],this.rightColumns=[],this.initializationMode="left",this.active=!1,this.blocked=!0,this.registerColumnOption("frozen")}reset(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.active=!1}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("column-add",this.reinitializeColumns.bind(this)),this.subscribe("column-delete",this.reinitializeColumns.bind(this)),this.subscribe("table-redraw",this.layout.bind(this)),this.subscribe("layout-refreshing",this.blockLayout.bind(this)),this.subscribe("layout-refreshed",this.unblockLayout.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this))}blockLayout(){this.blocked=!0}unblockLayout(){this.blocked=!1}layoutCell(e){this.layoutElement(e.element,e.column)}reinitializeColumns(){this.reset(),this.table.columnManager.columnsByIndex.forEach(e=>{this.initializeColumn(e)})}initializeColumn(e){var t={margin:0,edge:!1};e.isGroup||(this.frozenCheck(e)?(t.position=this.initializationMode,this.initializationMode=="left"?this.leftColumns.push(e):this.rightColumns.unshift(e),this.active=!0,e.modules.frozen=t):this.initializationMode="right")}frozenCheck(e){return e.parent.isGroup&&e.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),e.parent.isGroup?this.frozenCheck(e.parent):e.definition.frozen}layoutCalcRows(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}layoutGroupCalcs(e){e.forEach(t=>{t.calcs.top&&this.layoutRow(t.calcs.top),t.calcs.bottom&&this.layoutRow(t.calcs.bottom),t.groupList&&t.groupList.length&&this.layoutGroupCalcs(t.groupList)})}layoutColumnPosition(e){var t=[],i=0,n=0;this.leftColumns.forEach((r,o)=>{if(r.modules.frozen.marginValue=i,r.modules.frozen.margin=r.modules.frozen.marginValue+"px",r.visible&&(i+=r.getWidth()),o==this.leftColumns.length-1?r.modules.frozen.edge=!0:r.modules.frozen.edge=!1,r.parent.isGroup){var a=this.getColGroupParentElement(r);t.includes(a)||(this.layoutElement(a,r),t.push(a)),r.modules.frozen.edge&&a.classList.add("tabulator-frozen-"+r.modules.frozen.position)}else this.layoutElement(r.getElement(),r);e&&r.cells.forEach(l=>{this.layoutElement(l.getElement(!0),r)})}),this.rightColumns.forEach((r,o)=>{r.modules.frozen.marginValue=n,r.modules.frozen.margin=r.modules.frozen.marginValue+"px",r.visible&&(n+=r.getWidth()),o==this.rightColumns.length-1?r.modules.frozen.edge=!0:r.modules.frozen.edge=!1,r.parent.isGroup?this.layoutElement(this.getColGroupParentElement(r),r):this.layoutElement(r.getElement(),r),e&&r.cells.forEach(a=>{this.layoutElement(a.getElement(!0),r)})})}getColGroupParentElement(e){return e.parent.isGroup?this.getColGroupParentElement(e.parent):e.getElement()}layout(){this.active&&!this.blocked&&(this.layoutColumnPosition(),this.reinitializeRows(),this.layoutCalcRows())}reinitializeRows(){var e=this.table.rowManager.getVisibleRows(!0),t=this.table.rowManager.getRows().filter(i=>!e.includes(i));t.forEach(i=>{i.deinitialize()}),e.forEach(i=>{i.type==="row"&&this.layoutRow(i)})}layoutRow(e){this.table.options.layout==="fitDataFill"&&this.rightColumns.length&&(this.table.rowManager.getTableElement().style.minWidth="calc(100% - "+this.rightMargin+")"),this.leftColumns.forEach(t=>{var i=e.getCell(t);i&&this.layoutElement(i.getElement(!0),t)}),this.rightColumns.forEach(t=>{var i=e.getCell(t);i&&this.layoutElement(i.getElement(!0),t)})}layoutElement(e,t){var i;t.modules.frozen&&e&&(e.style.position="sticky",this.table.rtl?i=t.modules.frozen.position==="left"?"right":"left":i=t.modules.frozen.position,e.style[i]=t.modules.frozen.margin,e.classList.add("tabulator-frozen"),t.modules.frozen.edge&&e.classList.add("tabulator-frozen-"+t.modules.frozen.position))}adjustForScrollbar(e){this.rightColumns.length&&(this.table.columnManager.getContentsElement().style.width="calc(100% - "+e+"px)")}_calcSpace(e,t){var i=0;for(let n=0;n<t;n++)e[n].visible&&(i+=e[n].getWidth());return i}}Tu.moduleName="frozenColumns";class ku extends le{constructor(e){super(e),this.topElement=document.createElement("div"),this.rows=[],this.registerComponentFunction("row","freeze",this.freezeRow.bind(this)),this.registerComponentFunction("row","unfreeze",this.unfreezeRow.bind(this)),this.registerComponentFunction("row","isFrozen",this.isRowFrozen.bind(this)),this.registerTableOption("frozenRowsField","id"),this.registerTableOption("frozenRows",!1)}initialize(){this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),this.table.columnManager.getContentsElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10),this.table.options.frozenRows&&(this.subscribe("data-processed",this.initializeRows.bind(this)),this.subscribe("row-added",this.initializeRow.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this))),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}initializeRows(){this.table.rowManager.getRows().forEach(e=>{this.initializeRow(e)})}initializeRow(e){var t=this.table.options.frozenRows,i=typeof t;i==="number"?e.getPosition()&&e.getPosition()+this.rows.length<=t&&this.freezeRow(e):i==="function"?t.call(this.table,e.getComponent())&&this.freezeRow(e):Array.isArray(t)&&t.includes(e.data[this.options("frozenRowsField")])&&this.freezeRow(e)}isRowFrozen(e){var t=this.rows.indexOf(e);return t>-1}isFrozen(){return!!this.rows.length}visibleRows(e,t){return this.rows.forEach(i=>{t.push(i)}),t}getRows(e){var t=e.slice(0);return this.rows.forEach(function(i){var n=t.indexOf(i);n>-1&&t.splice(n,1)}),t}freezeRow(e){e.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(e.modules.frozen=!0,this.topElement.appendChild(e.getElement()),e.initialize(),e.normalizeHeight(),this.rows.push(e),this.refreshData(!1,"display"),this.table.rowManager.adjustTableSize(),this.styleRows())}unfreezeRow(e){e.modules.frozen?(e.modules.frozen=!1,this.detachRow(e),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")}detachRow(e){var t=this.rows.indexOf(e);if(t>-1){var i=e.getElement();i.parentNode&&i.parentNode.removeChild(i),this.rows.splice(t,1)}}styleRows(e){this.rows.forEach((t,i)=>{this.table.rowManager.styleRow(t,i)})}}ku.moduleName="frozenRows";class cm{constructor(e){return this._group=e,this.type="GroupComponent",new Proxy(this,{get:function(t,i,n){return typeof t[i]<"u"?t[i]:t._group.groupManager.table.componentFunctionBinder.handle("group",t._group,i)}})}getKey(){return this._group.key}getField(){return this._group.field}getElement(){return this._group.element}getRows(){return this._group.getRows(!0)}getSubGroups(){return this._group.getSubGroups(!0)}getParentGroup(){return this._group.parent?this._group.parent.getComponent():!1}isVisible(){return this._group.visible}show(){this._group.show()}hide(){this._group.hide()}toggle(){this._group.toggleVisibility()}scrollTo(e,t){return this._group.groupManager.table.rowManager.scrollToRow(this._group,e,t)}_getSelf(){return this._group}getTable(){return this._group.groupManager.table}}class Si{constructor(e,t,i,n,r,o,a){this.groupManager=e,this.parent=t,this.key=n,this.level=i,this.field=r,this.hasSubGroups=i<e.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=a,this.rows=[],this.groups=[],this.groupList=[],this.generator=o,this.element=!1,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=a?a.visible:typeof e.startOpen[i]<"u"?e.startOpen[i]:e.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}wipe(e){e||(this.groupList.length?this.groupList.forEach(function(t){t.wipe()}):this.rows.forEach(t=>{t.modules&&delete t.modules.group})),this.element=!1,this.arrowElement=!1,this.elementContents=!1}createElements(){var e=document.createElement("div");e.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(e),this.groupManager.table.options.movableRows!==!1&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}createValueGroups(){var e=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]&&this.groupManager.allowedValues[e].forEach(t=>{this._createGroup(t,e)})}addBindings(){var e;this.groupManager.table.options.groupToggleElement&&(e=this.groupManager.table.options.groupToggleElement=="arrow"?this.arrowElement:this.element,e.addEventListener("click",t=>{this.groupManager.table.options.groupToggleElement==="arrow"&&(t.stopPropagation(),t.stopImmediatePropagation()),setTimeout(()=>{this.toggleVisibility()})}))}_createGroup(e,t){var i=t+"_"+e,n=new Si(this.groupManager,this,t,e,this.groupManager.groupIDLookups[t].field,this.groupManager.headerGenerator[t]||this.groupManager.headerGenerator[0],this.old?this.old.groups[i]:!1);this.groups[i]=n,this.groupList.push(n)}_addRowToGroup(e){var t=this.level+1;if(this.hasSubGroups){var i=this.groupManager.groupIDLookups[t].func(e.getData()),n=t+"_"+i;this.groupManager.allowedValues&&this.groupManager.allowedValues[t]?this.groups[n]&&this.groups[n].addRow(e):(this.groups[n]||this._createGroup(i,t),this.groups[n].addRow(e))}}_addRow(e){this.rows.push(e),e.modules.group=this}insertRow(e,t,i){var n=this.conformRowData({});e.updateData(n);var r=this.rows.indexOf(t);r>-1?i?this.rows.splice(r+1,0,e):this.rows.splice(r,0,e):i?this.rows.push(e):this.rows.unshift(e),e.modules.group=this,this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}scrollHeader(e){this.arrowElement&&(this.arrowElement.style.marginLeft=e,this.groupList.forEach(function(t){t.scrollHeader(e)}))}getRowIndex(e){}conformRowData(e){return this.field?e[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(e=this.parent.conformRowData(e)),e}removeRow(e){var t=this.rows.indexOf(e),i=e.getElement();t>-1&&this.rows.splice(t,1),!this.groupManager.table.options.groupValues&&!this.rows.length?(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0)):(i.parentNode&&i.parentNode.removeChild(i),this.groupManager.blockRedraw||(this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)))}removeGroup(e){var t=e.level+"_"+e.key,i;this.groups[t]&&(delete this.groups[t],i=this.groupList.indexOf(e),i>-1&&this.groupList.splice(i,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}getHeadersAndRows(){var e=[];return e.push(this),this._visSet(),this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.visible?this.groupList.length?this.groupList.forEach(function(t){e=e.concat(t.getHeadersAndRows())}):(this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):!this.groupList.length&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&(this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))),e}getData(e,t){var i=[];return this._visSet(),(!e||e&&this.visible)&&this.rows.forEach(n=>{i.push(n.getData(t||"data"))}),i}getRowCount(){var e=0;return this.groupList.length?this.groupList.forEach(t=>{e+=t.getRowCount()}):e=this.rows.length,e}toggleVisibility(){this.visible?this.hide():this.show()}hide(){this.visible=!1,this.groupManager.table.rowManager.getRenderMode()=="basic"&&!this.groupManager.table.options.pagination?(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach(e=>{var t=e.getHeadersAndRows();t.forEach(i=>{i.detachElement()})}):this.rows.forEach(e=>{var t=e.getElement();t.parentNode.removeChild(t)}),this.groupManager.updateGroupRows(!0)):this.groupManager.updateGroupRows(!0),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}show(){if(this.visible=!0,this.groupManager.table.rowManager.getRenderMode()=="basic"&&!this.groupManager.table.options.pagination){this.element.classList.add("tabulator-group-visible");var e=this.generateElement();this.groupList.length?this.groupList.forEach(t=>{var i=t.getHeadersAndRows();i.forEach(n=>{var r=n.getElement();e.parentNode.insertBefore(r,e.nextSibling),n.initialize(),e=r})}):this.rows.forEach(t=>{var i=t.getElement();e.parentNode.insertBefore(i,e.nextSibling),t.initialize(),e=i}),this.groupManager.updateGroupRows(!0)}else this.groupManager.updateGroupRows(!0);this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}_visSet(){var e=[];typeof this.visible=="function"&&(this.rows.forEach(function(t){e.push(t.getData())}),this.visible=this.visible(this.key,this.getRowCount(),e,this.getComponent()))}getRowGroup(e){var t=!1;return this.groupList.length?this.groupList.forEach(function(i){var n=i.getRowGroup(e);n&&(t=n)}):this.rows.find(function(i){return i===e})&&(t=this),t}getSubGroups(e){var t=[];return this.groupList.forEach(function(i){t.push(e?i.getComponent():i)}),t}getRows(e,t){var i=[];return t&&this.groupList.length?this.groupList.forEach(n=>{i=i.concat(n.getRows(e,t))}):this.rows.forEach(function(n){i.push(e?n.getComponent():n)}),i}generateGroupHeaderContents(){var e=[],t=this.getRows(!1,!0);for(t.forEach(function(i){e.push(i.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),e,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);typeof this.elementContents=="string"?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}getPath(e=[]){return e.unshift(this.key),this.parent&&this.parent.getPath(e),e}getElement(){return this.elementContents?this.element:this.generateElement()}generateElement(){this.addBindings=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var e=0;e<this.element.childNodes.length;++e)this.element.childNodes[e].parentNode.removeChild(this.element.childNodes[e]);return this.generateGroupHeaderContents(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}normalizeHeight(){this.setHeight(this.element.clientHeight)}initialize(e){(!this.initialized||e)&&(this.normalizeHeight(),this.initialized=!0)}reinitialize(){this.initialized=!1,this.height=0,Ae.elVisible(this.element)&&this.initialize(!0)}setHeight(e){this.height!=e&&(this.height=e,this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getGroup(){return this}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}rendered(){}getComponent(){return this.component||(this.component=new cm(this)),this.component}}class Su extends le{constructor(e){super(e),this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayHandler=this.getRows.bind(this),this.blockRedraw=!1,this.registerTableOption("groupBy",!1),this.registerTableOption("groupStartOpen",!0),this.registerTableOption("groupValues",!1),this.registerTableOption("groupUpdateOnCellEdit",!1),this.registerTableOption("groupHeader",!1),this.registerTableOption("groupHeaderPrint",null),this.registerTableOption("groupHeaderClipboard",null),this.registerTableOption("groupHeaderHtmlOutput",null),this.registerTableOption("groupHeaderDownload",null),this.registerTableOption("groupToggleElement","arrow"),this.registerTableOption("groupClosedShowCalcs",!1),this.registerTableFunction("setGroupBy",this.setGroupBy.bind(this)),this.registerTableFunction("setGroupValues",this.setGroupValues.bind(this)),this.registerTableFunction("setGroupStartOpen",this.setGroupStartOpen.bind(this)),this.registerTableFunction("setGroupHeader",this.setGroupHeader.bind(this)),this.registerTableFunction("getGroups",this.userGetGroups.bind(this)),this.registerTableFunction("getGroupedData",this.userGetGroupedData.bind(this)),this.registerComponentFunction("row","getGroup",this.rowGetGroup.bind(this))}initialize(){this.subscribe("table-destroy",this._blockRedrawing.bind(this)),this.subscribe("rows-wipe",this._blockRedrawing.bind(this)),this.subscribe("rows-wiped",this._restore_redrawing.bind(this)),this.table.options.groupBy&&(this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("table-built",this.configureGroupSetup.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0)}_blockRedrawing(){this.blockRedraw=!0}_restore_redrawing(){this.blockRedraw=!1}configureGroupSetup(){if(this.table.options.groupBy){var e=this.table.options.groupBy,t=this.table.options.groupStartOpen,i=this.table.options.groupHeader;if(this.allowedValues=this.table.options.groupValues,Array.isArray(e)&&Array.isArray(i)&&e.length>i.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",(r,o)=>{this.headerGenerator[0]=(a,l,c)=>(typeof a>"u"?"":a)+"<span>("+l+" "+(l===1?r:o.groups.items)+")</span>"}),this.groupIDLookups=[],e)this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="table"&&this.table.options.columnCalcs!="both"&&this.table.modules.columnCalcs.removeCalcs();else if(this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="group"){var n=this.table.columnManager.getRealColumns();n.forEach(r=>{r.definition.topCalc&&this.table.modules.columnCalcs.initializeTopRow(),r.definition.bottomCalc&&this.table.modules.columnCalcs.initializeBottomRow()})}Array.isArray(e)||(e=[e]),e.forEach((r,o)=>{var a,l;typeof r=="function"?a=r:(l=this.table.columnManager.getColumnByField(r),l?a=function(c){return l.getFieldValue(c)}:a=function(c){return c[r]}),this.groupIDLookups.push({field:typeof r=="function"?!1:r,func:a,values:this.allowedValues?this.allowedValues[o]:!1})}),t&&(Array.isArray(t)||(t=[t]),t.forEach(r=>{}),this.startOpen=t),i&&(this.headerGenerator=Array.isArray(i)?i:[i])}else this.groupList=[],this.groups={}}rowSample(e,t){if(this.table.options.groupBy){var i=this.getGroups(!1)[0];t.push(i.getRows(!1)[0])}return t}virtualRenderFill(){var e=this.table.rowManager.tableElement,t=this.table.rowManager.getVisibleRows();if(this.table.options.groupBy)t=t.filter(i=>i.type!=="group"),e.style.minWidth=t.length?"":this.table.columnManager.getWidth()+"px";else return t}rowAddingIndex(e,t,i){if(this.table.options.groupBy){this.assignRowToGroup(e);var n=e.modules.group.rows;return n.length>1&&(!t||t&&n.indexOf(t)==-1?i?n[0]!==e&&(t=n[0],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!i)):n[n.length-1]!==e&&(t=n[n.length-1],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!i)):this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!i)),t}}trackChanges(){this.dispatch("group-changed")}setGroupBy(e){this.table.options.groupBy=e,this.initialized||this.initialize(),this.configureGroupSetup(),!e&&this.table.modExists("columnCalcs")&&this.table.options.columnCalcs===!0&&this.table.modules.columnCalcs.reinitializeCalcs(),this.refreshData(),this.trackChanges()}setGroupValues(e){this.table.options.groupValues=e,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupStartOpen(e){this.table.options.groupStartOpen=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}setGroupHeader(e){this.table.options.groupHeader=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}userGetGroups(e){return this.getGroups(!0)}userGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData()}rowGetGroup(e){return e.modules.group?e.modules.group.getComponent():!1}rowMoving(e,t,i){if(this.table.options.groupBy){!i&&t instanceof Si&&(t=this.table.rowManager.prevDisplayRow(e)||t);var n=t instanceof Si?t:t.modules.group,r=e instanceof Si?e:e.modules.group;n===r?this.table.rowManager.moveRowInArray(n.rows,e,t,i):(r&&r.removeRow(e),n.insertRow(e,t,i))}}rowDeleting(e){this.table.options.groupBy&&e.modules.group&&e.modules.group.removeRow(e)}rowsUpdated(e){this.table.options.groupBy&&this.updateGroupRows(!0)}cellUpdated(e){this.table.options.groupBy&&this.reassignRowToGroup(e.row)}getRows(e){return this.table.options.groupBy&&this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(e),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):e.slice(0)}getGroups(e){var t=[];return this.groupList.forEach(function(i){t.push(e?i.getComponent():i)}),t}getChildGroups(e){var t=[];return e||(e=this),e.groupList.forEach(i=>{i.groupList.length?t=t.concat(this.getChildGroups(i)):t.push(i)}),t}wipe(){this.table.options.groupBy&&(this.groupList.forEach(function(e){e.wipe()}),this.groupList=[],this.groups={})}pullGroupListData(e){var t=[];return e.forEach(i=>{var n={};n.level=0,n.rowCount=0,n.headerContent="";var r=[];i.hasSubGroups?(r=this.pullGroupListData(i.groupList),n.level=i.level,n.rowCount=r.length-i.groupList.length,n.headerContent=i.generator(i.key,n.rowCount,i.rows,i),t.push(n),t=t.concat(r)):(n.level=i.level,n.headerContent=i.generator(i.key,i.rows.length,i.rows,i),n.rowCount=i.getRows().length,t.push(n),i.getRows().forEach(o=>{t.push(o.getData("data"))}))}),t}getGroupedData(){return this.pullGroupListData(this.groupList)}getRowGroup(e){var t=!1;return this.options("dataTree")&&(e=this.table.modules.dataTree.getTreeParentRoot(e)),this.groupList.forEach(i=>{var n=i.getRowGroup(e);n&&(t=n)}),t}countGroups(){return this.groupList.length}generateGroups(e){var t=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach(i=>{this.createGroup(i,0,t)}),e.forEach(i=>{this.assignRowToExistingGroup(i,t)})):e.forEach(i=>{this.assignRowToGroup(i,t)}),Object.values(t).forEach(i=>{i.wipe(!0)})}createGroup(e,t,i){var n=t+"_"+e,r;i=i||[],r=new Si(this,!1,t,e,this.groupIDLookups[0].field,this.headerGenerator[0],i[n]),this.groups[n]=r,this.groupList.push(r)}assignRowToExistingGroup(e,t){var i=this.groupIDLookups[0].func(e.getData()),n="0_"+i;this.groups[n]&&this.groups[n].addRow(e)}assignRowToGroup(e,t){var i=this.groupIDLookups[0].func(e.getData()),n=!this.groups["0_"+i];return n&&this.createGroup(i,0,t),this.groups["0_"+i].addRow(e),!n}reassignRowToGroup(e){if(e.type==="row"){var t=e.modules.group,i=t.getPath(),n=this.getExpectedPath(e),r;r=i.length==n.length&&i.every((o,a)=>o===n[a]),r||(t.removeRow(e),this.assignRowToGroup(e,this.groups),this.refreshData(!0))}}getExpectedPath(e){var t=[],i=e.getData();return this.groupIDLookups.forEach(n=>{t.push(n.func(i))}),t}updateGroupRows(e){var t=[];return this.blockRedraw||(this.groupList.forEach(i=>{t=t.concat(i.getHeadersAndRows())}),e&&this.refreshData(!0)),t}scrollHeaders(e){this.table.options.groupBy&&(this.table.options.renderHorizontal==="virtual"&&(e-=this.table.columnManager.renderer.vDomPadLeft),e=e+"px",this.groupList.forEach(t=>{t.scrollHeader(e)}))}removeGroup(e){var t=e.level+"_"+e.key,i;this.groups[t]&&(delete this.groups[t],i=this.groupList.indexOf(e),i>-1&&this.groupList.splice(i,1))}checkBasicModeGroupHeaderWidth(){var e=this.table.rowManager.tableElement,t=!0;this.table.rowManager.getDisplayRows().forEach((i,n)=>{this.table.rowManager.styleRow(i,n),e.appendChild(i.getElement()),i.initialize(!0),i.type!=="group"&&(t=!1)}),t?e.style.minWidth=this.table.columnManager.getWidth()+"px":e.style.minWidth=""}}Su.moduleName="groupRows";var fm={cellEdit:function(s){s.component.setValueProcessData(s.data.oldValue),s.component.cellRendered()},rowAdd:function(s){s.component.deleteActual()},rowDelete:function(s){var e=this.table.rowManager.addRowActual(s.data.data,s.data.pos,s.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(s.component,e)},rowMove:function(s){var e=s.data.posFrom-s.data.posTo>0;this.table.rowManager.moveRowActual(s.component,this.table.rowManager.getRowFromPosition(s.data.posFrom),e),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}},pm={cellEdit:function(s){s.component.setValueProcessData(s.data.newValue),s.component.cellRendered()},rowAdd:function(s){var e=this.table.rowManager.addRowActual(s.data.data,s.data.pos,s.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(s.component,e)},rowDelete:function(s){s.component.deleteActual()},rowMove:function(s){this.table.rowManager.moveRowActual(s.component,this.table.rowManager.getRowFromPosition(s.data.posTo),s.data.after),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}};class pi extends le{constructor(e){super(e),this.history=[],this.index=-1,this.registerTableOption("history",!1)}initialize(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}rowMoved(e,t,i){this.action("rowMove",e,{posFrom:e.getPosition(),posTo:t.getPosition(),to:t,after:i})}rowAdded(e,t,i,n){this.action("rowAdd",e,{data:t,pos:i,index:n})}rowDeleted(e){var t,i;this.table.options.groupBy?(i=e.getComponent().getGroup()._getSelf().rows,t=i.indexOf(e),t&&(t=i[t-1])):(t=e.table.rowManager.getRowIndex(e),t&&(t=e.table.rowManager.rows[t-1])),this.action("rowDelete",e,{data:e.getData(),pos:!t,index:t})}cellUpdated(e){this.action("cellEdit",e,{oldValue:e.oldValue,newValue:e.value})}clear(){this.history=[],this.index=-1}action(e,t,i){this.history=this.history.slice(0,this.index+1),this.history.push({type:e,component:t,data:i}),this.index++}getHistoryUndoSize(){return this.index+1}getHistoryRedoSize(){return this.history.length-(this.index+1)}clearComponentHistory(e){var t=this.history.findIndex(function(i){return i.component===e});t>-1&&(this.history.splice(t,1),t<=this.index&&this.index--,this.clearComponentHistory(e))}undo(){if(this.index>-1){let e=this.history[this.index];return pi.undoers[e.type].call(this,e),this.index--,this.dispatchExternal("historyUndo",e.type,e.component.getComponent(),e.data),!0}else return console.warn("History Undo Error - No more history to undo"),!1}redo(){if(this.history.length-1>this.index){this.index++;let e=this.history[this.index];return pi.redoers[e.type].call(this,e),this.dispatchExternal("historyRedo",e.type,e.component.getComponent(),e.data),!0}else return console.warn("History Redo Error - No more history to redo"),!1}_rebindRow(e,t){this.history.forEach(function(i){if(i.component instanceof qe)i.component===e&&(i.component=t);else if(i.component instanceof ms&&i.component.row===e){var n=i.component.column.getField();n&&(i.component=t.getCell(n))}})}}pi.moduleName="history";pi.undoers=fm;pi.redoers=pm;class Ru extends le{constructor(e){super(e),this.fieldIndex=[],this.hasIndex=!1}initialize(){this.tableElementCheck()}tableElementCheck(){this.table.originalElement&&this.table.originalElement.tagName==="TABLE"&&(this.table.originalElement.childNodes.length?this.parseTable():console.warn("Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element."))}parseTable(){var e=this.table.originalElement,t=this.table.options,i=e.getElementsByTagName("th"),n=e.getElementsByTagName("tbody")[0],r=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),n=n?n.getElementsByTagName("tr"):[],this._extractOptions(e,t),i.length?this._extractHeaders(i,n):this._generateBlankHeaders(i,n);for(var o=0;o<n.length;o++){var a=n[o],l=a.getElementsByTagName("td"),c={};this.hasIndex||(c[t.index]=o);for(var p=0;p<l.length;p++){var v=l[p];typeof this.fieldIndex[p]<"u"&&(c[this.fieldIndex[p]]=v.innerHTML)}r.push(c)}t.data=r,this.dispatchExternal("htmlImported")}_extractOptions(e,t,i){var n=e.attributes,r=Object.keys(i||t),o={};r.forEach(p=>{o[p.toLowerCase()]=p});for(var a in n){var l=n[a],c;l&&typeof l=="object"&&l.name&&l.name.indexOf("tabulator-")===0&&(c=l.name.replace("tabulator-",""),typeof o[c]<"u"&&(t[o[c]]=this._attribValue(l.value)))}}_attribValue(e){return e==="true"?!0:e==="false"?!1:e}_findCol(e){var t=this.table.options.columns.find(i=>i.title===e);return t||!1}_extractHeaders(e,t){for(var i=0;i<e.length;i++){var n=e[i],r=!1,o=this._findCol(n.textContent),a;o?r=!0:o={title:n.textContent.trim()},o.field||(o.field=n.textContent.trim().toLowerCase().replaceAll(" ","_")),a=n.getAttribute("width"),a&&!o.width&&(o.width=a),this._extractOptions(n,o,this.table.columnManager.optionsList.registeredDefaults),this.fieldIndex[i]=o.field,o.field==this.table.options.index&&(this.hasIndex=!0),r||this.table.options.columns.push(o)}}_generateBlankHeaders(e,t){for(var i=0;i<e.length;i++){var n=e[i],r={title:"",field:"col"+i};this.fieldIndex[i]=r.field;var o=n.getAttribute("width");o&&(r.width=o),this.table.options.columns.push(r)}}}Ru.moduleName="htmlTableImport";function gm(s){var e=[],t=0,i=0,n=!1;for(let r=0;r<s.length;r++){let o=s[r],a=s[r+1];if(e[t]||(e[t]=[]),e[t][i]||(e[t][i]=""),o=='"'&&n&&a=='"'){e[t][i]+=o,r++;continue}if(o=='"'){n=!n;continue}if(o==","&&!n){i++;continue}if(o=="\r"&&a==`
`&&!n){i=0,t++,r++;continue}if((o=="\r"||o==`
`)&&!n){i=0,t++;continue}e[t][i]+=o}return e}function mm(s){try{return JSON.parse(s)}catch(e){return console.warn("JSON Import Error - File contents is invalid JSON",e),Promise.reject()}}function bm(s){return s}var vm={csv:gm,json:mm,array:bm};class vs extends le{constructor(e){super(e),this.registerTableOption("importFormat"),this.registerTableOption("importReader","text")}initialize(){this.registerTableFunction("import",this.importFromFile.bind(this)),this.table.options.importFormat&&(this.subscribe("data-loading",this.loadDataCheck.bind(this),10),this.subscribe("data-load",this.loadData.bind(this),10))}loadDataCheck(e){return this.table.options.importFormat&&(typeof e=="string"||Array.isArray(e)&&e.length&&Array.isArray(e))}loadData(e,t,i,n,r){return this.importData(this.lookupImporter(),e).then(this.structureData.bind(this)).catch(o=>(console.error("Import Error:",o||"Unable to import data"),Promise.reject(o)))}lookupImporter(e){var t;return e||(e=this.table.options.importFormat),typeof e=="string"?t=vs.importers[e]:t=e,t||console.error("Import Error - Importer not found:",e),t}importFromFile(e,t){var i=this.lookupImporter(e);if(i)return this.pickFile(t).then(this.importData.bind(this,i)).then(this.structureData.bind(this)).then(this.setData.bind(this)).catch(n=>(console.error("Import Error:",n||"Unable to import file"),Promise.reject(n)))}pickFile(e){return new Promise((t,i)=>{var n=document.createElement("input");n.type="file",n.accept=e,n.addEventListener("change",r=>{var o=n.files[0],a=new FileReader;switch(this.table.options.importReader){case"buffer":a.readAsArrayBuffer(o);break;case"binary":a.readAsBinaryString(o);break;case"url":a.readAsDataURL(o);break;case"text":default:a.readAsText(o)}a.onload=l=>{t(a.result)},a.onerror=l=>{console.warn("File Load Error - Unable to read file"),i()}}),n.click()})}importData(e,t){var i=e.call(this.table,t);return i instanceof Promise?i:i?Promise.resolve(i):Promise.reject()}structureData(e){var t=[];return Array.isArray(e)&&e.length&&Array.isArray(e[0])?(this.table.options.autoColumns?t=this.structureArrayToObject(e):t=this.structureArrayToColumns(e),t):e}structureArrayToObject(e){var t=e.shift(),i=e.map(n=>{var r={};return t.forEach((o,a)=>{r[o]=n[a]}),r});return i}structureArrayToColumns(e){var t=[],i=this.table.getColumns();return i[0]&&e[0][0]&&i[0].getDefinition().title===e[0][0]&&e.shift(),e.forEach(n=>{var r={};n.forEach((o,a)=>{var l=i[a];l&&(r[l.getField()]=o)}),t.push(r)}),t}setData(e){return this.table.setData(e)}}vs.moduleName="import";vs.importers=vm;class Lu extends le{constructor(e){super(e),this.eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowMouseDown:"row-mousedown",rowMouseUp:"row-mouseup",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellMouseDown:"cell-mousedown",cellMouseUp:"cell-mouseup",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerMouseDown:"column-mousedown",headerMouseUp:"column-mouseup",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupMouseDown:"group-mousedown",groupMouseUp:"group-mouseup",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},this.subscribers={},this.touchSubscribers={},this.columnSubscribers={},this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null},group:{tap:null,tapDbl:null,tapHold:null}},this.registerColumnOption("headerClick"),this.registerColumnOption("headerDblClick"),this.registerColumnOption("headerContext"),this.registerColumnOption("headerMouseEnter"),this.registerColumnOption("headerMouseLeave"),this.registerColumnOption("headerMouseOver"),this.registerColumnOption("headerMouseOut"),this.registerColumnOption("headerMouseMove"),this.registerColumnOption("headerMouseDown"),this.registerColumnOption("headerMouseUp"),this.registerColumnOption("headerTap"),this.registerColumnOption("headerDblTap"),this.registerColumnOption("headerTapHold"),this.registerColumnOption("cellClick"),this.registerColumnOption("cellDblClick"),this.registerColumnOption("cellContext"),this.registerColumnOption("cellMouseEnter"),this.registerColumnOption("cellMouseLeave"),this.registerColumnOption("cellMouseOver"),this.registerColumnOption("cellMouseOut"),this.registerColumnOption("cellMouseMove"),this.registerColumnOption("cellMouseDown"),this.registerColumnOption("cellMouseUp"),this.registerColumnOption("cellTap"),this.registerColumnOption("cellDblTap"),this.registerColumnOption("cellTapHold")}initialize(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this)),this.subscribe("scroll-horizontal",this.clearTouchWatchers.bind(this)),this.subscribe("scroll-vertical",this.clearTouchWatchers.bind(this))}clearTouchWatchers(){var e=Object.values(this.touchWatchers);e.forEach(t=>{for(let i in t)t[i]=null})}cellContentsSelectionFixer(e,t){var i;if(!(this.table.modExists("edit")&&this.table.modules.edit.currentCell===t)){e.preventDefault();try{document.selection?(i=document.body.createTextRange(),i.moveToElementText(t.getElement()),i.select()):window.getSelection&&(i=document.createRange(),i.selectNode(t.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(i))}catch{}}}initializeExternalEvents(){for(let e in this.eventMap)this.subscriptionChangeExternal(e,this.subscriptionChanged.bind(this,e))}subscriptionChanged(e,t){t?this.subscribers[e]||(this.eventMap[e].includes("-")?(this.subscribers[e]=this.handle.bind(this,e),this.subscribe(this.eventMap[e],this.subscribers[e])):this.subscribeTouchEvents(e)):this.eventMap[e].includes("-")?this.subscribers[e]&&!this.columnSubscribers[e]&&!this.subscribedExternal(e)&&(this.unsubscribe(this.eventMap[e],this.subscribers[e]),delete this.subscribers[e]):this.unsubscribeTouchEvents(e)}subscribeTouchEvents(e){var t=this.eventMap[e];this.touchSubscribers[t+"-touchstart"]||(this.touchSubscribers[t+"-touchstart"]=this.handleTouch.bind(this,t,"start"),this.touchSubscribers[t+"-touchend"]=this.handleTouch.bind(this,t,"end"),this.subscribe(t+"-touchstart",this.touchSubscribers[t+"-touchstart"]),this.subscribe(t+"-touchend",this.touchSubscribers[t+"-touchend"])),this.subscribers[e]=!0}unsubscribeTouchEvents(e){var t=!0,i=this.eventMap[e];if(this.subscribers[e]&&!this.subscribedExternal(e)){delete this.subscribers[e];for(let n in this.eventMap)this.eventMap[n]===i&&this.subscribers[n]&&(t=!1);t&&(this.unsubscribe(i+"-touchstart",this.touchSubscribers[i+"-touchstart"]),this.unsubscribe(i+"-touchend",this.touchSubscribers[i+"-touchend"]),delete this.touchSubscribers[i+"-touchstart"],delete this.touchSubscribers[i+"-touchend"])}}initializeColumn(e){var t=e.definition;for(let i in this.eventMap)t[i]&&(this.subscriptionChanged(i,!0),this.columnSubscribers[i]||(this.columnSubscribers[i]=[]),this.columnSubscribers[i].push(e))}handle(e,t,i){this.dispatchEvent(e,t,i)}handleTouch(e,t,i,n){var r=this.touchWatchers[e];switch(e==="column"&&(e="header"),t){case"start":r.tap=!0,clearTimeout(r.tapHold),r.tapHold=setTimeout(()=>{clearTimeout(r.tapHold),r.tapHold=null,r.tap=null,clearTimeout(r.tapDbl),r.tapDbl=null,this.dispatchEvent(e+"TapHold",i,n)},1e3);break;case"end":r.tap&&(r.tap=null,this.dispatchEvent(e+"Tap",i,n)),r.tapDbl?(clearTimeout(r.tapDbl),r.tapDbl=null,this.dispatchEvent(e+"DblTap",i,n)):r.tapDbl=setTimeout(()=>{clearTimeout(r.tapDbl),r.tapDbl=null},300),clearTimeout(r.tapHold),r.tapHold=null;break}}dispatchEvent(e,t,i){var n=i.getComponent(),r;this.columnSubscribers[e]&&(i instanceof ms?r=i.column.definition[e]:i instanceof vt&&(r=i.definition[e]),r&&r(t,n)),this.dispatchExternal(e,t,n)}}Lu.moduleName="interaction";var wm={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:["ctrl + 90","meta + 90"],redo:["ctrl + 89","meta + 89"],copyToClipboard:["ctrl + 67","meta + 67"]},ym={keyBlock:function(s){s.stopPropagation(),s.preventDefault()},scrollPageUp:function(s){var e=this.table.rowManager,t=e.scrollTop-e.element.clientHeight;s.preventDefault(),e.displayRowsCount&&(t>=0?e.element.scrollTop=t:e.scrollToRow(e.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(s){var e=this.table.rowManager,t=e.scrollTop+e.element.clientHeight,i=e.element.scrollHeight;s.preventDefault(),e.displayRowsCount&&(t<=i?e.element.scrollTop=t:e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(s){var e=this.table.rowManager;s.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(s){var e=this.table.rowManager;s.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1]),this.table.element.focus()},navPrev:function(s){this.dispatch("keybinding-nav-prev",s)},navNext:function(s){this.dispatch("keybinding-nav-next",s)},navLeft:function(s){this.dispatch("keybinding-nav-left",s)},navRight:function(s){this.dispatch("keybinding-nav-right",s)},navUp:function(s){this.dispatch("keybinding-nav-up",s)},navDown:function(s){this.dispatch("keybinding-nav-down",s)},undo:function(s){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(s.preventDefault(),this.table.modules.history.undo()))},redo:function(s){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(s.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(s){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}};class $t extends le{constructor(e){super(e),this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1,this.registerTableOption("keybindings",{}),this.registerTableOption("tabEndNewRow",!1)}initialize(){var e=this.table.options.keybindings,t={};this.watchKeys={},this.pressedKeys=[],e!==!1&&(Object.assign(t,$t.bindings),Object.assign(t,e),this.mapBindings(t),this.bindEvents()),this.subscribe("table-destroy",this.clearBindings.bind(this))}mapBindings(e){for(let t in e)$t.actions[t]?e[t]&&(typeof e[t]!="object"&&(e[t]=[e[t]]),e[t].forEach(i=>{var n=Array.isArray(i)?i:[i];n.forEach(r=>{this.mapBinding(t,r)})})):console.warn("Key Binding Error - no such action:",t)}mapBinding(e,t){var i={action:$t.actions[e],keys:[],ctrl:!1,shift:!1,meta:!1},n=t.toString().toLowerCase().split(" ").join("").split("+");n.forEach(r=>{switch(r){case"ctrl":i.ctrl=!0;break;case"shift":i.shift=!0;break;case"meta":i.meta=!0;break;default:r=isNaN(r)?r.toUpperCase().charCodeAt(0):parseInt(r),i.keys.push(r),this.watchKeys[r]||(this.watchKeys[r]=[]),this.watchKeys[r].push(i)}})}bindEvents(){var e=this;this.keyupBinding=function(t){var i=t.keyCode,n=e.watchKeys[i];n&&(e.pressedKeys.push(i),n.forEach(function(r){e.checkBinding(t,r)}))},this.keydownBinding=function(t){var i=t.keyCode,n=e.watchKeys[i];if(n){var r=e.pressedKeys.indexOf(i);r>-1&&e.pressedKeys.splice(r,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}clearBindings(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}checkBinding(e,t){var i=!0;return e.ctrlKey==t.ctrl&&e.shiftKey==t.shift&&e.metaKey==t.meta?(t.keys.forEach(n=>{var r=this.pressedKeys.indexOf(n);r==-1&&(i=!1)}),i&&t.action.call(this,e),!0):!1}}$t.moduleName="keybindings";$t.bindings=wm;$t.actions=ym;class Au extends le{constructor(e){super(e),this.menuContainer=null,this.nestedMenuBlock=!1,this.currentComponent=null,this.rootPopup=null,this.columnSubscribers={},this.registerTableOption("menuContainer",void 0),this.registerTableOption("rowContextMenu",!1),this.registerTableOption("rowClickMenu",!1),this.registerTableOption("rowDblClickMenu",!1),this.registerTableOption("groupContextMenu",!1),this.registerTableOption("groupClickMenu",!1),this.registerTableOption("groupDblClickMenu",!1),this.registerColumnOption("headerContextMenu"),this.registerColumnOption("headerClickMenu"),this.registerColumnOption("headerDblClickMenu"),this.registerColumnOption("headerMenu"),this.registerColumnOption("headerMenuIcon"),this.registerColumnOption("contextMenu"),this.registerColumnOption("clickMenu"),this.registerColumnOption("dblClickMenu")}initialize(){this.deprecatedOptionsCheck(),this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){this.deprecationCheck("menuContainer","popupContainer")||(this.table.options.popupContainer=this.table.options.menuContainer)}initializeRowWatchers(){this.table.options.rowContextMenu&&(this.subscribe("row-contextmenu",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu)),this.table.on("rowTapHold",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu))),this.table.options.rowClickMenu&&this.subscribe("row-click",this.loadMenuEvent.bind(this,this.table.options.rowClickMenu)),this.table.options.rowDblClickMenu&&this.subscribe("row-dblclick",this.loadMenuEvent.bind(this,this.table.options.rowDblClickMenu))}initializeGroupWatchers(){this.table.options.groupContextMenu&&(this.subscribe("group-contextmenu",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu)),this.table.on("groupTapHold",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu))),this.table.options.groupClickMenu&&this.subscribe("group-click",this.loadMenuEvent.bind(this,this.table.options.groupClickMenu)),this.table.options.groupDblClickMenu&&this.subscribe("group-dblclick",this.loadMenuEvent.bind(this,this.table.options.groupDblClickMenu))}initializeColumn(e){var t=e.definition;t.headerContextMenu&&!this.columnSubscribers.headerContextMenu&&(this.columnSubscribers.headerContextMenu=this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextMenu),this.table.on("headerTapHold",this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"))),t.headerClickMenu&&!this.columnSubscribers.headerClickMenu&&(this.columnSubscribers.headerClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerClickMenu"),this.subscribe("column-click",this.columnSubscribers.headerClickMenu)),t.headerDblClickMenu&&!this.columnSubscribers.headerDblClickMenu&&(this.columnSubscribers.headerDblClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerDblClickMenu"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickMenu)),t.headerMenu&&this.initializeColumnHeaderMenu(e),t.contextMenu&&!this.columnSubscribers.contextMenu&&(this.columnSubscribers.contextMenu=this.loadMenuTableCellEvent.bind(this,"contextMenu"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextMenu),this.table.on("cellTapHold",this.loadMenuTableCellEvent.bind(this,"contextMenu"))),t.clickMenu&&!this.columnSubscribers.clickMenu&&(this.columnSubscribers.clickMenu=this.loadMenuTableCellEvent.bind(this,"clickMenu"),this.subscribe("cell-click",this.columnSubscribers.clickMenu)),t.dblClickMenu&&!this.columnSubscribers.dblClickMenu&&(this.columnSubscribers.dblClickMenu=this.loadMenuTableCellEvent.bind(this,"dblClickMenu"),this.subscribe("cell-dblclick",this.columnSubscribers.dblClickMenu))}initializeColumnHeaderMenu(e){var t=e.definition.headerMenuIcon,i;i=document.createElement("span"),i.classList.add("tabulator-header-popup-button"),t?(typeof t=="function"&&(t=t(e.getComponent())),t instanceof HTMLElement?i.appendChild(t):i.innerHTML=t):i.innerHTML="&vellip;",i.addEventListener("click",n=>{n.stopPropagation(),n.preventDefault(),this.loadMenuEvent(e.definition.headerMenu,n,e)}),e.titleElement.insertBefore(i,e.titleElement.firstChild)}loadMenuTableCellEvent(e,t,i){i._cell&&(i=i._cell),i.column.definition[e]&&this.loadMenuEvent(i.column.definition[e],t,i)}loadMenuTableColumnEvent(e,t,i){i._column&&(i=i._column),i.definition[e]&&this.loadMenuEvent(i.definition[e],t,i)}loadMenuEvent(e,t,i){i._group?i=i._group:i._row&&(i=i._row),e=typeof e=="function"?e.call(this.table,t,i.getComponent()):e,this.loadMenu(t,i,e)}loadMenu(e,t,i,n,r){var o=!(e instanceof MouseEvent),a=document.createElement("div"),l;if(a.classList.add("tabulator-menu"),o||e.preventDefault(),!(!i||!i.length)){if(n)l=r.child(a);else{if(this.nestedMenuBlock){if(this.rootPopup)return}else this.nestedMenuBlock=setTimeout(()=>{this.nestedMenuBlock=!1},100);this.rootPopup&&this.rootPopup.hide(),this.rootPopup=l=this.popup(a)}i.forEach(c=>{var p=document.createElement("div"),v=c.label,y=c.disabled;c.separator?p.classList.add("tabulator-menu-separator"):(p.classList.add("tabulator-menu-item"),typeof v=="function"&&(v=v.call(this.table,t.getComponent())),v instanceof Node?p.appendChild(v):p.innerHTML=v,typeof y=="function"&&(y=y.call(this.table,t.getComponent())),y?(p.classList.add("tabulator-menu-item-disabled"),p.addEventListener("click",_=>{_.stopPropagation()})):c.menu&&c.menu.length?p.addEventListener("click",_=>{_.stopPropagation(),this.loadMenu(_,t,c.menu,p,l)}):c.action&&p.addEventListener("click",_=>{c.action(_,t.getComponent())}),c.menu&&c.menu.length&&p.classList.add("tabulator-menu-item-submenu")),a.appendChild(p)}),a.addEventListener("click",c=>{this.rootPopup&&this.rootPopup.hide()}),l.show(n||e),l===this.rootPopup&&(this.rootPopup.hideOnBlur(()=>{this.rootPopup=null,this.currentComponent&&(this.dispatchExternal("menuClosed",this.currentComponent.getComponent()),this.currentComponent=null)}),this.currentComponent=t,this.dispatchExternal("menuOpened",t.getComponent()))}}}Au.moduleName="menu";class Mu extends le{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.registerTableOption("movableColumns",!1)}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.classList.add("tabulator-col-placeholder"),e}initialize(){this.table.options.movableColumns&&this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(e){var t=this,i={},n;!e.modules.frozen&&!e.isGroup&&(n=e.getElement(),i.mousemove=(function(r){e.parent===t.moving.parent&&((t.touchMove?r.touches[0].pageX:r.pageX)-Ae.elOffset(n).left+t.table.columnManager.contentsElement.scrollLeft>e.getWidth()/2?(t.toCol!==e||!t.toColAfter)&&(n.parentNode.insertBefore(t.placeholderElement,n.nextSibling),t.moveColumn(e,!0)):(t.toCol!==e||t.toColAfter)&&(n.parentNode.insertBefore(t.placeholderElement,n),t.moveColumn(e,!1)))}).bind(t),n.addEventListener("mousedown",function(r){t.touchMove=!1,r.which===1&&(t.checkTimeout=setTimeout(function(){t.startMove(r,e)},t.checkPeriod))}),n.addEventListener("mouseup",function(r){r.which===1&&t.checkTimeout&&clearTimeout(t.checkTimeout)}),t.bindTouchEvents(e)),e.modules.moveColumn=i}bindTouchEvents(e){var t=e.getElement(),i=!1,n,r,o,a,l,c;t.addEventListener("touchstart",p=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,n=e.nextColumn(),o=n?n.getWidth()/2:0,r=e.prevColumn(),a=r?r.getWidth()/2:0,l=0,c=0,i=!1,this.startMove(p,e)},this.checkPeriod)},{passive:!0}),t.addEventListener("touchmove",p=>{var v,y;this.moving&&(this.moveHover(p),i||(i=p.touches[0].pageX),v=p.touches[0].pageX-i,v>0?n&&v-l>o&&(y=n,y!==e&&(i=p.touches[0].pageX,y.getElement().parentNode.insertBefore(this.placeholderElement,y.getElement().nextSibling),this.moveColumn(y,!0))):r&&-v-c>a&&(y=r,y!==e&&(i=p.touches[0].pageX,y.getElement().parentNode.insertBefore(this.placeholderElement,y.getElement()),this.moveColumn(y,!1))),y&&(n=y.nextColumn(),l=o,o=n?n.getWidth()/2:0,r=y.prevColumn(),c=a,a=r?r.getWidth()/2:0))},{passive:!0}),t.addEventListener("touchend",p=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&this.endMove(p)})}startMove(e,t){var i=t.getElement(),n=this.table.columnManager.getContentsElement(),r=this.table.columnManager.getHeadersElement();this.moving=t,this.startX=(this.touchMove?e.touches[0].pageX:e.pageX)-Ae.elOffset(i).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",i.parentNode.insertBefore(this.placeholderElement,i),i.parentNode.removeChild(i),this.hoverElement=i.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),n.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom=n.clientHeight-r.offsetHeight+"px",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(e)}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveColumn.mousemove)})}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveColumn.mousemove)})}moveColumn(e,t){var i=this.moving.getCells();this.toCol=e,this.toColAfter=t,t?e.getCells().forEach(function(n,r){var o=n.getElement(!0);o.parentNode&&i[r]&&o.parentNode.insertBefore(i[r].getElement(),o.nextSibling)}):e.getCells().forEach(function(n,r){var o=n.getElement(!0);o.parentNode&&i[r]&&o.parentNode.insertBefore(i[r].getElement(),o)})}endMove(e){(e.which===1||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}moveHover(e){var t=this.table.columnManager.getContentsElement(),i=t.scrollLeft,n=(this.touchMove?e.touches[0].pageX:e.pageX)-Ae.elOffset(t).left+i,r;this.hoverElement.style.left=n-this.startX+"px",n-i<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{r=Math.max(0,i-5),this.table.rowManager.getElement().scrollLeft=r,this.autoScrollTimeout=!1},1))),i+t.clientWidth-n<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{r=Math.min(t.clientWidth,i+5),this.table.rowManager.getElement().scrollLeft=r,this.autoScrollTimeout=!1},1)))}}Mu.moduleName="moveColumn";class xn extends le{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1,this.registerTableOption("movableRows",!1),this.registerTableOption("movableRowsConnectedTables",!1),this.registerTableOption("movableRowsConnectedElements",!1),this.registerTableOption("movableRowsSender",!1),this.registerTableOption("movableRowsReceiver","insert"),this.registerColumnOption("rowHandle")}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-row"),e.classList.add("tabulator-row-placeholder"),e}initialize(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}initializeGroupHeader(e){var t=this,i={};i.mouseup=(function(n){t.tableRowDrop(n,e)}).bind(t),i.mousemove=(function(n){var r;n.pageY-Ae.elOffset(e.element).top+t.table.rowManager.element.scrollTop>e.getHeight()/2?(t.toRow!==e||!t.toRowAfter)&&(r=e.getElement(),r.parentNode.insertBefore(t.placeholderElement,r.nextSibling),t.moveRow(e,!0)):(t.toRow!==e||t.toRowAfter)&&(r=e.getElement(),r.previousSibling&&(r.parentNode.insertBefore(t.placeholderElement,r),t.moveRow(e,!1)))}).bind(t),e.modules.moveRow=i}initializeRow(e){var t=this,i={},n;i.mouseup=(function(r){t.tableRowDrop(r,e)}).bind(t),i.mousemove=(function(r){var o=e.getElement();r.pageY-Ae.elOffset(o).top+t.table.rowManager.element.scrollTop>e.getHeight()/2?(t.toRow!==e||!t.toRowAfter)&&(o.parentNode.insertBefore(t.placeholderElement,o.nextSibling),t.moveRow(e,!0)):(t.toRow!==e||t.toRowAfter)&&(o.parentNode.insertBefore(t.placeholderElement,o),t.moveRow(e,!1))}).bind(t),this.hasHandle||(n=e.getElement(),n.addEventListener("mousedown",function(r){r.which===1&&(t.checkTimeout=setTimeout(function(){t.startMove(r,e)},t.checkPeriod))}),n.addEventListener("mouseup",function(r){r.which===1&&t.checkTimeout&&clearTimeout(t.checkTimeout)}),this.bindTouchEvents(e,e.getElement())),e.modules.moveRow=i}initializeColumn(e){e.definition.rowHandle&&this.table.options.movableRows!==!1&&(this.hasHandle=!0)}initializeCell(e){if(e.column.definition.rowHandle&&this.table.options.movableRows!==!1){var t=this,i=e.getElement(!0);i.addEventListener("mousedown",function(n){n.which===1&&(t.checkTimeout=setTimeout(function(){t.startMove(n,e.row)},t.checkPeriod))}),i.addEventListener("mouseup",function(n){n.which===1&&t.checkTimeout&&clearTimeout(t.checkTimeout)}),this.bindTouchEvents(e.row,i)}}bindTouchEvents(e,t){var i=!1,n,r,o,a,l,c;t.addEventListener("touchstart",p=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,n=e.nextRow(),o=n?n.getHeight()/2:0,r=e.prevRow(),a=r?r.getHeight()/2:0,l=0,c=0,i=!1,this.startMove(p,e)},this.checkPeriod)},{passive:!0}),this.moving,this.toRow,this.toRowAfter,t.addEventListener("touchmove",p=>{var v,y;this.moving&&(p.preventDefault(),this.moveHover(p),i||(i=p.touches[0].pageY),v=p.touches[0].pageY-i,v>0?n&&v-l>o&&(y=n,y!==e&&(i=p.touches[0].pageY,y.getElement().parentNode.insertBefore(this.placeholderElement,y.getElement().nextSibling),this.moveRow(y,!0))):r&&-v-c>a&&(y=r,y!==e&&(i=p.touches[0].pageY,y.getElement().parentNode.insertBefore(this.placeholderElement,y.getElement()),this.moveRow(y,!1))),y&&(n=y.nextRow(),l=o,o=n?n.getHeight()/2:0,r=y.prevRow(),c=a,a=r?r.getHeight()/2:0))}),t.addEventListener("touchend",p=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&(this.endMove(p),this.touchMove=!1)})}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach(e=>{(e.type==="row"||e.type==="group")&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveRow.mousemove)})}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach(e=>{(e.type==="row"||e.type==="group")&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveRow.mousemove)})}startMove(e,t){var i=t.getElement();this.setStartPosition(e,t),this.moving=t,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(t)):(i.parentNode.insertBefore(this.placeholderElement,i),i.parentNode.removeChild(i)),this.hoverElement=i.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.dispatchExternal("rowMoving",t.getComponent()),this.moveHover(e)}setStartPosition(e,t){var i=this.touchMove?e.touches[0].pageX:e.pageX,n=this.touchMove?e.touches[0].pageY:e.pageY,r,o;r=t.getElement(),this.connection?(o=r.getBoundingClientRect(),this.startX=o.left-i+window.pageXOffset,this.startY=o.top-n+window.pageYOffset):this.startY=n-r.getBoundingClientRect().top}endMove(e){(!e||e.which===1||this.touchMove)&&(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow?this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter):this.dispatchExternal("rowMoveCancelled",this.moving.getComponent()),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}moveRow(e,t){this.toRow=e,this.toRowAfter=t}moveHover(e){this.connection?this.moveHoverConnections.call(this,e):this.moveHoverTable.call(this,e)}moveHoverTable(e){var t=this.table.rowManager.getElement(),i=t.scrollTop,n=(this.touchMove?e.touches[0].pageY:e.pageY)-t.getBoundingClientRect().top+i;this.hoverElement.style.top=Math.min(n-this.startY,this.table.rowManager.element.scrollHeight-this.hoverElement.offsetHeight)+"px"}moveHoverConnections(e){this.hoverElement.style.left=this.startX+(this.touchMove?e.touches[0].pageX:e.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?e.touches[0].pageY:e.pageY)+"px"}elementRowDrop(e,t,i){this.dispatchExternal("movableRowsElementDrop",e,t,i?i.getComponent():!1)}connectToTables(e){var t;this.connectionSelectorsTables&&(t=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",t),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:e})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach(i=>{typeof i=="string"?this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(i))):this.connectionElements.push(i)}),this.connectionElements.forEach(i=>{var n=r=>{this.elementRowDrop(r,i,this.moving)};i.addEventListener("mouseup",n),i.tabulatorElementDropEvent=n,i.classList.add("tabulator-movingrow-receiving")}))}disconnectFromTables(){var e;this.connectionSelectorsTables&&(e=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",e),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach(t=>{t.classList.remove("tabulator-movingrow-receiving"),t.removeEventListener("mouseup",t.tabulatorElementDropEvent),delete t.tabulatorElementDropEvent})}connect(e,t){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=e,this.connectedRow=t,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(i=>{i.type==="row"&&i.modules.moveRow&&i.modules.moveRow.mouseup&&i.getElement().addEventListener("mouseup",i.modules.moveRow.mouseup)}),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",t,e),!0)}disconnect(e){e===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(t=>{t.type==="row"&&t.modules.moveRow&&t.modules.moveRow.mouseup&&t.getElement().removeEventListener("mouseup",t.modules.moveRow.mouseup)}),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",e)):console.warn("Move Row Error - trying to disconnect from non connected table")}dropComplete(e,t,i){var n=!1;if(i){switch(typeof this.table.options.movableRowsSender){case"string":n=this.senders[this.table.options.movableRowsSender];break;case"function":n=this.table.options.movableRowsSender;break}n?n.call(this,this.moving?this.moving.getComponent():void 0,t?t.getComponent():void 0,e):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.dispatchExternal("movableRowsSent",this.moving.getComponent(),t?t.getComponent():void 0,e)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),t?t.getComponent():void 0,e);this.endMove()}tableRowDrop(e,t){var i=!1,n=!1;switch(e.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":i=this.receivers[this.table.options.movableRowsReceiver];break;case"function":i=this.table.options.movableRowsReceiver;break}i?n=i.call(this,this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),n?this.dispatchExternal("movableRowsReceived",this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable):this.dispatchExternal("movableRowsReceivedFailed",this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:t,success:n})}commsReceived(e,t,i){switch(t){case"connect":return this.connect(e,i.row);case"disconnect":return this.disconnect(e);case"dropcomplete":return this.dropComplete(e,i.row,i.success)}}}xn.prototype.receivers={insert:function(s,e,t){return this.table.addRow(s.getData(),void 0,e),!0},add:function(s,e,t){return this.table.addRow(s.getData()),!0},update:function(s,e,t){return e?(e.update(s.getData()),!0):!1},replace:function(s,e,t){return e?(this.table.addRow(s.getData(),void 0,e),e.delete(),!0):!1}};xn.prototype.senders={delete:function(s,e,t){s.delete()}};xn.moduleName="moveRow";var Cm={};class Oi extends le{constructor(e){super(e),this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0,this.registerColumnOption("mutator"),this.registerColumnOption("mutatorParams"),this.registerColumnOption("mutatorData"),this.registerColumnOption("mutatorDataParams"),this.registerColumnOption("mutatorEdit"),this.registerColumnOption("mutatorEditParams"),this.registerColumnOption("mutatorClipboard"),this.registerColumnOption("mutatorClipboardParams"),this.registerColumnOption("mutateLink")}initialize(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("cell-value-changed",this.mutateLink.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}rowDataChanged(e,t,i){return this.transformRow(t,"data",i)}initializeColumn(e){var t=!1,i={};this.allowedTypes.forEach(n=>{var r="mutator"+(n.charAt(0).toUpperCase()+n.slice(1)),o;e.definition[r]&&(o=this.lookupMutator(e.definition[r]),o&&(t=!0,i[r]={mutator:o,params:e.definition[r+"Params"]||{}}))}),t&&(e.modules.mutate=i)}lookupMutator(e){var t=!1;switch(typeof e){case"string":Oi.mutators[e]?t=Oi.mutators[e]:console.warn("Mutator Error - No such mutator found, ignoring: ",e);break;case"function":t=e;break}return t}transformRow(e,t,i){var n="mutator"+(t.charAt(0).toUpperCase()+t.slice(1)),r;return this.enabled&&this.table.columnManager.traverse(o=>{var a,l,c;o.modules.mutate&&(a=o.modules.mutate[n]||o.modules.mutate.mutator||!1,a&&(r=o.getFieldValue(typeof i<"u"?i:e),(t=="data"&&!i||typeof r<"u")&&(c=o.getComponent(),l=typeof a.params=="function"?a.params(r,e,t,c):a.params,o.setFieldValue(e,a.mutator(r,e,t,l,c)))))}),e}transformCell(e,t){if(e.column.modules.mutate){var i=e.column.modules.mutate.mutatorEdit||e.column.modules.mutate.mutator||!1,n={};if(i)return n=Object.assign(n,e.row.getData()),e.column.setFieldValue(n,t),i.mutator(t,n,"edit",i.params,e.getComponent())}return t}mutateLink(e){var t=e.column.definition.mutateLink;t&&(Array.isArray(t)||(t=[t]),t.forEach(i=>{var n=e.row.getCell(i);n&&n.setValue(n.getValue(),!0,!0)}))}enable(){this.enabled=!0}disable(){this.enabled=!1}}Oi.moduleName="mutator";Oi.mutators=Cm;function Em(s,e,t,i,n){var r=document.createElement("span"),o=document.createElement("span"),a=document.createElement("span"),l=document.createElement("span"),c=document.createElement("span"),p=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",v=>{o.innerHTML=v}),this.table.modules.localize.langBind("pagination|counter|of",v=>{l.innerHTML=v}),this.table.modules.localize.langBind("pagination|counter|rows",v=>{p.innerHTML=v}),i?(a.innerHTML=" "+e+"-"+Math.min(e+s-1,i)+" ",c.innerHTML=" "+i+" ",r.appendChild(o),r.appendChild(a),r.appendChild(l),r.appendChild(c),r.appendChild(p)):(a.innerHTML=" 0 ",r.appendChild(o),r.appendChild(a),r.appendChild(p)),r}function xm(s,e,t,i,n){var r=document.createElement("span"),o=document.createElement("span"),a=document.createElement("span"),l=document.createElement("span"),c=document.createElement("span"),p=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",v=>{o.innerHTML=v}),a.innerHTML=" "+t+" ",this.table.modules.localize.langBind("pagination|counter|of",v=>{l.innerHTML=v}),c.innerHTML=" "+n+" ",this.table.modules.localize.langBind("pagination|counter|pages",v=>{p.innerHTML=v}),r.appendChild(o),r.appendChild(a),r.appendChild(l),r.appendChild(c),r.appendChild(p),r}var _m={rows:Em,pages:xm};class ws extends le{constructor(e){super(e),this.mode="local",this.progressiveLoad=!1,this.element=null,this.pageCounterElement=null,this.pageCounter=null,this.size=0,this.page=1,this.count=5,this.max=1,this.remoteRowCountEstimate=null,this.initialLoad=!0,this.dataChanging=!1,this.pageSizes=[],this.registerTableOption("pagination",!1),this.registerTableOption("paginationMode","local"),this.registerTableOption("paginationSize",!1),this.registerTableOption("paginationInitialPage",1),this.registerTableOption("paginationCounter",!1),this.registerTableOption("paginationCounterElement",!1),this.registerTableOption("paginationButtonCount",5),this.registerTableOption("paginationSizeSelector",!1),this.registerTableOption("paginationElement",!1),this.registerTableOption("paginationAddRow","page"),this.registerTableOption("progressiveLoad",!1),this.registerTableOption("progressiveLoadDelay",0),this.registerTableOption("progressiveLoadScrollMargin",0),this.registerTableFunction("setMaxPage",this.setMaxPage.bind(this)),this.registerTableFunction("setPage",this.setPage.bind(this)),this.registerTableFunction("setPageToRow",this.userSetPageToRow.bind(this)),this.registerTableFunction("setPageSize",this.userSetPageSize.bind(this)),this.registerTableFunction("getPageSize",this.getPageSize.bind(this)),this.registerTableFunction("previousPage",this.previousPage.bind(this)),this.registerTableFunction("nextPage",this.nextPage.bind(this)),this.registerTableFunction("getPage",this.getPage.bind(this)),this.registerTableFunction("getPageMax",this.getPageMax.bind(this)),this.registerComponentFunction("row","pageTo",this.setPageToRow.bind(this))}initialize(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("footer-redraw",this.footerRedraw.bind(this)),this.table.options.paginationAddRow=="page"&&this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),this.table.options.paginationMode==="remote"&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad&&console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time"),this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePageCounter(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),this.table.options.progressiveLoad==="scroll"&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}rowAddingPosition(e,t){var i=this.table.rowManager,n=i.getDisplayRows(),r;return t?n.length?r=n[0]:i.activeRows.length&&(r=i.activeRows[i.activeRows.length-1],t=!1):n.length&&(r=n[n.length-1],t=!(n.length<this.size)),{index:r,top:t}}calculatePageSizes(){var e,t;this.table.options.paginationSize?this.size=this.table.options.paginationSize:(e=document.createElement("div"),e.classList.add("tabulator-row"),e.style.visibility="hidden",t=document.createElement("div"),t.classList.add("tabulator-cell"),t.innerHTML="Page Row Test",e.appendChild(t),this.table.rowManager.getTableElement().appendChild(e),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/e.offsetHeight),this.table.rowManager.getTableElement().removeChild(e)),this.dispatchExternal("pageSizeChanged",this.size),this.generatePageSizeSelectList()}initialLoadComplete(){this.initialLoad=!1}remotePageParams(e,t,i,n){return this.initialLoad||(this.progressiveLoad&&!i||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),n.page=this.page,this.size&&(n.size=this.size),n}userSetPageToRow(e){return this.table.options.pagination&&(e=this.rowManager.findRow(e),e)?this.setPageToRow(e):Promise.reject()}userSetPageSize(e){return this.table.options.pagination?(this.setPageSize(e),this.setPage(1)):!1}scrollVertical(e,t){var i,n,r;!t&&!this.table.dataLoader.loading&&(i=this.table.rowManager.getElement(),n=i.scrollHeight-i.clientHeight-e,r=this.table.options.progressiveLoadScrollMargin||i.clientHeight*2,n<r&&this.nextPage().catch(()=>{}))}restOnRenderBefore(e,t){return t||this.mode==="local"&&this.reset(),e}rowsUpdated(){this.refreshData(!0,"all")}createElements(){var e;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),e=document.createElement("button"),e.classList.add("tabulator-page"),e.setAttribute("type","button"),e.setAttribute("role","button"),e.setAttribute("aria-label",""),e.setAttribute("title",""),this.firstBut=e.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=e.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=e.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=e.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}generatePageSizeSelectList(){var e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))e=this.table.options.paginationSizeSelector,this.pageSizes=e,this.pageSizes.indexOf(this.size)==-1&&e.unshift(this.size);else if(this.pageSizes.indexOf(this.size)==-1){e=[];for(let t=1;t<5;t++)e.push(this.size*t);this.pageSizes=e}else e=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach(t=>{var i=document.createElement("option");i.value=t,t===!0?this.langBind("pagination|all",function(n){i.innerHTML=n}):i.innerHTML=t,this.pageSizeSelect.appendChild(i)}),this.pageSizeSelect.value=this.size}}initializePageCounter(){var e=this.table.options.paginationCounter,t=null;e&&(typeof e=="function"?t=e:t=ws.pageCounters[e],t?(this.pageCounter=t,this.pageCounterElement=document.createElement("span"),this.pageCounterElement.classList.add("tabulator-page-counter")):console.warn("Pagination Error - No such page counter found: ",e))}initializePaginator(e){var t,i;e||(this.langBind("pagination|first",n=>{this.firstBut.innerHTML=n}),this.langBind("pagination|first_title",n=>{this.firstBut.setAttribute("aria-label",n),this.firstBut.setAttribute("title",n)}),this.langBind("pagination|prev",n=>{this.prevBut.innerHTML=n}),this.langBind("pagination|prev_title",n=>{this.prevBut.setAttribute("aria-label",n),this.prevBut.setAttribute("title",n)}),this.langBind("pagination|next",n=>{this.nextBut.innerHTML=n}),this.langBind("pagination|next_title",n=>{this.nextBut.setAttribute("aria-label",n),this.nextBut.setAttribute("title",n)}),this.langBind("pagination|last",n=>{this.lastBut.innerHTML=n}),this.langBind("pagination|last_title",n=>{this.lastBut.setAttribute("aria-label",n),this.lastBut.setAttribute("title",n)}),this.firstBut.addEventListener("click",()=>{this.setPage(1)}),this.prevBut.addEventListener("click",()=>{this.previousPage()}),this.nextBut.addEventListener("click",()=>{this.nextPage()}),this.lastBut.addEventListener("click",()=>{this.setPage(this.max)}),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(t=document.createElement("label"),this.langBind("pagination|page_size",n=>{this.pageSizeSelect.setAttribute("aria-label",n),this.pageSizeSelect.setAttribute("title",n),t.innerHTML=n}),this.element.appendChild(t),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",n=>{this.setPageSize(this.pageSizeSelect.value=="true"?!0:this.pageSizeSelect.value),this.setPage(1)})),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),this.table.options.paginationElement||(this.table.options.paginationCounter&&(this.table.options.paginationCounterElement?this.table.options.paginationCounterElement instanceof HTMLElement?this.table.options.paginationCounterElement.appendChild(this.pageCounterElement):typeof this.table.options.paginationCounterElement=="string"&&(i=document.querySelector(this.table.options.paginationCounterElement),i?i.appendChild(this.pageCounterElement):console.warn("Pagination Error - Unable to find element matching paginationCounterElement selector:",this.table.options.paginationCounterElement)):this.footerAppend(this.pageCounterElement)),this.footerAppend(this.element)),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}initializeProgressive(e){this.initializePaginator(!0),this.mode="progressive_"+e,this.progressiveLoad=!0}trackChanges(){this.dispatch("page-changed")}setMaxRows(e){e?this.max=this.size===!0?1:Math.ceil(e/this.size):this.max=1,this.page>this.max&&(this.page=this.max)}reset(e){this.initialLoad||(this.mode=="local"||e)&&(this.page=1,this.trackChanges())}setMaxPage(e){e=parseInt(e),this.max=e||1,this.page>this.max&&(this.page=this.max,this.trigger())}setPage(e){switch(e){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return e=parseInt(e),e>0&&e<=this.max||this.mode!=="local"?(this.page=e,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",e),Promise.reject())}setPageToRow(e){var t=this.displayRows(-1),i=t.indexOf(e);if(i>-1){var n=this.size===!0?1:Math.ceil((i+1)/this.size);return this.setPage(n)}else return console.warn("Pagination Error - Requested row is not visible"),Promise.reject()}setPageSize(e){e!==!0&&(e=parseInt(e)),e>0&&(this.size=e,this.dispatchExternal("pageSizeChanged",e)),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}_setPageCounter(e,t,i){var n;if(this.pageCounter)switch(this.mode==="remote"&&(t=this.size,i=(this.page-1)*this.size+1,e=this.remoteRowCountEstimate),n=this.pageCounter.call(this,t,i,this.page,e,this.max),typeof n){case"object":if(n instanceof Node){for(;this.pageCounterElement.firstChild;)this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);this.pageCounterElement.appendChild(n)}else this.pageCounterElement.innerHTML="",n!=null&&console.warn("Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:",n);break;case"undefined":this.pageCounterElement.innerHTML="";break;default:this.pageCounterElement.innerHTML=n}}_setPageButtons(){let e=Math.floor((this.count-1)/2),t=Math.ceil((this.count-1)/2),i=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),n=this.page<=t?Math.min(this.count,this.max):Math.min(this.page+t,this.max);for(;this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);this.page==1?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(let r=i;r<=n;r++)r>0&&r<=this.max&&this.pagesElement.appendChild(this._generatePageButton(r));this.footerRedraw()}_generatePageButton(e){var t=document.createElement("button");return t.classList.add("tabulator-page"),e==this.page&&t.classList.add("active"),t.setAttribute("type","button"),t.setAttribute("role","button"),this.langBind("pagination|page_title",i=>{t.setAttribute("aria-label",i+" "+e),t.setAttribute("title",i+" "+e)}),t.setAttribute("data-page",e),t.textContent=e,t.addEventListener("click",i=>{this.setPage(e)}),t}previousPage(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Previous page would be less than page 1:",0),Promise.reject())}nextPage(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),Promise.reject())}getPage(){return this.page}getPageMax(){return this.max}getPageSize(e){return this.size}getMode(){return this.mode}getRows(e){var t=0,i,n,r,o,a=e.filter(l=>l.type==="row");if(this.mode=="local"){i=[],this.setMaxRows(e.length),this.size===!0?(n=0,r=e.length):(n=this.size*(this.page-1),r=n+parseInt(this.size)),this._setPageButtons();for(let l=n;l<r;l++){let c=e[l];c&&(i.push(c),c.type==="row"&&(o||(o=c),t++))}return this._setPageCounter(a.length,t,o?a.indexOf(o)+1:0),i}else return this._setPageButtons(),this._setPageCounter(a.length),e.slice(0)}trigger(){var e;switch(this.mode){case"local":return e=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(e),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally(()=>{this.dataChanging=!1});case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return console.warn("Pagination Error - no such pagination mode:",this.mode),Promise.reject()}}_parseRemoteData(e){var t;if(typeof e.last_page>"u"&&console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").last_page||"last_page")+"' property"),e.data)if(this.max=parseInt(e.last_page)||1,this.remoteRowCountEstimate=typeof e.last_row<"u"?e.last_row:e.last_page*this.size-(this.page==e.last_page?this.size-e.data.length:0),this.progressiveLoad){switch(this.mode){case"progressive_load":this.page==1?this.table.rowManager.setData(e.data,!1,this.page==1):this.table.rowManager.addRows(e.data),this.page<this.max&&setTimeout(()=>{this.nextPage()},this.table.options.progressiveLoadDelay);break;case"progressive_scroll":e=this.page===1?e.data:this.table.rowManager.getData().concat(e.data),this.table.rowManager.setData(e,this.page!==1,this.page==1),t=this.table.options.progressiveLoadScrollMargin||this.table.rowManager.element.clientHeight*2,this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+t&&this.page<this.max&&setTimeout(()=>{this.nextPage()});break}return!1}else this.dispatchExternal("pageLoaded",this.getPage());else console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").data||"data")+"' property");return e.data}footerRedraw(){var e=this.table.footerManager.containerElement;Math.ceil(e.clientWidth)-e.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(e.clientWidth)-e.scrollWidth<0&&(this.pagesElement.style.display="none"))}}ws.moduleName="page";ws.pageCounters=_m;var Tm={local:function(s,e){var t=localStorage.getItem(s+"-"+e);return t?JSON.parse(t):!1},cookie:function(s,e){var t=document.cookie,i=s+"-"+e,n=t.indexOf(i+"="),r,o;return n>-1&&(t=t.slice(n),r=t.indexOf(";"),r>-1&&(t=t.slice(0,r)),o=t.replace(i+"=","")),o?JSON.parse(o):!1}},km={local:function(s,e,t){localStorage.setItem(s+"-"+e,JSON.stringify(t))},cookie:function(s,e,t){var i=new Date;i.setDate(i.getDate()+1e4),document.cookie=s+"-"+e+"="+JSON.stringify(t)+"; expires="+i.toUTCString()}};class Je extends le{constructor(e){super(e),this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1,this.registerTableOption("persistence",!1),this.registerTableOption("persistenceID",""),this.registerTableOption("persistenceMode",!0),this.registerTableOption("persistenceReaderFunc",!1),this.registerTableOption("persistenceWriterFunc",!1)}localStorageTest(){var e="_tabulator_test";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}initialize(){if(this.table.options.persistence){var e=this.table.options.persistenceMode,t=this.table.options.persistenceID,i;this.mode=e!==!0?e:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?typeof this.table.options.persistenceReaderFunc=="function"?this.readFunc=this.table.options.persistenceReaderFunc:Je.readers[this.table.options.persistenceReaderFunc]?this.readFunc=Je.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):Je.readers[this.mode]?this.readFunc=Je.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?typeof this.table.options.persistenceWriterFunc=="function"?this.writeFunc=this.table.options.persistenceWriterFunc:Je.writers[this.table.options.persistenceWriterFunc]?this.writeFunc=Je.writers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):Je.writers[this.mode]?this.writeFunc=Je.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(t||this.table.element.getAttribute("id")||""),this.config={sort:this.table.options.persistence===!0||this.table.options.persistence.sort,filter:this.table.options.persistence===!0||this.table.options.persistence.filter,headerFilter:this.table.options.persistence===!0||this.table.options.persistence.headerFilter,group:this.table.options.persistence===!0||this.table.options.persistence.group,page:this.table.options.persistence===!0||this.table.options.persistence.page,columns:this.table.options.persistence===!0?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(i=this.retrieveData("page"),i&&(typeof i.paginationSize<"u"&&(this.config.page===!0||this.config.page.size)&&(this.table.options.paginationSize=i.paginationSize),typeof i.paginationInitialPage<"u"&&(this.config.page===!0||this.config.page.page)&&(this.table.options.paginationInitialPage=i.paginationInitialPage))),this.config.group&&(i=this.retrieveData("group"),i&&(typeof i.groupBy<"u"&&(this.config.group===!0||this.config.group.groupBy)&&(this.table.options.groupBy=i.groupBy),typeof i.groupStartOpen<"u"&&(this.config.group===!0||this.config.group.groupStartOpen)&&(this.table.options.groupStartOpen=i.groupStartOpen),typeof i.groupHeader<"u"&&(this.config.group===!0||this.config.group.groupHeader)&&(this.table.options.groupHeader=i.groupHeader))),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns"))),this.subscribe("table-built",this.tableBuilt.bind(this),0),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("filter-changed",this.eventSave.bind(this,"headerFilter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("column-width",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}eventSave(e){this.config[e]&&this.save(e)}tableBuilt(){var e,t,i;this.config.sort&&(e=this.load("sort"),e&&(this.table.options.initialSort=e)),this.config.filter&&(t=this.load("filter"),t&&(this.table.options.initialFilter=t)),this.config.headerFilter&&(i=this.load("headerFilter"),i&&(this.table.options.initialHeaderFilter=i))}tableRedraw(e){e&&this.config.columns&&this.save("columns")}getColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns())}setColumnLayout(e){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,e)),!0}initializeColumn(e){var t,i;this.config.columns&&(this.defWatcherBlock=!0,t=e.getDefinition(),i=this.config.columns===!0?Object.keys(t):this.config.columns,i.forEach(n=>{var r=Object.getOwnPropertyDescriptor(t,n),o=t[n];r&&Object.defineProperty(t,n,{set:a=>{o=a,this.defWatcherBlock||this.save("columns"),r.set&&r.set(a)},get:()=>(r.get&&r.get(),o)})}),this.defWatcherBlock=!1)}load(e,t){var i=this.retrieveData(e);return t&&(i=i?this.mergeDefinition(t,i):t),i}retrieveData(e){return this.readFunc?this.readFunc(this.id,e):!1}mergeDefinition(e,t){var i=[];return t=t||[],t.forEach((n,r)=>{var o=this._findColumn(e,n),a;o&&(this.config.columns===!0||this.config.columns==null?(a=Object.keys(o),a.push("width")):a=this.config.columns,a.forEach(l=>{l!=="columns"&&typeof n[l]<"u"&&(o[l]=n[l])}),o.columns&&(o.columns=this.mergeDefinition(o.columns,n.columns)),i.push(o))}),e.forEach((n,r)=>{var o=this._findColumn(t,n);o||(i.length>r?i.splice(r,0,n):i.push(n))}),i}_findColumn(e,t){var i=t.columns?"group":t.field?"field":"object";return e.find(function(n){switch(i){case"group":return n.title===t.title&&n.columns.length===t.columns.length;case"field":return n.field===t.field;case"object":return n===t}})}save(e){var t={};switch(e){case"columns":t=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":t=this.table.modules.filter.getFilters();break;case"headerFilter":t=this.table.modules.filter.getHeaderFilters();break;case"sort":t=this.validateSorters(this.table.modules.sort.getSort());break;case"group":t=this.getGroupConfig();break;case"page":t=this.getPageConfig();break}this.writeFunc&&this.writeFunc(this.id,e,t)}validateSorters(e){return e.forEach(function(t){t.column=t.field,delete t.field}),e}getGroupConfig(){var e={};return this.config.group&&((this.config.group===!0||this.config.group.groupBy)&&(e.groupBy=this.table.options.groupBy),(this.config.group===!0||this.config.group.groupStartOpen)&&(e.groupStartOpen=this.table.options.groupStartOpen),(this.config.group===!0||this.config.group.groupHeader)&&(e.groupHeader=this.table.options.groupHeader)),e}getPageConfig(){var e={};return this.config.page&&((this.config.page===!0||this.config.page.size)&&(e.paginationSize=this.table.modules.page.getPageSize()),(this.config.page===!0||this.config.page.page)&&(e.paginationInitialPage=this.table.modules.page.getPage())),e}parseColumns(e){var t=[],i=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return e.forEach(n=>{var r={},o=n.getDefinition(),a;n.isGroup?(r.title=o.title,r.columns=this.parseColumns(n.getColumns())):(r.field=n.getField(),this.config.columns===!0||this.config.columns==null?(a=Object.keys(o),a.push("width"),a.push("visible")):a=this.config.columns,a.forEach(l=>{switch(l){case"width":r.width=n.getWidth();break;case"visible":r.visible=n.visible;break;default:typeof o[l]!="function"&&i.indexOf(l)===-1&&(r[l]=o[l])}})),t.push(r)}),t}}Je.moduleName="persistence";Je.moduleInitOrder=-10;Je.readers=Tm;Je.writers=km;class Ou extends le{constructor(e){super(e),this.columnSubscribers={},this.registerTableOption("rowContextPopup",!1),this.registerTableOption("rowClickPopup",!1),this.registerTableOption("rowDblClickPopup",!1),this.registerTableOption("groupContextPopup",!1),this.registerTableOption("groupClickPopup",!1),this.registerTableOption("groupDblClickPopup",!1),this.registerColumnOption("headerContextPopup"),this.registerColumnOption("headerClickPopup"),this.registerColumnOption("headerDblClickPopup"),this.registerColumnOption("headerPopup"),this.registerColumnOption("headerPopupIcon"),this.registerColumnOption("contextPopup"),this.registerColumnOption("clickPopup"),this.registerColumnOption("dblClickPopup"),this.registerComponentFunction("cell","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("column","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("row","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("group","popup",this._componentPopupCall.bind(this))}initialize(){this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}_componentPopupCall(e,t,i){this.loadPopupEvent(t,null,e,i)}initializeRowWatchers(){this.table.options.rowContextPopup&&(this.subscribe("row-contextmenu",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup)),this.table.on("rowTapHold",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup))),this.table.options.rowClickPopup&&this.subscribe("row-click",this.loadPopupEvent.bind(this,this.table.options.rowClickPopup)),this.table.options.rowDblClickPopup&&this.subscribe("row-dblclick",this.loadPopupEvent.bind(this,this.table.options.rowDblClickPopup))}initializeGroupWatchers(){this.table.options.groupContextPopup&&(this.subscribe("group-contextmenu",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup)),this.table.on("groupTapHold",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup))),this.table.options.groupClickPopup&&this.subscribe("group-click",this.loadPopupEvent.bind(this,this.table.options.groupClickPopup)),this.table.options.groupDblClickPopup&&this.subscribe("group-dblclick",this.loadPopupEvent.bind(this,this.table.options.groupDblClickPopup))}initializeColumn(e){var t=e.definition;t.headerContextPopup&&!this.columnSubscribers.headerContextPopup&&(this.columnSubscribers.headerContextPopup=this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextPopup),this.table.on("headerTapHold",this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"))),t.headerClickPopup&&!this.columnSubscribers.headerClickPopup&&(this.columnSubscribers.headerClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerClickPopup"),this.subscribe("column-click",this.columnSubscribers.headerClickPopup)),t.headerDblClickPopup&&!this.columnSubscribers.headerDblClickPopup&&(this.columnSubscribers.headerDblClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerDblClickPopup"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickPopup)),t.headerPopup&&this.initializeColumnHeaderPopup(e),t.contextPopup&&!this.columnSubscribers.contextPopup&&(this.columnSubscribers.contextPopup=this.loadPopupTableCellEvent.bind(this,"contextPopup"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextPopup),this.table.on("cellTapHold",this.loadPopupTableCellEvent.bind(this,"contextPopup"))),t.clickPopup&&!this.columnSubscribers.clickPopup&&(this.columnSubscribers.clickPopup=this.loadPopupTableCellEvent.bind(this,"clickPopup"),this.subscribe("cell-click",this.columnSubscribers.clickPopup)),t.dblClickPopup&&!this.columnSubscribers.dblClickPopup&&(this.columnSubscribers.dblClickPopup=this.loadPopupTableCellEvent.bind(this,"dblClickPopup"),this.subscribe("cell-click",this.columnSubscribers.dblClickPopup))}initializeColumnHeaderPopup(e){var t=e.definition.headerPopupIcon,i;i=document.createElement("span"),i.classList.add("tabulator-header-popup-button"),t?(typeof t=="function"&&(t=t(e.getComponent())),t instanceof HTMLElement?i.appendChild(t):i.innerHTML=t):i.innerHTML="&vellip;",i.addEventListener("click",n=>{n.stopPropagation(),n.preventDefault(),this.loadPopupEvent(e.definition.headerPopup,n,e)}),e.titleElement.insertBefore(i,e.titleElement.firstChild)}loadPopupTableCellEvent(e,t,i){i._cell&&(i=i._cell),i.column.definition[e]&&this.loadPopupEvent(i.column.definition[e],t,i)}loadPopupTableColumnEvent(e,t,i){i._column&&(i=i._column),i.definition[e]&&this.loadPopupEvent(i.definition[e],t,i)}loadPopupEvent(e,t,i,n){var r;function o(a){r=a}i._group?i=i._group:i._row&&(i=i._row),e=typeof e=="function"?e.call(this.table,t,i.getComponent(),o):e,this.loadPopup(t,i,e,r,n)}loadPopup(e,t,i,n,r){var o=!(e instanceof MouseEvent),a,l;i instanceof HTMLElement?a=i:(a=document.createElement("div"),a.innerHTML=i),a.classList.add("tabulator-popup"),a.addEventListener("click",c=>{c.stopPropagation()}),o||e.preventDefault(),l=this.popup(a),typeof n=="function"&&l.renderCallback(n),e?l.show(e):l.show(t.getElement(),r||"center"),l.hideOnBlur(()=>{this.dispatchExternal("popupClosed",t.getComponent())}),this.dispatchExternal("popupOpened",t.getComponent())}}Ou.moduleName="popup";class Du extends le{constructor(e){super(e),this.element=!1,this.manualBlock=!1,this.beforeprintEventHandler=null,this.afterprintEventHandler=null,this.registerTableOption("printAsHtml",!1),this.registerTableOption("printFormatter",!1),this.registerTableOption("printHeader",!1),this.registerTableOption("printFooter",!1),this.registerTableOption("printStyled",!0),this.registerTableOption("printRowRange","visible"),this.registerTableOption("printConfig",{}),this.registerColumnOption("print"),this.registerColumnOption("titlePrint")}initialize(){this.table.options.printAsHtml&&(this.beforeprintEventHandler=this.replaceTable.bind(this),this.afterprintEventHandler=this.cleanup.bind(this),window.addEventListener("beforeprint",this.beforeprintEventHandler),window.addEventListener("afterprint",this.afterprintEventHandler),this.subscribe("table-destroy",this.destroy.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}destroy(){this.table.options.printAsHtml&&(window.removeEventListener("beforeprint",this.beforeprintEventHandler),window.removeEventListener("afterprint",this.afterprintEventHandler))}replaceTable(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}cleanup(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}printFullscreen(e,t,i){var n=window.scrollX,r=window.scrollY,o=document.createElement("div"),a=document.createElement("div"),l=this.table.modules.export.generateTable(typeof i<"u"?i:this.table.options.printConfig,typeof t<"u"?t:this.table.options.printStyled,e||this.table.options.printRowRange,"print"),c,p;this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(o.classList.add("tabulator-print-header"),c=typeof this.table.options.printHeader=="function"?this.table.options.printHeader.call(this.table):this.table.options.printHeader,typeof c=="string"?o.innerHTML=c:o.appendChild(c),this.element.appendChild(o)),this.element.appendChild(l),this.table.options.printFooter&&(a.classList.add("tabulator-print-footer"),p=typeof this.table.options.printFooter=="function"?this.table.options.printFooter.call(this.table):this.table.options.printFooter,typeof p=="string"?a.innerHTML=p:a.appendChild(p),this.element.appendChild(a)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,l),window.print(),this.cleanup(),window.scrollTo(n,r),this.manualBlock=!1}}Du.moduleName="print";class Pu extends le{constructor(e){super(e),this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0,this.registerTableOption("reactiveData",!1)}initialize(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this,"cellsave")),this.subscribe("cell-value-save-after",this.unblock.bind(this,"cellsave")),this.subscribe("row-data-save-before",this.block.bind(this,"rowsave")),this.subscribe("row-data-save-after",this.unblock.bind(this,"rowsave")),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}watchData(e){var t=this,i;this.currentVersion++,i=this.currentVersion,this.unwatchData(),this.data=e,this.origFuncs.push=e.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var n=Array.from(arguments),r;return!t.blocked&&i===t.currentVersion&&(t.block("data-push"),n.forEach(o=>{t.table.rowManager.addRowActual(o,!1)}),r=t.origFuncs.push.apply(e,arguments),t.unblock("data-push")),r}}),this.origFuncs.unshift=e.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var n=Array.from(arguments),r;return!t.blocked&&i===t.currentVersion&&(t.block("data-unshift"),n.forEach(o=>{t.table.rowManager.addRowActual(o,!0)}),r=t.origFuncs.unshift.apply(e,arguments),t.unblock("data-unshift")),r}}),this.origFuncs.shift=e.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var n,r;return!t.blocked&&i===t.currentVersion&&(t.block("data-shift"),t.data.length&&(n=t.table.rowManager.getRowFromDataObject(t.data[0]),n&&n.deleteActual()),r=t.origFuncs.shift.call(e),t.unblock("data-shift")),r}}),this.origFuncs.pop=e.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var n,r;return!t.blocked&&i===t.currentVersion&&(t.block("data-pop"),t.data.length&&(n=t.table.rowManager.getRowFromDataObject(t.data[t.data.length-1]),n&&n.deleteActual()),r=t.origFuncs.pop.call(e),t.unblock("data-pop")),r}}),this.origFuncs.splice=e.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var n=Array.from(arguments),r=n[0]<0?e.length+n[0]:n[0],o=n[1],a=n[2]?n.slice(2):!1,l,c;if(!t.blocked&&i===t.currentVersion){if(t.block("data-splice"),a&&(l=e[r]?t.table.rowManager.getRowFromDataObject(e[r]):!1,l?a.forEach(v=>{t.table.rowManager.addRowActual(v,!0,l,!0)}):(a=a.slice().reverse(),a.forEach(v=>{t.table.rowManager.addRowActual(v,!0,!1,!0)}))),o!==0){var p=e.slice(r,typeof n[1]>"u"?n[1]:r+o);p.forEach((v,y)=>{var _=t.table.rowManager.getRowFromDataObject(v);_&&_.deleteActual(y!==p.length-1)})}(a||o!==0)&&t.table.rowManager.reRenderInPosition(),c=t.origFuncs.splice.apply(e,arguments),t.unblock("data-splice")}return c}})}unwatchData(){if(this.data!==!1)for(var e in this.origFuncs)Object.defineProperty(this.data,e,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}watchRow(e){var t=e.getData();for(var i in t)this.watchKey(e,t,i);this.table.options.dataTree&&this.watchTreeChildren(e)}watchTreeChildren(e){var t=this,i=e.getData()[this.table.options.dataTreeChildField],n={};i&&(n.push=i.push,Object.defineProperty(i,"push",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-push");var r=n.push.apply(i,arguments);this.rebuildTree(e),t.unblock("tree-push")}return r}}),n.unshift=i.unshift,Object.defineProperty(i,"unshift",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-unshift");var r=n.unshift.apply(i,arguments);this.rebuildTree(e),t.unblock("tree-unshift")}return r}}),n.shift=i.shift,Object.defineProperty(i,"shift",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-shift");var r=n.shift.call(i);this.rebuildTree(e),t.unblock("tree-shift")}return r}}),n.pop=i.pop,Object.defineProperty(i,"pop",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-pop");var r=n.pop.call(i);this.rebuildTree(e),t.unblock("tree-pop")}return r}}),n.splice=i.splice,Object.defineProperty(i,"splice",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-splice");var r=n.splice.apply(i,arguments);this.rebuildTree(e),t.unblock("tree-splice")}return r}}))}rebuildTree(e){this.table.modules.dataTree.initializeRow(e),this.table.modules.dataTree.layoutRow(e),this.table.rowManager.refreshActiveData("tree",!1,!0)}watchKey(e,t,i){var n=this,r=Object.getOwnPropertyDescriptor(t,i),o=t[i],a=this.currentVersion;Object.defineProperty(t,i,{set:l=>{if(o=l,!n.blocked&&a===n.currentVersion){n.block("key");var c={};c[i]=l,e.updateData(c),n.unblock("key")}r.set&&r.set(l)},get:()=>(r.get&&r.get(),o)})}unwatchRow(e){var t=e.getData();for(var i in t)Object.defineProperty(t,i,{value:t[i]})}block(e){this.blocked||(this.blocked=e)}unblock(e){this.blocked===e&&(this.blocked=!1)}}Pu.moduleName="reactiveData";class Iu extends le{constructor(e){super(e),this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.latestX=!1,this.handle=null,this.initialNextColumn=null,this.nextColumn=null,this.initialized=!1,this.registerColumnOption("resizable",!0),this.registerTableOption("resizableColumnFit",!1)}initialize(){this.subscribe("column-rendered",this.layoutColumnHeader.bind(this))}initializeEventWatchers(){this.initialized||(this.subscribe("cell-rendered",this.layoutCellHandles.bind(this)),this.subscribe("cell-delete",this.deInitializeComponent.bind(this)),this.subscribe("cell-height",this.resizeHandle.bind(this)),this.subscribe("column-moved",this.columnLayoutUpdated.bind(this)),this.subscribe("column-hide",this.deInitializeColumn.bind(this)),this.subscribe("column-show",this.columnLayoutUpdated.bind(this)),this.subscribe("column-width",this.columnWidthUpdated.bind(this)),this.subscribe("column-delete",this.deInitializeComponent.bind(this)),this.subscribe("column-height",this.resizeHandle.bind(this)),this.initialized=!0)}layoutCellHandles(e){e.row.type==="row"&&(this.deInitializeComponent(e),this.initializeColumn("cell",e,e.column,e.element))}layoutColumnHeader(e){e.definition.resizable&&(this.initializeEventWatchers(),this.deInitializeComponent(e),this.initializeColumn("header",e,e,e.element))}columnLayoutUpdated(e){var t=e.prevColumn();this.reinitializeColumn(e),t&&this.reinitializeColumn(t)}columnWidthUpdated(e){e.modules.frozen&&(this.table.modules.frozenColumns.leftColumns.includes(e)?this.table.modules.frozenColumns.leftColumns.forEach(t=>{this.reinitializeColumn(t)}):this.table.modules.frozenColumns.rightColumns.includes(e)&&this.table.modules.frozenColumns.rightColumns.forEach(t=>{this.reinitializeColumn(t)}))}frozenColumnOffset(e){var t=!1;return e.modules.frozen&&(t=e.modules.frozen.marginValue,e.modules.frozen.position==="left"?t+=e.getWidth()-3:t&&(t-=3)),t!==!1?t+"px":!1}reinitializeColumn(e){var t=this.frozenColumnOffset(e);e.cells.forEach(i=>{i.modules.resize&&i.modules.resize.handleEl&&(t&&(i.modules.resize.handleEl.style[e.modules.frozen.position]=t,i.modules.resize.handleEl.style["z-index"]=11),i.element.after(i.modules.resize.handleEl))}),e.modules.resize&&e.modules.resize.handleEl&&(t&&(e.modules.resize.handleEl.style[e.modules.frozen.position]=t),e.element.after(e.modules.resize.handleEl))}initializeColumn(e,t,i,n){var r=this,o=!1,a=i.definition.resizable,l={},c=i.getLastColumn();if(e==="header"&&(o=i.definition.formatter=="textarea"||i.definition.variableHeight,l={variableHeight:o}),(a===!0||a==e)&&this._checkResizability(c)){var p=document.createElement("span");p.className="tabulator-col-resize-handle",p.addEventListener("click",function(y){y.stopPropagation()});var v=function(y){r.startColumn=i,r.initialNextColumn=r.nextColumn=c.nextColumn(),r._mouseDown(y,c,p)};p.addEventListener("mousedown",v),p.addEventListener("touchstart",v,{passive:!0}),p.addEventListener("dblclick",y=>{var _=c.getWidth();y.stopPropagation(),c.reinitializeWidth(!0),_!==c.getWidth()&&(r.dispatch("column-resized",c),r.table.externalEvents.dispatch("columnResized",c.getComponent()))}),i.modules.frozen&&(p.style.position="sticky",p.style[i.modules.frozen.position]=this.frozenColumnOffset(i)),l.handleEl=p,n.parentNode&&i.visible&&n.after(p)}t.modules.resize=l}deInitializeColumn(e){this.deInitializeComponent(e),e.cells.forEach(t=>{this.deInitializeComponent(t)})}deInitializeComponent(e){var t;e.modules.resize&&(t=e.modules.resize.handleEl,t&&t.parentElement&&t.parentElement.removeChild(t))}resizeHandle(e,t){e.modules.resize&&e.modules.resize.handleEl&&(e.modules.resize.handleEl.style.height=t)}_checkResizability(e){return e.definition.resizable}_mouseDown(e,t,i){var n=this;n.table.element.classList.add("tabulator-block-select");function r(a){var l=typeof a.screenX>"u"?a.touches[0].screenX:a.screenX,c=l-n.startX,p=l-n.latestX,v,y;if(n.latestX=l,n.table.rtl&&(c=-c,p=-p),v=t.width==t.minWidth||t.width==t.maxWidth,t.setWidth(n.startWidth+c),y=t.width==t.minWidth||t.width==t.maxWidth,p<0&&(n.nextColumn=n.initialNextColumn),n.table.options.resizableColumnFit&&n.nextColumn&&!(v&&y)){let _=n.nextColumn.getWidth();p>0&&_<=n.nextColumn.minWidth&&(n.nextColumn=n.nextColumn.nextColumn()),n.nextColumn&&n.nextColumn.setWidth(n.nextColumn.getWidth()-p)}n.table.columnManager.rerenderColumns(!0),!n.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights()}function o(a){n.startColumn.modules.edit&&(n.startColumn.modules.edit.blocked=!1),n.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights(),document.body.removeEventListener("mouseup",o),document.body.removeEventListener("mousemove",r),i.removeEventListener("touchmove",r),i.removeEventListener("touchend",o),n.table.element.classList.remove("tabulator-block-select"),n.startWidth!==t.getWidth()&&(n.table.columnManager.verticalAlignHeaders(),n.dispatch("column-resized",t),n.table.externalEvents.dispatch("columnResized",t.getComponent()))}e.stopPropagation(),n.startColumn.modules.edit&&(n.startColumn.modules.edit.blocked=!0),n.startX=typeof e.screenX>"u"?e.touches[0].screenX:e.screenX,n.latestX=n.startX,n.startWidth=t.getWidth(),document.body.addEventListener("mousemove",r),document.body.addEventListener("mouseup",o),i.addEventListener("touchmove",r,{passive:!0}),i.addEventListener("touchend",o)}}Iu.moduleName="resizeColumns";class Hu extends le{constructor(e){super(e),this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null,this.registerTableOption("resizableRows",!1)}initialize(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}initializeRow(e){var t=this,i=e.getElement(),n=document.createElement("div");n.className="tabulator-row-resize-handle";var r=document.createElement("div");r.className="tabulator-row-resize-handle prev",n.addEventListener("click",function(l){l.stopPropagation()});var o=function(l){t.startRow=e,t._mouseDown(l,e,n)};n.addEventListener("mousedown",o),n.addEventListener("touchstart",o,{passive:!0}),r.addEventListener("click",function(l){l.stopPropagation()});var a=function(l){var c=t.table.rowManager.prevDisplayRow(e);c&&(t.startRow=c,t._mouseDown(l,c,r))};r.addEventListener("mousedown",a),r.addEventListener("touchstart",a,{passive:!0}),i.appendChild(n),i.appendChild(r)}_mouseDown(e,t,i){var n=this;n.table.element.classList.add("tabulator-block-select");function r(a){t.setHeight(n.startHeight+((typeof a.screenY>"u"?a.touches[0].screenY:a.screenY)-n.startY))}function o(a){document.body.removeEventListener("mouseup",r),document.body.removeEventListener("mousemove",r),i.removeEventListener("touchmove",r),i.removeEventListener("touchend",o),n.table.element.classList.remove("tabulator-block-select"),n.dispatchExternal("rowResized",t.getComponent())}e.stopPropagation(),n.startY=typeof e.screenY>"u"?e.touches[0].screenY:e.screenY,n.startHeight=t.getHeight(),document.body.addEventListener("mousemove",r),document.body.addEventListener("mouseup",o),i.addEventListener("touchmove",r,{passive:!0}),i.addEventListener("touchend",o)}}Hu.moduleName="resizeRows";class zu extends le{constructor(e){super(e),this.binding=!1,this.visibilityObserver=!1,this.resizeObserver=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1,this.visible=!1,this.initialized=!1,this.initialRedraw=!1,this.registerTableOption("autoResize",!0)}initialize(){if(this.table.options.autoResize){var e=this.table,t;this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),typeof IntersectionObserver<"u"&&typeof ResizeObserver<"u"&&e.rowManager.getRenderMode()==="virtual"?(this.initializeVisibilityObserver(),this.autoResize=!0,this.resizeObserver=new ResizeObserver(i=>{if(!e.browserMobile||e.browserMobile&&!e.modules.edit.currentCell){var n=Math.floor(i[0].contentRect.height),r=Math.floor(i[0].contentRect.width);(this.tableHeight!=n||this.tableWidth!=r)&&(this.tableHeight=n,this.tableWidth=r,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),this.redrawTable())}}),this.resizeObserver.observe(e.element),t=window.getComputedStyle(e.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(t.getPropertyValue("max-height")||t.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver(i=>{if(!e.browserMobile||e.browserMobile&&!e.modules.edit.currentCell){var n=Math.floor(i[0].contentRect.height),r=Math.floor(i[0].contentRect.width);(this.containerHeight!=n||this.containerWidth!=r)&&(this.containerHeight=n,this.containerWidth=r,this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth),this.redrawTable()}}),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!e.browserMobile||e.browserMobile&&!e.modules.edit.currentCell)&&(e.columnManager.rerenderColumns(!0),e.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}initializeVisibilityObserver(){this.visibilityObserver=new IntersectionObserver(e=>{this.visible=e[0].isIntersecting,this.initialized?this.visible&&(this.redrawTable(this.initialRedraw),this.initialRedraw=!1):(this.initialized=!0,this.initialRedraw=!this.visible)}),this.visibilityObserver.observe(this.table.element)}redrawTable(e){this.initialized&&this.visible&&(this.table.columnManager.rerenderColumns(!0),this.table.redraw(e))}tableResized(){this.table.rowManager.redraw()}clearBindings(){this.binding&&window.removeEventListener("resize",this.binding),this.resizeObserver&&this.resizeObserver.unobserve(this.table.element),this.visibilityObserver&&this.visibilityObserver.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}}zu.moduleName="resizeTable";class Fu extends le{constructor(e){super(e),this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1,this.registerTableOption("responsiveLayout",!1),this.registerTableOption("responsiveLayoutCollapseStartOpen",!0),this.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),this.registerTableOption("responsiveLayoutCollapseFormatter",!1),this.registerColumnOption("responsive")}initialize(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),this.table.options.responsiveLayout==="collapse"&&(this.subscribe("row-data-changed",this.generateCollapsedRowContent.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}tableRedraw(e){["fitColumns","fitDataStretch"].indexOf(this.layoutMode())===-1&&(e||this.update())}initializeResponsivity(){var e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach((t,i)=>{t.modules.responsive&&t.modules.responsive.order&&t.modules.responsive.visible&&(t.modules.responsive.index=i,e.push(t),!t.visible&&this.mode==="collapse"&&this.hiddenColumns.push(t))}),e=e.reverse(),e=e.sort((t,i)=>{var n=i.modules.responsive.order-t.modules.responsive.order;return n||i.modules.responsive.index-t.modules.responsive.index}),this.columns=e,this.mode==="collapse"&&this.generateCollapsedContent();for(let t of this.table.columnManager.columnsByIndex)if(t.definition.formatter=="responsiveCollapse"){this.collapseHandleColumn=t;break}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}initializeColumn(e){var t=e.getDefinition();e.modules.responsive={order:typeof t.responsive>"u"?1:t.responsive,visible:t.visible!==!1}}initializeRow(e){var t;e.type!=="calc"&&(t=document.createElement("div"),t.classList.add("tabulator-responsive-collapse"),e.modules.responsiveLayout={element:t,open:this.collapseStartOpen},this.collapseStartOpen||(t.style.display="none"))}layoutRow(e){var t=e.getElement();e.modules.responsiveLayout&&(t.appendChild(e.modules.responsiveLayout.element),this.generateCollapsedRowContent(e))}updateColumnVisibility(e,t){!t&&e.modules.responsive&&(e.modules.responsive.visible=e.visible,this.initializeResponsivity())}hideColumn(e){var t=this.hiddenColumns.length;e.hide(!1,!0),this.mode==="collapse"&&(this.hiddenColumns.unshift(e),this.generateCollapsedContent(),this.collapseHandleColumn&&!t&&this.collapseHandleColumn.show())}showColumn(e){var t;e.show(!1,!0),e.setWidth(e.getWidth()),this.mode==="collapse"&&(t=this.hiddenColumns.indexOf(e),t>-1&&this.hiddenColumns.splice(t,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}update(){for(var e=!0;e;){let t=this.table.modules.layout.getMode()=="fitColumns"?this.table.columnManager.getFlexBaseWidth():this.table.columnManager.getWidth(),i=(this.table.options.headerVisible?this.table.columnManager.element.clientWidth:this.table.element.clientWidth)-t;if(i<0){let n=this.columns[this.index];n?(this.hideColumn(n),this.index++):e=!1}else{let n=this.columns[this.index-1];n&&i>0&&i>=n.getWidth()?(this.showColumn(n),this.index--):e=!1}this.table.rowManager.activeRowsCount||this.table.rowManager.renderEmptyScroll()}}generateCollapsedContent(){var e=this.table.rowManager.getDisplayRows();e.forEach(t=>{this.generateCollapsedRowContent(t)})}generateCollapsedRowContent(e){var t,i;if(e.modules.responsiveLayout){for(t=e.modules.responsiveLayout.element;t.firstChild;)t.removeChild(t.firstChild);i=this.collapseFormatter(this.generateCollapsedRowData(e)),i&&t.appendChild(i)}}generateCollapsedRowData(e){var t=e.getData(),i=[],n;return this.hiddenColumns.forEach(r=>{var o=r.getFieldValue(t);if(r.definition.title&&r.field)if(r.modules.format&&this.table.options.responsiveLayoutCollapseUseFormatters){let l=function(c){c()};var a=l;n={value:!1,data:{},getValue:function(){return o},getData:function(){return t},getType:function(){return"cell"},getElement:function(){return document.createElement("div")},getRow:function(){return e.getComponent()},getColumn:function(){return r.getComponent()},getTable:()=>this.table},i.push({field:r.field,title:r.definition.title,value:r.modules.format.formatter.call(this.table.modules.format,n,r.modules.format.params,l)})}else i.push({field:r.field,title:r.definition.title,value:o})}),i}formatCollapsedData(e){var t=document.createElement("table");return e.forEach(function(i){var n=document.createElement("tr"),r=document.createElement("td"),o=document.createElement("td"),a,l=document.createElement("strong");r.appendChild(l),this.langBind("columns|"+i.field,function(c){l.innerHTML=c||i.title}),i.value instanceof Node?(a=document.createElement("div"),a.appendChild(i.value),o.appendChild(a)):o.innerHTML=i.value,n.appendChild(r),n.appendChild(o),t.appendChild(n)},this),Object.keys(e).length?t:""}}Fu.moduleName="responsiveLayout";class Bu extends le{constructor(e){super(e),this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null,this.registerTableOption("selectable","highlight"),this.registerTableOption("selectableRangeMode","drag"),this.registerTableOption("selectableRollingSelection",!0),this.registerTableOption("selectablePersistence",!0),this.registerTableOption("selectableCheck",function(t,i){return!0}),this.registerTableFunction("selectRow",this.selectRows.bind(this)),this.registerTableFunction("deselectRow",this.deselectRows.bind(this)),this.registerTableFunction("toggleSelectRow",this.toggleRow.bind(this)),this.registerTableFunction("getSelectedRows",this.getSelectedRows.bind(this)),this.registerTableFunction("getSelectedData",this.getSelectedData.bind(this)),this.registerComponentFunction("row","select",this.selectRows.bind(this)),this.registerComponentFunction("row","deselect",this.deselectRows.bind(this)),this.registerComponentFunction("row","toggleSelect",this.toggleRow.bind(this)),this.registerComponentFunction("row","isSelected",this.isRowSelected.bind(this))}initialize(){this.table.options.selectable!==!1&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.rowRetrieve.bind(this)),this.table.options.selectable&&!this.table.options.selectablePersistence&&this.subscribe("data-refreshing",this.deselectRows.bind(this)))}rowRetrieve(e,t){return e==="selected"?this.selectedRows:t}rowDeleted(e){this._deselectRow(e,!0)}clearSelectionData(e){var t=this.selectedRows.length;this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],t&&e!==!0&&this._rowSelectionChanged()}initializeRow(e){var t=this,i=e.getElement(),n=function(){setTimeout(function(){t.selecting=!1},50),document.body.removeEventListener("mouseup",n)};e.modules.select={selected:!1},t.checkRowSelectability(e)?(i.classList.add("tabulator-selectable"),i.classList.remove("tabulator-unselectable"),t.table.options.selectable&&t.table.options.selectable!="highlight"&&(t.table.options.selectableRangeMode==="click"?i.addEventListener("click",this.handleComplexRowClick.bind(this,e)):(i.addEventListener("click",function(r){(!t.table.modExists("edit")||!t.table.modules.edit.getCurrentCell())&&t.table._clearSelection(),t.selecting||t.toggleRow(e)}),i.addEventListener("mousedown",function(r){if(r.shiftKey)return t.table._clearSelection(),t.selecting=!0,t.selectPrev=[],document.body.addEventListener("mouseup",n),document.body.addEventListener("keyup",n),t.toggleRow(e),!1}),i.addEventListener("mouseenter",function(r){t.selecting&&(t.table._clearSelection(),t.toggleRow(e),t.selectPrev[1]==e&&t.toggleRow(t.selectPrev[0]))}),i.addEventListener("mouseout",function(r){t.selecting&&(t.table._clearSelection(),t.selectPrev.unshift(e))})))):(i.classList.add("tabulator-unselectable"),i.classList.remove("tabulator-selectable"))}handleComplexRowClick(e,t){if(t.shiftKey){this.table._clearSelection(),this.lastClickedRow=this.lastClickedRow||e;var i=this.table.rowManager.getDisplayRowIndex(this.lastClickedRow),n=this.table.rowManager.getDisplayRowIndex(e),r=i<=n?i:n,o=i>=n?i:n,a=this.table.rowManager.getDisplayRows().slice(0),l=a.splice(r,o-r+1);t.ctrlKey||t.metaKey?(l.forEach(c=>{c!==this.lastClickedRow&&(this.table.options.selectable!==!0&&!this.isRowSelected(e)?this.selectedRows.length<this.table.options.selectable&&this.toggleRow(c):this.toggleRow(c))}),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.table.options.selectable!==!0&&l.length>this.table.options.selectable&&(l=l.slice(0,this.table.options.selectable)),this.selectRows(l)),this.table._clearSelection()}else t.ctrlKey||t.metaKey?(this.toggleRow(e),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.selectRows(e),this.lastClickedRow=e)}checkRowSelectability(e){return e&&e.type==="row"?this.table.options.selectableCheck.call(this.table,e.getComponent()):!1}toggleRow(e){this.checkRowSelectability(e)&&(e.modules.select&&e.modules.select.selected?this._deselectRow(e):this._selectRow(e))}selectRows(e){var t=[],i,n;switch(typeof e){case"undefined":i=this.table.rowManager.rows;break;case"string":i=this.table.rowManager.findRow(e),i||(i=this.table.rowManager.getRows(e));break;default:i=e;break}Array.isArray(i)?i.length&&(i.forEach(r=>{n=this._selectRow(r,!0,!0),n&&t.push(n)}),this._rowSelectionChanged(!1,t)):i&&this._selectRow(i,!1,!0)}_selectRow(e,t,i){if(!isNaN(this.table.options.selectable)&&this.table.options.selectable!==!0&&!i&&this.selectedRows.length>=this.table.options.selectable)if(this.table.options.selectableRollingSelection)this._deselectRow(this.selectedRows[0]);else return!1;var n=this.table.rowManager.findRow(e);if(n){if(this.selectedRows.indexOf(n)==-1)return n.getElement().classList.add("tabulator-selected"),n.modules.select||(n.modules.select={}),n.modules.select.selected=!0,n.modules.select.checkboxEl&&(n.modules.select.checkboxEl.checked=!0),this.selectedRows.push(n),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(n,!0),this.dispatchExternal("rowSelected",n.getComponent()),this._rowSelectionChanged(t,n),n}else t||console.warn("Selection Error - No such row found, ignoring selection:"+e)}isRowSelected(e){return this.selectedRows.indexOf(e)!==-1}deselectRows(e,t){var i=[],n,r;switch(typeof e){case"undefined":n=Object.assign([],this.selectedRows);break;case"string":n=this.table.rowManager.findRow(e),n||(n=this.table.rowManager.getRows(e));break;default:n=e;break}Array.isArray(n)?n.length&&(n.forEach(o=>{r=this._deselectRow(o,!0,!0),r&&i.push(r)}),this._rowSelectionChanged(t,[],i)):n&&this._deselectRow(n,t,!0)}_deselectRow(e,t){var i=this,n=i.table.rowManager.findRow(e),r,o;if(n){if(r=i.selectedRows.findIndex(function(a){return a==n}),r>-1)return o=n.getElement(),o&&o.classList.remove("tabulator-selected"),n.modules.select||(n.modules.select={}),n.modules.select.selected=!1,n.modules.select.checkboxEl&&(n.modules.select.checkboxEl.checked=!1),i.selectedRows.splice(r,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(n,!1),this.dispatchExternal("rowDeselected",n.getComponent()),i._rowSelectionChanged(t,void 0,n),n}else t||console.warn("Deselection Error - No such row found, ignoring selection:"+e)}getSelectedData(){var e=[];return this.selectedRows.forEach(function(t){e.push(t.getData())}),e}getSelectedRows(){var e=[];return this.selectedRows.forEach(function(t){e.push(t.getComponent())}),e}_rowSelectionChanged(e,t=[],i=[]){this.headerCheckboxElement&&(this.selectedRows.length===0?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),e||(Array.isArray(t)||(t=[t]),t=t.map(n=>n.getComponent()),Array.isArray(i)||(i=[i]),i=i.map(n=>n.getComponent()),this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows(),t,i))}registerRowSelectCheckbox(e,t){e._row.modules.select||(e._row.modules.select={}),e._row.modules.select.checkboxEl=t}registerHeaderSelectCheckbox(e){this.headerCheckboxElement=e}childRowSelection(e,t){var i=this.table.modules.dataTree.getChildren(e,!0);if(t)for(let n of i)this._selectRow(n,!0);else for(let n of i)this._deselectRow(n,!0)}}Bu.moduleName="selectRow";function Sm(s,e,t,i,n,r,o){var a=o.alignEmptyValues,l=o.decimalSeparator,c=o.thousandSeparator,p=0;if(s=String(s),e=String(e),c&&(s=s.split(c).join(""),e=e.split(c).join("")),l&&(s=s.split(l).join("."),e=e.split(l).join(".")),s=parseFloat(s),e=parseFloat(e),isNaN(s))p=isNaN(e)?0:-1;else if(isNaN(e))p=1;else return s-e;return(a==="top"&&r==="desc"||a==="bottom"&&r==="asc")&&(p*=-1),p}function Rm(s,e,t,i,n,r,o){var a=o.alignEmptyValues,l=0,c;if(!s)l=e?-1:0;else if(!e)l=1;else{switch(typeof o.locale){case"boolean":o.locale&&(c=this.langLocale());break;case"string":c=o.locale;break}return String(s).toLowerCase().localeCompare(String(e).toLowerCase(),c)}return(a==="top"&&r==="desc"||a==="bottom"&&r==="asc")&&(l*=-1),l}function eo(s,e,t,i,n,r,o){var a=window.DateTime||luxon.DateTime,l=o.format||"dd/MM/yyyy HH:mm:ss",c=o.alignEmptyValues,p=0;if(typeof a<"u"){if(a.isDateTime(s)||(l==="iso"?s=a.fromISO(String(s)):s=a.fromFormat(String(s),l)),a.isDateTime(e)||(l==="iso"?e=a.fromISO(String(e)):e=a.fromFormat(String(e),l)),!s.isValid)p=e.isValid?-1:0;else if(!e.isValid)p=1;else return s-e;return(c==="top"&&r==="desc"||c==="bottom"&&r==="asc")&&(p*=-1),p}else console.error("Sort Error - 'datetime' sorter is dependant on luxon.js")}function Lm(s,e,t,i,n,r,o){return o.format||(o.format="dd/MM/yyyy"),eo.call(this,s,e,t,i,n,r,o)}function Am(s,e,t,i,n,r,o){return o.format||(o.format="HH:mm"),eo.call(this,s,e,t,i,n,r,o)}function Mm(s,e,t,i,n,r,o){var a=s===!0||s==="true"||s==="True"||s===1?1:0,l=e===!0||e==="true"||e==="True"||e===1?1:0;return a-l}function Om(s,e,t,i,n,r,o){var a=o.type||"length",l=o.alignEmptyValues,c=0;function p(v){var y;switch(a){case"length":y=v.length;break;case"sum":y=v.reduce(function(_,T){return _+T});break;case"max":y=Math.max.apply(null,v);break;case"min":y=Math.min.apply(null,v);break;case"avg":y=v.reduce(function(_,T){return _+T})/v.length;break}return y}if(!Array.isArray(s))c=Array.isArray(e)?-1:0;else if(!Array.isArray(e))c=1;else return p(e)-p(s);return(l==="top"&&r==="desc"||l==="bottom"&&r==="asc")&&(c*=-1),c}function Dm(s,e,t,i,n,r,o){var a=typeof s>"u"?0:1,l=typeof e>"u"?0:1;return a-l}function Pm(s,e,t,i,n,r,o){var a,l,c,p,v=0,y,_=/(\d+)|(\D+)/g,T=/\d/,S=o.alignEmptyValues,L=0;if(!s&&s!==0)L=!e&&e!==0?0:-1;else if(!e&&e!==0)L=1;else{if(isFinite(s)&&isFinite(e))return s-e;if(a=String(s).toLowerCase(),l=String(e).toLowerCase(),a===l)return 0;if(!(T.test(a)&&T.test(l)))return a>l?1:-1;for(a=a.match(_),l=l.match(_),y=a.length>l.length?l.length:a.length;v<y;)if(c=a[v],p=l[v++],c!==p)return isFinite(c)&&isFinite(p)?(c.charAt(0)==="0"&&(c="."+c),p.charAt(0)==="0"&&(p="."+p),c-p):c>p?1:-1;return a.length>l.length}return(S==="top"&&r==="desc"||S==="bottom"&&r==="asc")&&(L*=-1),L}var Im={number:Sm,string:Rm,date:Lm,time:Am,datetime:eo,boolean:Mm,array:Om,exists:Dm,alphanum:Pm};class hi extends le{constructor(e){super(e),this.sortList=[],this.changed=!1,this.registerTableOption("sortMode","local"),this.registerTableOption("initialSort",!1),this.registerTableOption("columnHeaderSortMulti",!0),this.registerTableOption("sortOrderReverse",!1),this.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),this.registerTableOption("headerSortClickElement","header"),this.registerColumnOption("sorter"),this.registerColumnOption("sorterParams"),this.registerColumnOption("headerSort",!0),this.registerColumnOption("headerSortStartingDir"),this.registerColumnOption("headerSortTristate")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),this.table.options.sortMode==="remote"&&this.subscribe("data-params",this.remoteSortParams.bind(this))}tableBuilt(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}remoteSortParams(e,t,i,n){var r=this.getSort();return r.forEach(o=>{delete o.column}),n.sort=r,n}userSetSort(e,t){this.setSort(e,t),this.refreshSort()}clearSort(){this.clear(),this.refreshSort()}initializeColumn(e){var t=!1,i,n;switch(typeof e.definition.sorter){case"string":hi.sorters[e.definition.sorter]?t=hi.sorters[e.definition.sorter]:console.warn("Sort Error - No such sorter found: ",e.definition.sorter);break;case"function":t=e.definition.sorter;break}if(e.modules.sort={sorter:t,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:e.definition.headerSortTristate},e.definition.headerSort!==!1){switch(i=e.getElement(),i.classList.add("tabulator-sortable"),n=document.createElement("div"),n.classList.add("tabulator-col-sorter"),this.table.options.headerSortClickElement){case"icon":n.classList.add("tabulator-col-sorter-element");break;case"header":i.classList.add("tabulator-col-sorter-element");break;default:i.classList.add("tabulator-col-sorter-element");break}switch(this.table.options.headerSortElement){case"function":break;case"object":n.appendChild(this.table.options.headerSortElement);break;default:n.innerHTML=this.table.options.headerSortElement}e.titleHolderElement.appendChild(n),e.modules.sort.element=n,this.setColumnHeaderSortIcon(e,"none"),(this.table.options.headerSortClickElement==="icon"?n:i).addEventListener("click",r=>{var o="",a=[],l=!1;if(e.modules.sort){if(e.modules.sort.tristate)e.modules.sort.dir=="none"?o=e.modules.sort.startingDir:e.modules.sort.dir==e.modules.sort.startingDir?o=e.modules.sort.dir=="asc"?"desc":"asc":o="none";else switch(e.modules.sort.dir){case"asc":o="desc";break;case"desc":o="asc";break;default:o=e.modules.sort.startingDir}this.table.options.columnHeaderSortMulti&&(r.shiftKey||r.ctrlKey)?(a=this.getSort(),l=a.findIndex(c=>c.field===e.getField()),l>-1?(a[l].dir=o,l=a.splice(l,1)[0],o!="none"&&a.push(l)):o!="none"&&a.push({column:e,dir:o}),this.setSort(a)):o=="none"?this.clear():this.setSort(e,o),this.refreshSort()}})}}refreshSort(){this.table.options.sortMode==="remote"?this.reloadData(null,!1,!1):this.refreshData(!0)}hasChanged(){var e=this.changed;return this.changed=!1,e}getSort(){var e=this,t=[];return e.sortList.forEach(function(i){i.column&&t.push({column:i.column.getComponent(),field:i.column.getField(),dir:i.dir})}),t}setSort(e,t){var i=this,n=[];Array.isArray(e)||(e=[{column:e,dir:t}]),e.forEach(function(r){var o;o=i.table.columnManager.findColumn(r.column),o?(r.column=o,n.push(r),i.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",r.column)}),i.sortList=n,this.dispatch("sort-changed")}clear(){this.setSort([])}findSorter(e){var t=this.table.rowManager.activeRows[0],i="string",n,r;if(t&&(t=t.getData(),n=e.getField(),n))switch(r=e.getFieldValue(t),typeof r){case"undefined":i="string";break;case"boolean":i="boolean";break;default:!isNaN(r)&&r!==""?i="number":r.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(i="alphanum");break}return hi.sorters[i]}sort(e){var t=this,i=this.table.options.sortOrderReverse?t.sortList.slice().reverse():t.sortList,n=[],r=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",t.getSort()),t.clearColumnHeaders(),this.table.options.sortMode!=="remote"?(i.forEach(function(o,a){var l;o.column&&(l=o.column.modules.sort,l&&(l.sorter||(l.sorter=t.findSorter(o.column)),o.params=typeof l.params=="function"?l.params(o.column.getComponent(),o.dir):l.params,n.push(o)),t.setColumnHeader(o.column,o.dir))}),n.length&&t._sortItems(e,n)):i.forEach(function(o,a){t.setColumnHeader(o.column,o.dir)}),this.subscribedExternal("dataSorted")&&(e.forEach(o=>{r.push(o.getComponent())}),this.dispatchExternal("dataSorted",t.getSort(),r)),e}clearColumnHeaders(){this.table.columnManager.getRealColumns().forEach(e=>{e.modules.sort&&(e.modules.sort.dir="none",e.getElement().setAttribute("aria-sort","none"),this.setColumnHeaderSortIcon(e,"none"))})}setColumnHeader(e,t){e.modules.sort.dir=t,e.getElement().setAttribute("aria-sort",t==="asc"?"ascending":"descending"),this.setColumnHeaderSortIcon(e,t)}setColumnHeaderSortIcon(e,t){var i=e.modules.sort.element,n;if(e.definition.headerSort&&typeof this.table.options.headerSortElement=="function"){for(;i.firstChild;)i.removeChild(i.firstChild);n=this.table.options.headerSortElement.call(this.table,e.getComponent(),t),typeof n=="object"?i.appendChild(n):i.innerHTML=n}}_sortItems(e,t){var i=t.length-1;e.sort((n,r)=>{for(var o,a=i;a>=0;a--){let l=t[a];if(o=this._sortRow(n,r,l.column,l.dir,l.params),o!==0)break}return o})}_sortRow(e,t,i,n,r){var o,a,l=n=="asc"?e:t,c=n=="asc"?t:e;return e=i.getFieldValue(l.getData()),t=i.getFieldValue(c.getData()),e=typeof e<"u"?e:"",t=typeof t<"u"?t:"",o=l.getComponent(),a=c.getComponent(),i.modules.sort.sorter.call(this,e,t,o,a,i.getComponent(),n,r)}}hi.moduleName="sort";hi.sorters=Im;let Nu=class extends le{constructor(e){super(e),this.tooltipSubscriber=null,this.headerSubscriber=null,this.timeout=null,this.popupInstance=null,this.registerTableOption("tooltipGenerationMode",void 0),this.registerTableOption("tooltipDelay",300),this.registerColumnOption("tooltip"),this.registerColumnOption("headerTooltip")}initialize(){this.deprecatedOptionsCheck(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){this.deprecationCheckMsg("tooltipGenerationMode","This option is no longer needed as tooltips are always generated on hover now")}initializeColumn(e){e.definition.headerTooltip&&!this.headerSubscriber&&(this.headerSubscriber=!0,this.subscribe("column-mousemove",this.mousemoveCheck.bind(this,"headerTooltip")),this.subscribe("column-mouseout",this.mouseoutCheck.bind(this,"headerTooltip"))),e.definition.tooltip&&!this.tooltipSubscriber&&(this.tooltipSubscriber=!0,this.subscribe("cell-mousemove",this.mousemoveCheck.bind(this,"tooltip")),this.subscribe("cell-mouseout",this.mouseoutCheck.bind(this,"tooltip")))}mousemoveCheck(e,t,i){var n=e==="tooltip"?i.column.definition.tooltip:i.definition.headerTooltip;n&&(this.clearPopup(),this.timeout=setTimeout(this.loadTooltip.bind(this,t,i,n),this.table.options.tooltipDelay))}mouseoutCheck(e,t,i){this.popupInstance||this.clearPopup()}clearPopup(e,t,i){clearTimeout(this.timeout),this.timeout=null,this.popupInstance&&this.popupInstance.hide()}loadTooltip(e,t,i){var n,r,o;function a(l){r=l}typeof i=="function"&&(i=i(e,t.getComponent(),a)),i instanceof HTMLElement?n=i:(n=document.createElement("div"),i===!0&&(t instanceof ms?i=t.value:t.definition.field?this.langBind("columns|"+t.definition.field,l=>{n.innerHTML=i=l||t.definition.title}):i=t.definition.title),n.innerHTML=i),(i||i===0||i===!1)&&(n.classList.add("tabulator-tooltip"),n.addEventListener("mousemove",l=>l.preventDefault()),this.popupInstance=this.popup(n),typeof r=="function"&&this.popupInstance.renderCallback(r),o=this.popupInstance.containerEventCoords(e),this.popupInstance.show(o.x+15,o.y+15).hideOnBlur(()=>{this.dispatchExternal("TooltipClosed",t.getComponent()),this.popupInstance=null}),this.dispatchExternal("TooltipOpened",t.getComponent()))}};Nu.moduleName="tooltip";var Hm={integer:function(s,e,t){return e===""||e===null||typeof e>"u"?!0:(e=Number(e),!isNaN(e)&&isFinite(e)&&Math.floor(e)===e)},float:function(s,e,t){return e===""||e===null||typeof e>"u"?!0:(e=Number(e),!isNaN(e)&&isFinite(e)&&e%1!==0)},numeric:function(s,e,t){return e===""||e===null||typeof e>"u"?!0:!isNaN(e)},string:function(s,e,t){return e===""||e===null||typeof e>"u"?!0:isNaN(e)},max:function(s,e,t){return e===""||e===null||typeof e>"u"?!0:parseFloat(e)<=t},min:function(s,e,t){return e===""||e===null||typeof e>"u"?!0:parseFloat(e)>=t},starts:function(s,e,t){return e===""||e===null||typeof e>"u"?!0:String(e).toLowerCase().startsWith(String(t).toLowerCase())},ends:function(s,e,t){return e===""||e===null||typeof e>"u"?!0:String(e).toLowerCase().endsWith(String(t).toLowerCase())},minLength:function(s,e,t){return e===""||e===null||typeof e>"u"?!0:String(e).length>=t},maxLength:function(s,e,t){return e===""||e===null||typeof e>"u"?!0:String(e).length<=t},in:function(s,e,t){return e===""||e===null||typeof e>"u"?!0:(typeof t=="string"&&(t=t.split("|")),t.indexOf(e)>-1)},regex:function(s,e,t){if(e===""||e===null||typeof e>"u")return!0;var i=new RegExp(t);return i.test(e)},unique:function(s,e,t){if(e===""||e===null||typeof e>"u")return!0;var i=!0,n=s.getData(),r=s.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(o){var a=o.getData();a!==n&&e==r.getFieldValue(a)&&(i=!1)}),i},required:function(s,e,t){return e!==""&&e!==null&&typeof e<"u"}};class ys extends le{constructor(e){super(e),this.invalidCells=[],this.registerTableOption("validationMode","blocking"),this.registerColumnOption("validator"),this.registerTableFunction("getInvalidCells",this.getInvalidCells.bind(this)),this.registerTableFunction("clearCellValidation",this.userClearCellValidation.bind(this)),this.registerTableFunction("validate",this.userValidate.bind(this)),this.registerComponentFunction("cell","isValid",this.cellIsValid.bind(this)),this.registerComponentFunction("cell","clearValidation",this.clearValidation.bind(this)),this.registerComponentFunction("cell","validate",this.cellValidate.bind(this)),this.registerComponentFunction("column","validate",this.columnValidate.bind(this)),this.registerComponentFunction("row","validate",this.rowValidate.bind(this))}initialize(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("edit-success",this.editValidate.bind(this)),this.subscribe("edit-editor-clear",this.editorClear.bind(this)),this.subscribe("edit-edited-clear",this.editedClear.bind(this))}editValidate(e,t,i){var n=this.table.options.validationMode!=="manual"?this.validate(e.column.modules.validate,e,t):!0;return n!==!0&&setTimeout(()=>{e.getElement().classList.add("tabulator-validation-fail"),this.dispatchExternal("validationFailed",e.getComponent(),t,n)}),n}editorClear(e,t){t&&e.column.modules.validate&&this.cellValidate(e),e.getElement().classList.remove("tabulator-validation-fail")}editedClear(e){e.modules.validate&&(e.modules.validate.invalid=!1)}cellIsValid(e){return e.modules.validate&&e.modules.validate.invalid||!0}cellValidate(e){return this.validate(e.column.modules.validate,e,e.getValue())}columnValidate(e){var t=[];return e.cells.forEach(i=>{this.cellValidate(i)!==!0&&t.push(i.getComponent())}),t.length?t:!0}rowValidate(e){var t=[];return e.cells.forEach(i=>{this.cellValidate(i)!==!0&&t.push(i.getComponent())}),t.length?t:!0}userClearCellValidation(e){e||(e=this.getInvalidCells()),Array.isArray(e)||(e=[e]),e.forEach(t=>{this.clearValidation(t._getSelf())})}userValidate(e){var t=[];return this.table.rowManager.rows.forEach(i=>{i=i.getComponent();var n=i.validate();n!==!0&&(t=t.concat(n))}),t.length?t:!0}initializeColumnCheck(e){typeof e.definition.validator<"u"&&this.initializeColumn(e)}initializeColumn(e){var t=this,i=[],n;e.definition.validator&&(Array.isArray(e.definition.validator)?e.definition.validator.forEach(r=>{n=t._extractValidator(r),n&&i.push(n)}):(n=this._extractValidator(e.definition.validator),n&&i.push(n)),e.modules.validate=i.length?i:!1)}_extractValidator(e){var t,i,n;switch(typeof e){case"string":return n=e.indexOf(":"),n>-1?(t=e.substring(0,n),i=e.substring(n+1)):t=e,this._buildValidator(t,i);case"function":return this._buildValidator(e);case"object":return this._buildValidator(e.type,e.parameters)}}_buildValidator(e,t){var i=typeof e=="function"?e:ys.validators[e];return i?{type:typeof e=="function"?"function":e,func:i,params:t}:(console.warn("Validator Setup Error - No matching validator found:",e),!1)}validate(e,t,i){var n=this,r=[],o=this.invalidCells.indexOf(t);return e&&e.forEach(a=>{a.func.call(n,t.getComponent(),i,a.params)||r.push({type:a.type,parameters:a.params})}),t.modules.validate||(t.modules.validate={}),r.length?(t.modules.validate.invalid=r,this.table.options.validationMode!=="manual"&&t.getElement().classList.add("tabulator-validation-fail"),o==-1&&this.invalidCells.push(t)):(t.modules.validate.invalid=!1,t.getElement().classList.remove("tabulator-validation-fail"),o>-1&&this.invalidCells.splice(o,1)),r.length?r:!0}getInvalidCells(){var e=[];return this.invalidCells.forEach(t=>{e.push(t.getComponent())}),e}clearValidation(e){var t;e.modules.validate&&e.modules.validate.invalid&&(e.getElement().classList.remove("tabulator-validation-fail"),e.modules.validate.invalid=!1,t=this.invalidCells.indexOf(e),t>-1&&this.invalidCells.splice(t,1))}}ys.moduleName="validate";ys.validators=Hm;var zm=Object.freeze({__proto__:null,AccessorModule:Ai,AjaxModule:ht,ClipboardModule:fi,ColumnCalcsModule:qt,DataTreeModule:xu,DownloadModule:Mi,EditModule:bs,ExportModule:_u,FilterModule:St,FormatModule:rt,FrozenColumnsModule:Tu,FrozenRowsModule:ku,GroupRowsModule:Su,HistoryModule:pi,HtmlTableImportModule:Ru,ImportModule:vs,InteractionModule:Lu,KeybindingsModule:$t,MenuModule:Au,MoveColumnsModule:Mu,MoveRowsModule:xn,MutatorModule:Oi,PageModule:ws,PersistenceModule:Je,PopupModule:Ou,PrintModule:Du,ReactiveDataModule:Pu,ResizeColumnsModule:Iu,ResizeRowsModule:Hu,ResizeTableModule:zu,ResponsiveLayoutModule:Fu,SelectRowModule:Bu,SortModule:hi,TooltipModule:Nu,ValidateModule:ys}),Fm={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,debugInvalidComponentFuncs:!0,debugInitialization:!0,debugDeprecation:!0,height:!1,minHeight:!1,maxHeight:!1,columnHeaderVertAlign:"top",popupContainer:!1,columns:[],columnDefaults:{},data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,rowHeight:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataLoaderErrorTimeout:3e3,dataSendParams:{},dataReceiveParams:{}};class Vu{constructor(e,t,i={}){this.table=e,this.msgType=t,this.registeredDefaults=Object.assign({},i)}register(e,t){this.registeredDefaults[e]=t}generate(e,t={}){var i=Object.assign({},this.registeredDefaults),n=this.table.options.debugInvalidOptions||t.debugInvalidOptions===!0;Object.assign(i,e);for(let r in t)i.hasOwnProperty(r)||(n&&console.warn("Invalid "+this.msgType+" option:",r),i[r]=t.key);for(let r in i)r in t?i[r]=t[r]:Array.isArray(i[r])?i[r]=Object.assign([],i[r]):typeof i[r]=="object"&&i[r]!==null?i[r]=Object.assign({},i[r]):typeof i[r]>"u"&&delete i[r];return i}}class _n extends Qe{constructor(e){super(e),this.elementVertical=e.rowManager.element,this.elementHorizontal=e.columnManager.element,this.tableElement=e.rowManager.tableElement,this.verticalFillMode="fit"}initialize(){}clearRows(){}clearColumns(){}reinitializeColumnWidths(e){}renderRows(){}renderColumns(){}rerenderRows(e){e&&e()}rerenderColumns(e,t){}renderRowCells(e){}rerenderRowCells(e,t){}scrollColumns(e,t){}scrollRows(e,t){}resize(){}scrollToRow(e){}scrollToRowNearestTop(e){}visibleRows(e){return[]}rows(){return this.table.rowManager.getDisplayRows()}styleRow(e,t){var i=e.getElement();t%2?(i.classList.add("tabulator-row-even"),i.classList.remove("tabulator-row-odd")):(i.classList.add("tabulator-row-odd"),i.classList.remove("tabulator-row-even"))}clear(){this.clearRows(),this.clearColumns()}render(){this.renderRows(),this.renderColumns()}rerender(e){this.rerenderRows(),this.rerenderColumns()}scrollToRowPosition(e,t,i){var n=this.rows().indexOf(e),r=e.getElement(),o=0;return new Promise((a,l)=>{if(n>-1){if(typeof i>"u"&&(i=this.table.options.scrollToRowIfVisible),!i&&Ae.elVisible(r)&&(o=Ae.elOffset(r).top-Ae.elOffset(this.elementVertical).top,o>0&&o<this.elementVertical.clientHeight-r.offsetHeight))return a(),!1;switch(typeof t>"u"&&(t=this.table.options.scrollToRowPosition),t==="nearest"&&(t=this.scrollToRowNearestTop(e)?"top":"bottom"),this.scrollToRow(e),t){case"middle":case"center":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop+(r.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-r.offsetTop)/2:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;break;case"bottom":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-r.offsetTop)+r.offsetHeight:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight+r.offsetHeight;break;case"top":this.elementVertical.scrollTop=r.offsetTop;break}a()}else console.warn("Scroll Error - Row not visible"),l("Scroll Error - Row not visible")})}}class Bm extends _n{constructor(e){super(e)}renderRowCells(e,t){const i=document.createDocumentFragment();e.cells.forEach(n=>{i.appendChild(n.getElement())}),e.element.appendChild(i),t||e.cells.forEach(n=>{n.cellRendered()})}reinitializeColumnWidths(e){e.forEach(function(t){t.reinitializeWidth()})}}class Nm extends _n{constructor(e){super(e),this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.windowBuffer=200,this.visibleRows=null,this.initialized=!1,this.isFitData=!1,this.columns=[]}initialize(){this.compatibilityCheck(),this.layoutCheck(),this.vertScrollListen()}compatibilityCheck(){this.options("layout")=="fitDataTable"&&console.warn("Horizontal Virtual DOM is not compatible with fitDataTable layout mode"),this.options("responsiveLayout")&&console.warn("Horizontal Virtual DOM is not compatible with responsive columns"),this.options("rtl")&&console.warn("Horizontal Virtual DOM is not currently compatible with RTL text direction")}layoutCheck(){this.isFitData=this.options("layout").startsWith("fitData")}vertScrollListen(){this.subscribe("scroll-vertical",this.clearVisRowCache.bind(this)),this.subscribe("data-refreshed",this.clearVisRowCache.bind(this))}clearVisRowCache(){this.visibleRows=null}renderColumns(e,t){this.dataChange()}scrollColumns(e,t){this.scrollLeft!=e&&(this.scrollLeft=e,this.scroll(e-(this.vDomScrollPosLeft+this.windowBuffer)))}calcWindowBuffer(){var e=this.elementVertical.clientWidth;this.table.columnManager.columnsByIndex.forEach(t=>{if(t.visible){var i=t.getWidth();i>e&&(e=i)}}),this.windowBuffer=e*2}rerenderColumns(e,t){var i={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol},n=0;e&&!this.initialized||(this.clear(),this.calcWindowBuffer(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.windowBuffer,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,this.table.columnManager.columnsByIndex.forEach(r=>{var o={},a;r.visible&&(r.modules.frozen||(a=r.getWidth(),o.leftPos=n,o.rightPos=n+a,o.width=a,this.isFitData&&(o.fitDataCheck=r.modules.vdomHoz?r.modules.vdomHoz.fitDataCheck:!0),n+a>this.vDomScrollPosLeft&&n<this.vDomScrollPosRight?(this.leftCol==-1&&(this.leftCol=this.columns.length,this.vDomPadLeft=n),this.rightCol=this.columns.length):this.leftCol!==-1&&(this.vDomPadRight+=a),this.columns.push(r),r.modules.vdomHoz=o,n+=a))}),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,t||(!e||this.reinitChanged(i))&&this.reinitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft)}renderRowCells(e){if(this.initialized)this.initializeRow(e);else{const t=document.createDocumentFragment();e.cells.forEach(i=>{t.appendChild(i.getElement())}),e.element.appendChild(t),e.cells.forEach(i=>{i.cellRendered()})}}rerenderRowCells(e,t){this.reinitializeRow(e,t)}reinitializeColumnWidths(e){for(let t=this.leftCol;t<=this.rightCol;t++)this.columns[t].reinitializeWidth()}deinitialize(){this.initialized=!1}clear(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}dataChange(){var e=!1,t,i;if(this.isFitData){if(this.table.columnManager.columnsByIndex.forEach(n=>{!n.definition.width&&n.visible&&(e=!0)}),e&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,t=this.chain("rows-sample",[1],[],()=>this.table.rowManager.getDisplayRows())[0],t)){i=t.getElement(),t.generateCells(),this.tableElement.appendChild(i);for(let n=0;n<t.cells.length;n++){let r=t.cells[n];i.appendChild(r.getElement()),r.column.reinitializeWidth()}i.parentNode.removeChild(i),this.rerenderColumns(!1,!0)}}else this.options("layout")==="fitColumns"&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}reinitChanged(e){var t=!0;return e.cols.length!==this.columns.length||e.leftCol!==this.leftCol||e.rightCol!==this.rightCol?!0:(e.cols.forEach((i,n)=>{i!==this.columns[n]&&(t=!1)}),!t)}reinitializeRows(){var e=this.getVisibleRows(),t=this.table.rowManager.getRows().filter(i=>!e.includes(i));e.forEach(i=>{this.reinitializeRow(i,!0)}),t.forEach(i=>{i.deinitialize()})}getVisibleRows(){return this.visibleRows||(this.visibleRows=this.table.rowManager.getVisibleRows()),this.visibleRows}scroll(e){this.vDomScrollPosLeft+=e,this.vDomScrollPosRight+=e,Math.abs(e)>this.windowBuffer/2?this.rerenderColumns():e>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}colPositionAdjust(e,t,i){for(let n=e;n<t;n++){let r=this.columns[n];r.modules.vdomHoz.leftPos+=i,r.modules.vdomHoz.rightPos+=i}}addColRight(){for(var e=!1,t=!0;t;){let i=this.columns[this.rightCol+1];i&&i.modules.vdomHoz.leftPos<=this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach(n=>{if(n.type!=="group"){var r=n.getCell(i);n.getElement().insertBefore(r.getElement(),n.getCell(this.columns[this.rightCol]).getElement().nextSibling),r.cellRendered()}}),this.fitDataColActualWidthCheck(i),this.rightCol++,this.getVisibleRows().forEach(n=>{n.type!=="group"&&(n.modules.vdomHoz.rightCol=this.rightCol)}),this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=i.getWidth()):t=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}addColLeft(){for(var e=!1,t=!0;t;){let i=this.columns[this.leftCol-1];if(i)if(i.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft){e=!0,this.getVisibleRows().forEach(r=>{if(r.type!=="group"){var o=r.getCell(i);r.getElement().insertBefore(o.getElement(),r.getCell(this.columns[this.leftCol]).getElement()),o.cellRendered()}}),this.leftCol--,this.getVisibleRows().forEach(r=>{r.type!=="group"&&(r.modules.vdomHoz.leftCol=this.leftCol)}),this.leftCol<=0?this.vDomPadLeft=0:this.vDomPadLeft-=i.getWidth();let n=this.fitDataColActualWidthCheck(i);n&&(this.scrollLeft=this.elementVertical.scrollLeft=this.elementVertical.scrollLeft+n,this.vDomPadRight-=n)}else t=!1;else t=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}removeColRight(){for(var e=!1,t=!0;t;){let i=this.columns[this.rightCol];i&&i.modules.vdomHoz.leftPos>this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach(n=>{if(n.type!=="group"){var r=n.getCell(i);try{n.getElement().removeChild(r.getElement())}catch(o){console.warn("Could not removeColRight",o.message)}}}),this.vDomPadRight+=i.getWidth(),this.rightCol--,this.getVisibleRows().forEach(n=>{n.type!=="group"&&(n.modules.vdomHoz.rightCol=this.rightCol)})):t=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}removeColLeft(){for(var e=!1,t=!0;t;){let i=this.columns[this.leftCol];i&&i.modules.vdomHoz.rightPos<this.vDomScrollPosLeft?(e=!0,this.getVisibleRows().forEach(n=>{if(n.type!=="group"){var r=n.getCell(i);try{n.getElement().removeChild(r.getElement())}catch(o){console.warn("Could not removeColLeft",o.message)}}}),this.vDomPadLeft+=i.getWidth(),this.leftCol++,this.getVisibleRows().forEach(n=>{n.type!=="group"&&(n.modules.vdomHoz.leftCol=this.leftCol)})):t=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}fitDataColActualWidthCheck(e){var t,i;return e.modules.vdomHoz.fitDataCheck&&(e.reinitializeWidth(),t=e.getWidth(),i=t-e.modules.vdomHoz.width,i&&(e.modules.vdomHoz.rightPos+=i,e.modules.vdomHoz.width=t,this.colPositionAdjust(this.columns.indexOf(e)+1,this.columns.length,i)),e.modules.vdomHoz.fitDataCheck=!1),i}initializeRow(e){if(e.type!=="group"){e.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol},this.table.modules.frozenColumns&&this.table.modules.frozenColumns.leftColumns.forEach(t=>{this.appendCell(e,t)});for(let t=this.leftCol;t<=this.rightCol;t++)this.appendCell(e,this.columns[t]);this.table.modules.frozenColumns&&this.table.modules.frozenColumns.rightColumns.forEach(t=>{this.appendCell(e,t)})}}appendCell(e,t){if(t&&t.visible){let i=e.getCell(t);e.getElement().appendChild(i.getElement()),i.cellRendered()}}reinitializeRow(e,t){if(e.type!=="group"&&(t||!e.modules.vdomHoz||e.modules.vdomHoz.leftCol!==this.leftCol||e.modules.vdomHoz.rightCol!==this.rightCol)){for(var i=e.getElement();i.firstChild;)i.removeChild(i.firstChild);this.initializeRow(e)}}}class Vm extends Qe{constructor(e){super(e),this.blockHozScrollEvent=!1,this.headersElement=null,this.contentsElement=null,this.element=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.optionsList=new Vu(this.table,"column definition",Eu),this.redrawBlock=!1,this.redrawBlockUpdate=null,this.renderer=null}initialize(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.contentsElement=this.createHeaderContentsElement(),this.element=this.createHeaderElement(),this.contentsElement.insertBefore(this.headersElement,this.contentsElement.firstChild),this.element.insertBefore(this.contentsElement,this.element.firstChild),this.initializeScrollWheelWatcher(),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("scrollbar-vertical",this.padVerticalScrollbar.bind(this))}padVerticalScrollbar(e){this.table.rtl?this.headersElement.style.marginLeft=e+"px":this.headersElement.style.marginRight=e+"px"}initializeRenderer(){var e,t={virtual:Nm,basic:Bm};typeof this.table.options.renderHorizontal=="string"?e=t[this.table.options.renderHorizontal]:e=this.table.options.renderHorizontal,e?(this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize()):console.error("Unable to find matching renderer:",this.table.options.renderHorizontal)}createHeadersElement(){var e=document.createElement("div");return e.classList.add("tabulator-headers"),e.setAttribute("role","row"),e}createHeaderContentsElement(){var e=document.createElement("div");return e.classList.add("tabulator-header-contents"),e.setAttribute("role","rowgroup"),e}createHeaderElement(){var e=document.createElement("div");return e.classList.add("tabulator-header"),e.setAttribute("role","rowgroup"),this.table.options.headerVisible||e.classList.add("tabulator-header-hidden"),e}getElement(){return this.element}getContentsElement(){return this.contentsElement}getHeadersElement(){return this.headersElement}scrollHorizontal(e){this.contentsElement.scrollLeft=e,this.scrollLeft=e,this.renderer.scrollColumns(e)}initializeScrollWheelWatcher(){this.contentsElement.addEventListener("wheel",e=>{var t;e.deltaX&&(t=this.contentsElement.scrollLeft+e.deltaX,this.table.rowManager.scrollHorizontal(t),this.table.columnManager.scrollHorizontal(t))})}generateColumnsFromRowData(e){var t=[],i=this.table.options.autoColumnsDefinitions,n,r;if(e&&e.length){n=e[0];for(var o in n){let a={field:o,title:o},l=n[o];switch(typeof l){case"undefined":r="string";break;case"boolean":r="boolean";break;case"object":Array.isArray(l)?r="array":r="string";break;default:!isNaN(l)&&l!==""?r="number":l.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?r="alphanum":r="string";break}a.sorter=r,t.push(a)}if(i)switch(typeof i){case"function":this.table.options.columns=i.call(this.table,t);break;case"object":Array.isArray(i)?t.forEach(a=>{var l=i.find(c=>c.field===a.field);l&&Object.assign(a,l)}):t.forEach(a=>{i[a.field]&&Object.assign(a,i[a.field])}),this.table.options.columns=t;break}else this.table.options.columns=t;this.setColumns(this.table.options.columns)}}setColumns(e,t){for(;this.headersElement.firstChild;)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),e.forEach((i,n)=>{this._addColumn(i)}),this._reIndexColumns(),this.dispatch("columns-loaded"),this.rerenderColumns(!1,!0),this.redraw(!0)}_addColumn(e,t,i){var n=new vt(e,this),r=n.getElement(),o=i&&this.findColumnIndex(i);if(i&&o>-1){var a=i.getTopColumn(),l=this.columns.indexOf(a),c=a.getElement();t?(this.columns.splice(l,0,n),c.parentNode.insertBefore(r,c)):(this.columns.splice(l+1,0,n),c.parentNode.insertBefore(r,c.nextSibling))}else t?(this.columns.unshift(n),this.headersElement.insertBefore(n.getElement(),this.headersElement.firstChild)):(this.columns.push(n),this.headersElement.appendChild(n.getElement()));return n.columnRendered(),n}registerColumnField(e){e.definition.field&&(this.columnsByField[e.definition.field]=e)}registerColumnPosition(e){this.columnsByIndex.push(e)}_reIndexColumns(){this.columnsByIndex=[],this.columns.forEach(function(e){e.reRegisterPosition()})}verticalAlignHeaders(){var e=0;this.redrawBlock||(this.headersElement.style.height="",this.columns.forEach(t=>{t.clearVerticalAlign()}),this.columns.forEach(t=>{var i=t.getHeight();i>e&&(e=i)}),this.headersElement.style.height=e+"px",this.columns.forEach(t=>{t.verticalAlign(this.table.options.columnHeaderVertAlign,e)}),this.table.rowManager.adjustTableSize())}findColumn(e){var t;if(typeof e=="object"){if(e instanceof vt)return e;if(e instanceof Cu)return e._getSelf()||!1;if(typeof HTMLElement<"u"&&e instanceof HTMLElement)return t=[],this.columns.forEach(n=>{t.push(n),t=t.concat(n.getColumns(!0))}),t.find(n=>n.element===e)||!1}else return this.columnsByField[e]||!1;return!1}getColumnByField(e){return this.columnsByField[e]}getColumnsByFieldRoot(e){var t=[];return Object.keys(this.columnsByField).forEach(i=>{var n=i.split(".")[0];n===e&&t.push(this.columnsByField[i])}),t}getColumnByIndex(e){return this.columnsByIndex[e]}getFirstVisibleColumn(){var e=this.columnsByIndex.findIndex(t=>t.visible);return e>-1?this.columnsByIndex[e]:!1}getColumns(){return this.columns}findColumnIndex(e){return this.columnsByIndex.findIndex(t=>e===t)}getRealColumns(){return this.columnsByIndex}traverse(e){this.columnsByIndex.forEach((t,i)=>{e(t,i)})}getDefinitions(e){var t=[];return this.columnsByIndex.forEach(i=>{(!e||e&&i.visible)&&t.push(i.getDefinition())}),t}getDefinitionTree(){var e=[];return this.columns.forEach(t=>{e.push(t.getDefinition(!0))}),e}getComponents(e){var t=[],i=e?this.columns:this.columnsByIndex;return i.forEach(n=>{t.push(n.getComponent())}),t}getWidth(){var e=0;return this.columnsByIndex.forEach(t=>{t.visible&&(e+=t.getWidth())}),e}moveColumn(e,t,i){t.element.parentNode.insertBefore(e.element,t.element),i&&t.element.parentNode.insertBefore(t.element,e.element),this.moveColumnActual(e,t,i),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}moveColumnActual(e,t,i){e.parent.isGroup?this._moveColumnInArray(e.parent.columns,e,t,i):this._moveColumnInArray(this.columns,e,t,i),this._moveColumnInArray(this.columnsByIndex,e,t,i,!0),this.rerenderColumns(!0),this.dispatch("column-moved",e,t,i),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",e.getComponent(),this.table.columnManager.getComponents())}_moveColumnInArray(e,t,i,n,r){var o=e.indexOf(t),a,l=[];o>-1&&(e.splice(o,1),a=e.indexOf(i),a>-1?n&&(a=a+1):a=o,e.splice(a,0,t),r&&(l=this.chain("column-moving-rows",[t,i,n],null,[])||[],l=l.concat(this.table.rowManager.rows),l.forEach(function(c){if(c.cells.length){var p=c.cells.splice(o,1)[0];c.cells.splice(a,0,p)}})))}scrollToColumn(e,t,i){var n=0,r=e.getLeftOffset(),o=0,a=e.getElement();return new Promise((l,c)=>{if(typeof t>"u"&&(t=this.table.options.scrollToColumnPosition),typeof i>"u"&&(i=this.table.options.scrollToColumnIfVisible),e.visible){switch(t){case"middle":case"center":o=-this.element.clientWidth/2;break;case"right":o=a.clientWidth-this.headersElement.clientWidth;break}if(!i&&r>0&&r+a.offsetWidth<this.element.clientWidth)return!1;n=r+o,n=Math.max(Math.min(n,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0),this.table.rowManager.scrollHorizontal(n),this.scrollHorizontal(n),l()}else console.warn("Scroll Error - Column not visible"),c("Scroll Error - Column not visible")})}generateCells(e){var t=[];return this.columnsByIndex.forEach(i=>{t.push(i.generateCell(e))}),t}getFlexBaseWidth(){var e=this.table.element.clientWidth,t=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(e-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach(function(i){var n,r,o;i.visible&&(n=i.definition.width||0,r=parseInt(i.minWidth),typeof n=="string"?n.indexOf("%")>-1?o=e/100*parseInt(n):o=parseInt(n):o=n,t+=o>r?o:r)}),t}addColumn(e,t,i){return new Promise((n,r)=>{var o=this._addColumn(e,t,i);this._reIndexColumns(),this.dispatch("column-add",e,t,i),this.layoutMode()!="fitColumns"&&o.reinitializeWidth(),this.redraw(!0),this.table.rowManager.reinitialize(),this.rerenderColumns(),n(o)})}deregisterColumn(e){var t=e.getField(),i;t&&delete this.columnsByField[t],i=this.columnsByIndex.indexOf(e),i>-1&&this.columnsByIndex.splice(i,1),i=this.columns.indexOf(e),i>-1&&this.columns.splice(i,1),this.verticalAlignHeaders(),this.redraw()}rerenderColumns(e,t){this.redrawBlock?(e===!1||e===!0&&this.redrawBlockUpdate===null)&&(this.redrawBlockUpdate=e):this.renderer.rerenderColumns(e,t)}blockRedraw(){this.redrawBlock=!0,this.redrawBlockUpdate=null}restoreRedraw(){this.redrawBlock=!1,this.verticalAlignHeaders(),this.renderer.rerenderColumns(this.redrawBlockUpdate)}redraw(e){Ae.elVisible(this.element)&&this.verticalAlignHeaders(),e&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",e)||this.layoutRefresh(e),this.dispatch("table-redraw",e),this.table.footerManager.redraw()}}class jm extends _n{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0}clearRows(){for(var e=this.tableElement;e.firstChild;)e.removeChild(e.firstChild);e.scrollTop=0,e.scrollLeft=0,e.style.minWidth="",e.style.minHeight="",e.style.display="",e.style.visibility=""}renderRows(){var e=this.tableElement,t=!0,i=document.createDocumentFragment(),n=this.rows();n.forEach((r,o)=>{this.styleRow(r,o),r.initialize(!1,!0),r.type!=="group"&&(t=!1),i.appendChild(r.getElement())}),e.appendChild(i),n.forEach(r=>{r.rendered(),r.heightInitialized||r.calcHeight(!0)}),n.forEach(r=>{r.heightInitialized||r.setCellHeight()}),t?e.style.minWidth=this.table.columnManager.getWidth()+"px":e.style.minWidth=""}rerenderRows(e){this.clearRows(),e&&e(),this.renderRows()}scrollToRowNearestTop(e){var t=Ae.elOffset(e.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-t)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-t))}scrollToRow(e){var t=e.getElement();this.elementVertical.scrollTop=Ae.elOffset(t).top-Ae.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}visibleRows(e){return this.rows()}}class Wm extends _n{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]}clearRows(){for(var e=this.tableElement;e.firstChild;)e.removeChild(e.firstChild);e.style.paddingTop="",e.style.paddingBottom="",e.style.minHeight="",e.style.display="",e.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}renderRows(){this._virtualRenderFill()}rerenderRows(e){for(var t=this.elementVertical.scrollTop,i=!1,n=!1,r=this.table.rowManager.scrollLeft,o=this.rows(),a=this.vDomTop;a<=this.vDomBottom;a++)if(o[a]){var l=t-o[a].getElement().offsetTop;if(n===!1||Math.abs(l)<n)n=l,i=a;else break}o.forEach(c=>{c.deinitializeHeight()}),e&&e(),this.rows().length?this._virtualRenderFill(i===!1?this.rows.length-1:i,!0,n||0):(this.clear(),this.table.rowManager.tableEmpty()),this.scrollColumns(r)}scrollColumns(e){this.table.rowManager.scrollHorizontal(e)}scrollRows(e,t){var i=e-this.vDomScrollPosTop,n=e-this.vDomScrollPosBottom,r=this.vDomWindowBuffer*2,o=this.rows();if(this.scrollTop=e,-i>r||n>r){var a=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*o.length)),this.scrollColumns(a)}else t?(i<0&&this._addTopRow(o,-i),n<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(o,-n):this.vDomScrollPosBottom=this.scrollTop)):(n>=0&&this._addBottomRow(o,n),i>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(o,i):this.vDomScrollPosTop=this.scrollTop))}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}scrollToRowNearestTop(e){var t=this.rows().indexOf(e);return!(Math.abs(this.vDomTop-t)>Math.abs(this.vDomBottom-t))}scrollToRow(e){var t=this.rows().indexOf(e);t>-1&&this._virtualRenderFill(t,!0)}visibleRows(e){var t=this.elementVertical.scrollTop,i=this.elementVertical.clientHeight+t,n=!1,r=0,o=0,a=this.rows();if(e)r=this.vDomTop,o=this.vDomBottom;else for(var l=this.vDomTop;l<=this.vDomBottom;l++)if(a[l])if(n)if(i-a[l].getElement().offsetTop>=0)o=l;else break;else if(t-a[l].getElement().offsetTop>=0)r=l;else if(n=!0,i-a[l].getElement().offsetTop>=0)o=l;else break;return a.slice(r,o+1)}_virtualRenderFill(e,t,i){var n=this.tableElement,r=this.elementVertical,o=0,a=0,l=0,c=0,p=0,v=0,y=this.rows(),_=y.length,T=0,S,L,A=[],F=0,j=0,B=this.table.rowManager.fixedHeight,V=this.elementVertical.clientHeight,q=this.table.options.rowHeight,ie=!0;if(e=e||0,i=i||0,!e)this.clear();else{for(;n.firstChild;)n.removeChild(n.firstChild);c=(_-e+1)*this.vDomRowHeight,c<V&&(e-=Math.ceil((V-c)/this.vDomRowHeight),e<0&&(e=0)),o=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),e),e-=o}if(_&&Ae.elVisible(this.elementVertical)){for(this.vDomTop=e,this.vDomBottom=e-1,B||this.table.options.maxHeight?(q&&(j=V/q+this.vDomWindowBuffer/q),j=Math.max(this.vDomWindowMinTotalRows,Math.ceil(j))):j=_;(j==_||a<=V+this.vDomWindowBuffer||F<this.vDomWindowMinTotalRows)&&this.vDomBottom<_-1;){for(A=[],L=document.createDocumentFragment(),v=0;v<j&&this.vDomBottom<_-1;)T=this.vDomBottom+1,S=y[T],this.styleRow(S,T),S.initialize(!1,!0),!S.heightInitialized&&!this.table.options.rowHeight&&S.clearCellHeight(),L.appendChild(S.getElement()),A.push(S),this.vDomBottom++,v++;if(!A.length)break;n.appendChild(L),A.forEach(ee=>{ee.rendered(),ee.heightInitialized||ee.calcHeight(!0)}),A.forEach(ee=>{ee.heightInitialized||ee.setCellHeight()}),A.forEach(ee=>{l=ee.getHeight(),F<o?p+=l:a+=l,l>this.vDomWindowBuffer&&(this.vDomWindowBuffer=l*2),F++}),ie=this.table.rowManager.adjustTableSize(),V=this.elementVertical.clientHeight,ie&&(B||this.table.options.maxHeight)&&(q=a/F,j=Math.max(this.vDomWindowMinTotalRows,Math.ceil(V/q+this.vDomWindowBuffer/q)))}e?(this.vDomTopPad=t?this.vDomRowHeight*this.vDomTop+i:this.scrollTop-p,this.vDomBottomPad=this.vDomBottom==_-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-a-p,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((a+p)/F),this.vDomBottomPad=this.vDomRowHeight*(_-this.vDomBottom-1),this.vDomScrollHeight=p+a+this.vDomBottomPad-V),n.style.paddingTop=this.vDomTopPad+"px",n.style.paddingBottom=this.vDomBottomPad+"px",t&&(this.scrollTop=this.vDomTopPad+p+i-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-V:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-V),this.elementVertical.scrollWidth>this.elementVertical.clientWidth&&t&&(this.scrollTop+=this.elementVertical.offsetHeight-V),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,r.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}_addTopRow(e,t){for(var i=this.tableElement,n=[],r=0,o=this.vDomTop-1,a=0,l=!0;l;)if(this.vDomTop){let c=e[o],p,v;c&&a<this.vDomMaxRenderChain?(p=c.getHeight()||this.vDomRowHeight,v=c.initialized,t>=p?(this.styleRow(c,o),i.insertBefore(c.getElement(),i.firstChild),(!c.initialized||!c.heightInitialized)&&n.push(c),c.initialize(),v||(p=c.getElement().offsetHeight,p>this.vDomWindowBuffer&&(this.vDomWindowBuffer=p*2)),t-=p,r+=p,this.vDomTop--,o--,a++):l=!1):l=!1}else l=!1;for(let c of n)c.clearCellHeight();this._quickNormalizeRowHeight(n),r&&(this.vDomTopPad-=r,this.vDomTopPad<0&&(this.vDomTopPad=o*this.vDomRowHeight),o<1&&(this.vDomTopPad=0),i.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=r)}_removeTopRow(e,t){for(var i=[],n=0,r=0,o=!0;o;){let a=e[this.vDomTop],l;a&&r<this.vDomMaxRenderChain?(l=a.getHeight()||this.vDomRowHeight,t>=l?(this.vDomTop++,t-=l,n+=l,i.push(a),r++):o=!1):o=!1}for(let a of i){let l=a.getElement();l.parentNode&&l.parentNode.removeChild(l)}n&&(this.vDomTopPad+=n,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?n:n+this.vDomWindowBuffer)}_addBottomRow(e,t){for(var i=this.tableElement,n=[],r=0,o=this.vDomBottom+1,a=0,l=!0;l;){let c=e[o],p,v;c&&a<this.vDomMaxRenderChain?(p=c.getHeight()||this.vDomRowHeight,v=c.initialized,t>=p?(this.styleRow(c,o),i.appendChild(c.getElement()),(!c.initialized||!c.heightInitialized)&&n.push(c),c.initialize(),v||(p=c.getElement().offsetHeight,p>this.vDomWindowBuffer&&(this.vDomWindowBuffer=p*2)),t-=p,r+=p,this.vDomBottom++,o++,a++):l=!1):l=!1}for(let c of n)c.clearCellHeight();this._quickNormalizeRowHeight(n),r&&(this.vDomBottomPad-=r,(this.vDomBottomPad<0||o==e.length-1)&&(this.vDomBottomPad=0),i.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=r)}_removeBottomRow(e,t){for(var i=[],n=0,r=0,o=!0;o;){let a=e[this.vDomBottom],l;a&&r<this.vDomMaxRenderChain?(l=a.getHeight()||this.vDomRowHeight,t>=l?(this.vDomBottom--,t-=l,n+=l,i.push(a),r++):o=!1):o=!1}for(let a of i){let l=a.getElement();l.parentNode&&l.parentNode.removeChild(l)}n&&(this.vDomBottomPad+=n,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=n)}_quickNormalizeRowHeight(e){for(let t of e)t.calcHeight();for(let t of e)t.setCellHeight()}}class Um extends Qe{constructor(e){super(e),this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.placeholder=null,this.placeholderContents=null,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRowsPipeline=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRenderInPosition=!1,this.dataPipeline=[],this.displayPipeline=[],this.scrollbarWidth=0,this.renderer=null}createHolderElement(){var e=document.createElement("div");return e.classList.add("tabulator-tableholder"),e.setAttribute("tabindex",0),e}createTableElement(){var e=document.createElement("div");return e.classList.add("tabulator-table"),e.setAttribute("role","rowgroup"),e}initializePlaceholder(){var e=this.table.options.placeholder;if(typeof e=="function"&&(e=e.call(this.table)),e=this.chain("placeholder",[e],e,e)||e,e){let t=document.createElement("div");if(t.classList.add("tabulator-placeholder"),typeof e=="string"){let i=document.createElement("div");i.classList.add("tabulator-placeholder-contents"),i.innerHTML=e,t.appendChild(i),this.placeholderContents=i}else typeof HTMLElement<"u"&&e instanceof HTMLElement?(t.appendChild(e),this.placeholderContents=e):(console.warn("Invalid placeholder provided, must be string or HTML Element",e),this.el=null);this.placeholder=t}}getElement(){return this.element}getTableElement(){return this.tableElement}initialize(){this.initializePlaceholder(),this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",()=>{var e=this.element.scrollLeft,t=this.scrollLeft>e,i=this.element.scrollTop,n=this.scrollTop>i;this.scrollLeft!=e&&(this.scrollLeft=e,this.dispatch("scroll-horizontal",e,t),this.dispatchExternal("scrollHorizontal",e,t),this._positionPlaceholder()),this.scrollTop!=i&&(this.scrollTop=i,this.renderer.scrollRows(i,n),this.dispatch("scroll-vertical",i,n),this.dispatchExternal("scrollVertical",i,n))})}findRow(e){if(typeof e=="object"){if(e instanceof qe)return e;if(e instanceof Cn)return e._getSelf()||!1;if(typeof HTMLElement<"u"&&e instanceof HTMLElement)return this.rows.find(i=>i.getElement()===e)||!1;if(e===null)return!1}else return typeof e>"u"?!1:this.rows.find(i=>i.data[this.table.options.index]==e)||!1;return!1}getRowFromDataObject(e){var t=this.rows.find(i=>i.data===e);return t||!1}getRowFromPosition(e){return this.getDisplayRows().find(t=>t.getPosition()===e&&t.isDisplayed())}scrollToRow(e,t,i){return this.renderer.scrollToRowPosition(e,t,i)}setData(e,t,i){return new Promise((n,r)=>{t&&this.getDisplayRows().length?this.table.options.pagination?this._setDataActual(e,!0):this.reRenderInPosition(()=>{this._setDataActual(e)}):(this.table.options.autoColumns&&i&&this.table.initialized&&this.table.columnManager.generateColumnsFromRowData(e),this.resetScroll(),this._setDataActual(e)),n()})}_setDataActual(e,t){this.dispatchExternal("dataProcessing",e),this._wipeElements(),Array.isArray(e)?(this.dispatch("data-processing",e),e.forEach((i,n)=>{if(i&&typeof i=="object"){var r=new qe(i,this);this.rows.push(r)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",i)}),this.refreshActiveData(!1,!1,t),this.dispatch("data-processed",e),this.dispatchExternal("dataProcessed",e)):console.error(`Data Loading Error - Unable to process data due to invalid data type 
Expecting: array 
Received: `,typeof e,`
Data:     `,e)}_wipeElements(){this.dispatch("rows-wipe"),this.destroy(),this.adjustTableSize(),this.dispatch("rows-wiped")}destroy(){this.rows.forEach(e=>{e.wipe()}),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0}deleteRow(e,t){var i=this.rows.indexOf(e),n=this.activeRows.indexOf(e);n>-1&&this.activeRows.splice(n,1),i>-1&&this.rows.splice(i,1),this.setActiveRows(this.activeRows),this.displayRowIterator(r=>{var o=r.indexOf(e);o>-1&&r.splice(o,1)}),t||this.reRenderInPosition(),this.regenerateRowPositions(),this.dispatchExternal("rowDeleted",e.getComponent()),this.displayRowsCount||this.tableEmpty(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}addRow(e,t,i,n){var r=this.addRowActual(e,t,i,n);return r}addRows(e,t,i,n){var r=[];return new Promise((o,a)=>{t=this.findAddRowPos(t),Array.isArray(e)||(e=[e]),(typeof i>"u"&&t||typeof i<"u"&&!t)&&e.reverse(),e.forEach((l,c)=>{var p=this.addRow(l,t,i,!0);r.push(p),this.dispatch("row-added",p,l,t,i)}),this.refreshActiveData(n?"displayPipeline":!1,!1,!0),this.regenerateRowPositions(),r.length&&this._clearPlaceholder(),o(r)})}findAddRowPos(e){return typeof e>"u"&&(e=this.table.options.addRowPos),e==="pos"&&(e=!0),e==="bottom"&&(e=!1),e}addRowActual(e,t,i,n){var r=e instanceof qe?e:new qe(e||{},this),o=this.findAddRowPos(t),a=-1,l,c;return i||(c=this.chain("row-adding-position",[r,o],null,{index:i,top:o}),i=c.index,o=c.top),typeof i<"u"&&(i=this.findRow(i)),i=this.chain("row-adding-index",[r,i,o],null,i),i&&(a=this.rows.indexOf(i)),i&&a>-1?(l=this.activeRows.indexOf(i),this.displayRowIterator(function(p){var v=p.indexOf(i);v>-1&&p.splice(o?v:v+1,0,r)}),l>-1&&this.activeRows.splice(o?l:l+1,0,r),this.rows.splice(o?a:a+1,0,r)):o?(this.displayRowIterator(function(p){p.unshift(r)}),this.activeRows.unshift(r),this.rows.unshift(r)):(this.displayRowIterator(function(p){p.push(r)}),this.activeRows.push(r),this.rows.push(r)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",r.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),n||this.reRenderInPosition(),r}moveRow(e,t,i){this.dispatch("row-move",e,t,i),this.moveRowActual(e,t,i),this.regenerateRowPositions(),this.dispatch("row-moved",e,t,i),this.dispatchExternal("rowMoved",e.getComponent())}moveRowActual(e,t,i){this.moveRowInArray(this.rows,e,t,i),this.moveRowInArray(this.activeRows,e,t,i),this.displayRowIterator(n=>{this.moveRowInArray(n,e,t,i)}),this.dispatch("row-moving",e,t,i)}moveRowInArray(e,t,i,n){var r,o,a,l;if(t!==i&&(r=e.indexOf(t),r>-1&&(e.splice(r,1),o=e.indexOf(i),o>-1?n?e.splice(o+1,0,t):e.splice(o,0,t):e.splice(r,0,t)),e===this.getDisplayRows())){a=r<o?r:o,l=o>r?o:r+1;for(let c=a;c<=l;c++)e[c]&&this.styleRow(e[c],c)}}clearData(){this.setData([])}getRowIndex(e){return this.findRowIndex(e,this.rows)}getDisplayRowIndex(e){var t=this.getDisplayRows().indexOf(e);return t>-1?t:!1}nextDisplayRow(e,t){var i=this.getDisplayRowIndex(e),n=!1;return i!==!1&&i<this.displayRowsCount-1&&(n=this.getDisplayRows()[i+1]),n&&(!(n instanceof qe)||n.type!="row")?this.nextDisplayRow(n,t):n}prevDisplayRow(e,t){var i=this.getDisplayRowIndex(e),n=!1;return i&&(n=this.getDisplayRows()[i-1]),t&&n&&(!(n instanceof qe)||n.type!="row")?this.prevDisplayRow(n,t):n}findRowIndex(e,t){var i;return e=this.findRow(e),e&&(i=t.indexOf(e),i>-1)?i:!1}getData(e,t){var i=[],n=this.getRows(e);return n.forEach(function(r){r.type=="row"&&i.push(r.getData(t||"data"))}),i}getComponents(e){var t=[],i=this.getRows(e);return i.forEach(function(n){t.push(n.getComponent())}),t}getDataCount(e){var t=this.getRows(e);return t.length}scrollHorizontal(e){this.scrollLeft=e,this.element.scrollLeft=e,this.dispatch("scroll-horizontal",e)}registerDataPipelineHandler(e,t){typeof t<"u"?(this.dataPipeline.push({handler:e,priority:t}),this.dataPipeline.sort((i,n)=>i.priority-n.priority)):console.error("Data pipeline handlers must have a priority in order to be registered")}registerDisplayPipelineHandler(e,t){typeof t<"u"?(this.displayPipeline.push({handler:e,priority:t}),this.displayPipeline.sort((i,n)=>i.priority-n.priority)):console.error("Display pipeline handlers must have a priority in order to be registered")}refreshActiveData(e,t,i){var n=this.table,r="",o=0,a=["all","dataPipeline","display","displayPipeline","end"];if(!this.table.destroyed){if(typeof e=="function")if(o=this.dataPipeline.findIndex(l=>l.handler===e),o>-1)r="dataPipeline",t&&(o==this.dataPipeline.length-1?r="display":o++);else if(o=this.displayPipeline.findIndex(l=>l.handler===e),o>-1)r="displayPipeline",t&&(o==this.displayPipeline.length-1?r="end":o++);else{console.error("Unable to refresh data, invalid handler provided",e);return}else r=e||"all",o=0;if(this.redrawBlock){(!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===r&&o<this.redrawBlockRestoreConfig.index||a.indexOf(r)<a.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:e,skipStage:t,renderInPosition:i,stage:r,index:o});return}else Ae.elVisible(this.element)?i?this.reRenderInPosition(this.refreshPipelines.bind(this,e,r,o,i)):(this.refreshPipelines(e,r,o,i),e||this.table.columnManager.renderer.renderColumns(),this.renderTable(),n.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0)):this.refreshPipelines(e,r,o,i),this.dispatch("data-refreshed")}}refreshPipelines(e,t,i,n){switch(this.dispatch("data-refreshing"),e||(this.activeRowsPipeline[0]=this.rows.slice(0)),t){case"all":case"dataPipeline":for(let r=i;r<this.dataPipeline.length;r++){let o=this.dataPipeline[r].handler(this.activeRowsPipeline[r].slice(0));this.activeRowsPipeline[r+1]=o||this.activeRowsPipeline[r].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);case"display":i=0,this.resetDisplayRows();case"displayPipeline":for(let r=i;r<this.displayPipeline.length;r++){let o=this.displayPipeline[r].handler((r?this.getDisplayRows(r-1):this.activeRows).slice(0),n);this.setDisplayRows(o||this.getDisplayRows(r-1).slice(0),r)}case"end":this.regenerateRowPositions()}this.getDisplayRows().length&&this._clearPlaceholder()}regenerateRowPositions(){var e=this.getDisplayRows(),t=1;e.forEach(i=>{i.type==="row"&&(i.setPosition(t),t++)})}setActiveRows(e){this.activeRows=this.activeRows=Object.assign([],e),this.activeRowsCount=this.activeRows.length}resetDisplayRows(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}setDisplayRows(e,t){this.displayRows[t]=e,t==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length)}getDisplayRows(e){return typeof e>"u"?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[e]||[]}getVisibleRows(e,t){var i=Object.assign([],this.renderer.visibleRows(!t));return e&&(i=this.chain("rows-visible",[t],i,i)),i}displayRowIterator(e){this.activeRowsPipeline.forEach(e),this.displayRows.forEach(e),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}getRows(e){var t=[];switch(e){case"active":t=this.activeRows;break;case"display":t=this.table.rowManager.getDisplayRows();break;case"visible":t=this.getVisibleRows(!1,!0);break;default:t=this.chain("rows-retrieve",e,null,this.rows)||this.rows}return t}reRenderInPosition(e){this.redrawBlock?e?e():this.redrawBlockRenderInPosition=!0:(this.dispatchExternal("renderStarted"),this.renderer.rerenderRows(e),this.fixedHeight||this.adjustTableSize(),this.scrollBarCheck(),this.dispatchExternal("renderComplete"))}scrollBarCheck(){var e=0;this.element.scrollHeight>this.element.clientHeight&&(e=this.element.offsetWidth-this.element.clientWidth),e!==this.scrollbarWidth&&(this.scrollbarWidth=e,this.dispatch("scrollbar-vertical",e))}initializeRenderer(){var e,t={virtual:Wm,basic:jm};typeof this.table.options.renderVertical=="string"?e=t[this.table.options.renderVertical]:e=this.table.options.renderVertical,e?(this.renderMode=this.table.options.renderVertical,this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize(),(this.table.element.clientHeight||this.table.options.height)&&!(this.table.options.minHeight&&this.table.options.maxHeight)?this.fixedHeight=!0:this.fixedHeight=!1):console.error("Unable to find matching renderer:",this.table.options.renderVertical)}getRenderMode(){return this.renderMode}renderTable(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.fixedHeight||this.adjustTableSize(),this.layoutRefresh(!0))):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.scrollBarCheck(),this.dispatchExternal("renderComplete")}renderEmptyScroll(){this.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}_clearTable(){this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}tableEmpty(){this.renderEmptyScroll(),this._showPlaceholder()}_showPlaceholder(){this.placeholder&&(this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.initializePlaceholder(),this.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.placeholder),this._positionPlaceholder(),this.adjustTableSize())}_clearPlaceholder(){this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.tableElement.style.minWidth="",this.tableElement.style.display=""}_positionPlaceholder(){this.placeholder&&this.placeholder.parentNode&&(this.placeholder.style.width=this.table.columnManager.getWidth()+"px",this.placeholderContents.style.width=this.table.rowManager.element.clientWidth+"px",this.placeholderContents.style.marginLeft=this.scrollLeft+"px")}styleRow(e,t){var i=e.getElement();t%2?(i.classList.add("tabulator-row-even"),i.classList.remove("tabulator-row-odd")):(i.classList.add("tabulator-row-odd"),i.classList.remove("tabulator-row-even"))}normalizeHeight(){this.activeRows.forEach(function(e){e.normalizeHeight()})}adjustTableSize(){let e=this.element.clientHeight,t,i=!1;if(this.renderer.verticalFillMode==="fill"){let n=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));if(this.fixedHeight){t=isNaN(this.table.options.minHeight)?this.table.options.minHeight:this.table.options.minHeight+"px";const r="calc(100% - "+n+"px)";this.element.style.minHeight=t||"calc(100% - "+n+"px)",this.element.style.height=r,this.element.style.maxHeight=r}else this.element.style.height="",this.element.style.height=this.table.element.clientHeight-n+"px",this.element.scrollTop=this.scrollTop;this.renderer.resize(),!this.fixedHeight&&e!=this.element.clientHeight&&(i=!0,this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw()),this.scrollBarCheck()}return this._positionPlaceholder(),i}reinitialize(){this.rows.forEach(function(e){e.reinitialize(!0)})}blockRedraw(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}restoreRedraw(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRenderInPosition&&this.reRenderInPosition(),this.redrawBlockRenderInPosition=!1}redraw(e){const t=this.adjustTableSize();this.table.tableWidth=this.table.element.clientWidth,e?this.renderTable():(t&&this.reRenderInPosition(),this.scrollHorizontal(this.scrollLeft))}resetScroll(){if(this.element.scrollLeft=0,this.element.scrollTop=0,this.table.browser==="ie"){var e=document.createEvent("Event");e.initEvent("scroll",!1,!0),this.element.dispatchEvent(e)}else this.element.dispatchEvent(new Event("scroll"))}}class Gm extends Qe{constructor(e){super(e),this.active=!1,this.element=this.createElement(),this.containerElement=this.createContainerElement(),this.external=!1}initialize(){this.initializeElement()}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer"),e}createContainerElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer-contents"),this.element.appendChild(e),e}initializeElement(){if(this.table.options.footerElement)switch(typeof this.table.options.footerElement){case"string":this.table.options.footerElement[0]==="<"?this.containerElement.innerHTML=this.table.options.footerElement:(this.external=!0,this.containerElement=document.querySelector(this.table.options.footerElement));break;default:this.element=this.table.options.footerElement;break}}getElement(){return this.element}append(e){this.activate(),this.containerElement.appendChild(e),this.table.rowManager.adjustTableSize()}prepend(e){this.activate(),this.element.insertBefore(e,this.element.firstChild),this.table.rowManager.adjustTableSize()}remove(e){e.parentNode.removeChild(e),this.deactivate()}deactivate(e){(!this.element.firstChild||e)&&(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}activate(){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display=""))}redraw(){this.dispatch("footer-redraw")}}class qm extends Qe{constructor(e){super(e),this.el=null,this.abortClasses=["tabulator-headers","tabulator-table"],this.previousTargets={},this.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","mouseup","mousedown","touchstart","touchend"],this.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},this.pseudoTrackers={row:{subscriber:null,target:null},cell:{subscriber:null,target:null},group:{subscriber:null,target:null},column:{subscriber:null,target:null}},this.pseudoTracking=!1}initialize(){this.el=this.table.element,this.buildListenerMap(),this.bindSubscriptionWatchers()}buildListenerMap(){var e={};this.listeners.forEach(t=>{e[t]={handler:null,components:[]}}),this.listeners=e}bindPseudoEvents(){Object.keys(this.pseudoTrackers).forEach(e=>{this.pseudoTrackers[e].subscriber=this.pseudoMouseEnter.bind(this,e),this.subscribe(e+"-mouseover",this.pseudoTrackers[e].subscriber)}),this.pseudoTracking=!0}pseudoMouseEnter(e,t,i){this.pseudoTrackers[e].target!==i&&(this.pseudoTrackers[e].target&&this.dispatch(e+"-mouseleave",t,this.pseudoTrackers[e].target),this.pseudoMouseLeave(e,t),this.pseudoTrackers[e].target=i,this.dispatch(e+"-mouseenter",t,i))}pseudoMouseLeave(e,t){var i=Object.keys(this.pseudoTrackers),n={row:["cell"],cell:["row"]};i=i.filter(r=>{var o=n[e];return r!==e&&(!o||o&&!o.includes(r))}),i.forEach(r=>{var o=this.pseudoTrackers[r].target;this.pseudoTrackers[r].target&&(this.dispatch(r+"-mouseleave",t,o),this.pseudoTrackers[r].target=null)})}bindSubscriptionWatchers(){var e=Object.keys(this.listeners),t=Object.values(this.componentMap);for(let i of t)for(let n of e){let r=i+"-"+n;this.subscriptionChange(r,this.subscriptionChanged.bind(this,i,n))}this.subscribe("table-destroy",this.clearWatchers.bind(this))}subscriptionChanged(e,t,i){var n=this.listeners[t].components,r=n.indexOf(e),o=!1;i?r===-1&&(n.push(e),o=!0):this.subscribed(e+"-"+t)||r>-1&&(n.splice(r,1),o=!0),(t==="mouseenter"||t==="mouseleave")&&!this.pseudoTracking&&this.bindPseudoEvents(),o&&this.updateEventListeners()}updateEventListeners(){for(let e in this.listeners){let t=this.listeners[e];t.components.length?t.handler||(t.handler=this.track.bind(this,e),this.el.addEventListener(e,t.handler)):t.handler&&(this.el.removeEventListener(e,t.handler),t.handler=null)}}track(e,t){var i=t.composedPath&&t.composedPath()||t.path,n=this.findTargets(i);n=this.bindComponents(e,n),this.triggerEvents(e,t,n),this.pseudoTracking&&(e=="mouseover"||e=="mouseleave")&&!Object.keys(n).length&&this.pseudoMouseLeave("none",t)}findTargets(e){var t={};let i=Object.keys(this.componentMap);for(let n of e){let r=n.classList?[...n.classList]:[];if(r.filter(l=>this.abortClasses.includes(l)).length)break;let a=r.filter(l=>i.includes(l));for(let l of a)t[this.componentMap[l]]||(t[this.componentMap[l]]=n)}return t.group&&t.group===t.row&&delete t.row,t}bindComponents(e,t){var i=Object.keys(t).reverse(),n=this.listeners[e],r={},o={};for(let a of i){let l,c=t[a],p=this.previousTargets[a];if(p&&p.target===c)l=p.component;else switch(a){case"row":case"group":(n.components.includes("row")||n.components.includes("cell")||n.components.includes("group"))&&(l=this.table.rowManager.getVisibleRows(!0).find(y=>y.getElement()===c),t.row&&t.row.parentNode&&t.row.parentNode.closest(".tabulator-row")&&(t[a]=!1));break;case"column":n.components.includes("column")&&(l=this.table.columnManager.findColumn(c));break;case"cell":n.components.includes("cell")&&(r.row instanceof qe?l=r.row.findCell(c):t.row&&console.warn("Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?"));break}l&&(r[a]=l,o[a]={target:c,component:l})}return this.previousTargets=o,r}triggerEvents(e,t,i){var n=this.listeners[e];for(let r in i)i[r]&&n.components.includes(r)&&this.dispatch(r+"-"+e,t,i[r])}clearWatchers(){for(let e in this.listeners){let t=this.listeners[e];t.handler&&(this.el.removeEventListener(e,t.handler),t.handler=null)}}}class $m{constructor(e){this.table=e,this.bindings={}}bind(e,t,i){this.bindings[e]||(this.bindings[e]={}),this.bindings[e][t]?console.warn("Unable to bind component handler, a matching function name is already bound",e,t,i):this.bindings[e][t]=i}handle(e,t,i){if(this.bindings[e]&&this.bindings[e][i]&&typeof this.bindings[e][i].bind=="function")return this.bindings[e][i].bind(null,t);i!=="then"&&typeof i=="string"&&!i.startsWith("_")&&this.table.options.debugInvalidComponentFuncs&&console.error("The "+e+" component does not have a "+i+" function, have you checked that you have the correct Tabulator module installed?")}}class Km extends Qe{constructor(e){super(e),this.requestOrder=0,this.loading=!1}initialize(){}load(e,t,i,n,r,o){var a=++this.requestOrder;if(this.table.destroyed)return Promise.resolve();if(this.dispatchExternal("dataLoading",e),e&&(e.indexOf("{")==0||e.indexOf("[")==0)&&(e=JSON.parse(e)),this.confirm("data-loading",[e,t,i,r])){this.loading=!0,r||this.alertLoader(),t=this.chain("data-params",[e,i,r],t||{},t||{}),t=this.mapParams(t,this.table.options.dataSendParams);var l=this.chain("data-load",[e,t,i,r],!1,Promise.resolve([]));return l.then(c=>{if(this.table.destroyed)console.warn("Data Load Response Blocked - Table has been destroyed");else{!Array.isArray(c)&&typeof c=="object"&&(c=this.mapParams(c,this.objectInvert(this.table.options.dataReceiveParams)));var p=this.chain("data-loaded",c,null,c);a==this.requestOrder?(this.clearAlert(),p!==!1&&(this.dispatchExternal("dataLoaded",p),this.table.rowManager.setData(p,n,typeof o>"u"?!n:o))):console.warn("Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made")}}).catch(c=>{console.error("Data Load Error: ",c),this.dispatchExternal("dataLoadError",c),r||this.alertError(),setTimeout(()=>{this.clearAlert()},this.table.options.dataLoaderErrorTimeout)}).finally(()=>{this.loading=!1})}else return this.dispatchExternal("dataLoaded",e),e||(e=[]),this.table.rowManager.setData(e,n,typeof o>"u"?!n:o),Promise.resolve()}mapParams(e,t){var i={};for(let n in e)i[t.hasOwnProperty(n)?t[n]:n]=e[n];return i}objectInvert(e){var t={};for(let i in e)t[e[i]]=i;return t}blockActiveLoad(){this.requestOrder++}alertLoader(){var e=typeof this.table.options.dataLoader=="function"?this.table.options.dataLoader():this.table.options.dataLoader;e&&this.table.alertManager.alert(this.table.options.dataLoaderLoading||this.langText("data|loading"))}alertError(){this.table.alertManager.alert(this.table.options.dataLoaderError||this.langText("data|error"),"error")}clearAlert(){this.table.alertManager.clear()}}class Xm{constructor(e,t,i){this.table=e,this.events={},this.optionsList=t||{},this.subscriptionNotifiers={},this.dispatch=i?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=i}subscriptionChange(e,t){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(t),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t),this._notifySubscriptionChange(e,!0)}unsubscribe(e,t){var i;if(this.events[e])if(t)if(i=this.events[e].findIndex(n=>n===t),i>-1)this.events[e].splice(i,1);else{console.warn("Cannot remove event, no matching event found:",e,t);return}else delete this.events[e];else{console.warn("Cannot remove event, no events set on:",e);return}this._notifySubscriptionChange(e,!1)}subscribed(e){return this.events[e]&&this.events[e].length}_notifySubscriptionChange(e,t){var i=this.subscriptionNotifiers[e];i&&i.forEach(n=>{n(t)})}_dispatch(){var e=Array.from(arguments),t=e.shift(),i;return this.events[t]&&this.events[t].forEach((n,r)=>{let o=n.apply(this.table,e);r||(i=o)}),i}_debugDispatch(){var e=Array.from(arguments),t=e[0];return e[0]="ExternalEvent:"+e[0],(this.debug===!0||this.debug.includes(t))&&console.log(...e),this._dispatch(...arguments)}}class Jm{constructor(e){this.events={},this.subscriptionNotifiers={},this.dispatch=e?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=e?this._debugChain.bind(this):this._chain.bind(this),this.confirm=e?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=e}subscriptionChange(e,t){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(t),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,t,i=1e4){this.events[e]||(this.events[e]=[]),this.events[e].push({callback:t,priority:i}),this.events[e].sort((n,r)=>n.priority-r.priority),this._notifySubscriptionChange(e,!0)}unsubscribe(e,t){var i;if(this.events[e]){if(t)if(i=this.events[e].findIndex(n=>n.callback===t),i>-1)this.events[e].splice(i,1);else{console.warn("Cannot remove event, no matching event found:",e,t);return}}else{console.warn("Cannot remove event, no events set on:",e);return}this._notifySubscriptionChange(e,!1)}subscribed(e){return this.events[e]&&this.events[e].length}_chain(e,t,i,n){var r=i;return Array.isArray(t)||(t=[t]),this.subscribed(e)?(this.events[e].forEach((o,a)=>{r=o.callback.apply(this,t.concat([r]))}),r):typeof n=="function"?n():n}_confirm(e,t){var i=!1;return Array.isArray(t)||(t=[t]),this.subscribed(e)&&this.events[e].forEach((n,r)=>{n.callback.apply(this,t)&&(i=!0)}),i}_notifySubscriptionChange(e,t){var i=this.subscriptionNotifiers[e];i&&i.forEach(n=>{n(t)})}_dispatch(){var e=Array.from(arguments),t=e.shift();this.events[t]&&this.events[t].forEach(i=>{i.callback.apply(this,e)})}_debugDispatch(){var e=Array.from(arguments),t=e[0];return e[0]="InternalEvent:"+t,(this.debug===!0||this.debug.includes(t))&&console.log(...e),this._dispatch(...arguments)}_debugChain(){var e=Array.from(arguments),t=e[0];return e[0]="InternalEvent:"+t,(this.debug===!0||this.debug.includes(t))&&console.log(...e),this._chain(...arguments)}_debugConfirm(){var e=Array.from(arguments),t=e[0];return e[0]="InternalEvent:"+t,(this.debug===!0||this.debug.includes(t))&&console.log(...e),this._confirm(...arguments)}}class Ym extends Qe{constructor(e){super(e)}_warnUser(){this.options("debugDeprecation")&&console.warn(...arguments)}check(e,t){var i="";return typeof this.options(e)<"u"?(i="Deprecated Setup Option - Use of the %c"+e+"%c option is now deprecated",t?(i=i+", Please use the %c"+t+"%c option instead",this._warnUser(i,"font-weight: bold;","font-weight: normal;","font-weight: bold;","font-weight: normal;")):this._warnUser(i,"font-weight: bold;","font-weight: normal;"),!1):!0}checkMsg(e,t){return typeof this.options(e)<"u"?(this._warnUser("%cDeprecated Setup Option - Use of the %c"+e+" %c option is now deprecated, "+t,"font-weight: normal;","font-weight: bold;","font-weight: normal;"),!1):!0}msg(e){this._warnUser(e)}}class it{static register(e){it.tables.push(e)}static deregister(e){var t=it.tables.indexOf(e);t>-1&&it.tables.splice(t,1)}static lookupTable(e,t){var i=[],n,r;if(typeof e=="string"){if(n=document.querySelectorAll(e),n.length)for(var o=0;o<n.length;o++)r=it.matchElement(n[o]),r&&i.push(r)}else typeof HTMLElement<"u"&&e instanceof HTMLElement||e instanceof gi?(r=it.matchElement(e),r&&i.push(r)):Array.isArray(e)?e.forEach(function(a){i=i.concat(it.lookupTable(a))}):t||console.warn("Table Connection Error - Invalid Selector",e);return i}static matchElement(e){return it.tables.find(function(t){return e instanceof gi?t===e:t.element===e})}}it.tables=[];function Zm(s,e){e&&this.table.columnManager.renderer.reinitializeColumnWidths(s),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function Da(s,e){s.forEach(function(t){t.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function Qm(s,e){var t=0,i=this.table.rowManager.element.clientWidth,n=0,r=!1;s.forEach((o,a)=>{o.widthFixed||o.reinitializeWidth(),(this.table.options.responsiveLayout?o.modules.responsive.visible:o.visible)&&(r=o),o.visible&&(t+=o.getWidth())}),r?(n=i-t+r.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(r.setWidth(0),this.table.modules.responsiveLayout.update()),n>0?r.setWidth(n):r.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function eb(s,e){var t=this.table.rowManager.element.getBoundingClientRect().width,i=0,n=0,r=0,o=0,a=[],l=[],c=0,p=0,v=0;function y(T){var S;return typeof T=="string"?T.indexOf("%")>-1?S=t/100*parseInt(T):S=parseInt(T):S=T,S}function _(T,S,L,A){var F=[],j=0,B=0,V=0,q=r,ie=0,ee=0,be=[];function ve(Q){return L*(Q.column.definition.widthGrow||1)}function ye(Q){return y(Q.width)-L*(Q.column.definition.widthShrink||0)}return T.forEach(function(Q,Re){var je=A?ye(Q):ve(Q);Q.column.minWidth>=je?F.push(Q):Q.column.maxWidth&&Q.column.maxWidth<je?(Q.width=Q.column.maxWidth,S-=Q.column.maxWidth,q-=A?Q.column.definition.widthShrink||1:Q.column.definition.widthGrow||1,q&&(L=Math.floor(S/q))):(be.push(Q),ee+=A?Q.column.definition.widthShrink||1:Q.column.definition.widthGrow||1)}),F.length?(F.forEach(function(Q){j+=A?Q.width-Q.column.minWidth:Q.column.minWidth,Q.width=Q.column.minWidth}),B=S-j,V=ee?Math.floor(B/ee):B,ie=_(be,B,V,A)):(ie=ee?S-Math.floor(S/ee)*ee:S,be.forEach(function(Q){Q.width=A?ye(Q):ve(Q)})),ie}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(t-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),s.forEach(function(T){var S,L,A;T.visible&&(S=T.definition.width,L=parseInt(T.minWidth),S?(A=y(S),i+=A>L?A:L,T.definition.widthShrink&&(l.push({column:T,width:A>L?A:L}),c+=T.definition.widthShrink)):(a.push({column:T,width:0}),r+=T.definition.widthGrow||1))}),n=t-i,o=Math.floor(n/r),v=_(a,n,o,!1),a.length&&v>0&&(a[a.length-1].width+=v),a.forEach(function(T){n-=T.width}),p=Math.abs(v)+n,p>0&&c&&(v=_(l,p,Math.floor(p/c),!0)),v&&l.length&&(l[l.length-1].width-=v),a.forEach(function(T){T.column.setWidth(T.width)}),l.forEach(function(T){T.column.setWidth(T.width)})}var tb={fitData:Zm,fitDataFill:Da,fitDataTable:Da,fitDataStretch:Qm,fitColumns:eb};class Di extends le{constructor(e){super(e,"layout"),this.mode=null,this.registerTableOption("layout","fitData"),this.registerTableOption("layoutColumnsOnNewData",!1),this.registerColumnOption("widthGrow"),this.registerColumnOption("widthShrink")}initialize(){var e=this.table.options.layout;Di.modes[e]?this.mode=e:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode),this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(e){e.definition.widthGrow&&(e.definition.widthGrow=Number(e.definition.widthGrow)),e.definition.widthShrink&&(e.definition.widthShrink=Number(e.definition.widthShrink))}getMode(){return this.mode}layout(e){this.dispatch("layout-refreshing"),Di.modes[this.mode].call(this,this.table.columnManager.columnsByIndex,e),this.dispatch("layout-refreshed")}}Di.moduleName="layout";Di.modes=tb;var ib={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All",counter:{showing:"Showing",of:"of",rows:"rows",pages:"pages"}},headerFilters:{default:"filter column...",columns:{}}}};class Cs extends le{constructor(e){super(e),this.locale="default",this.lang=!1,this.bindings={},this.langList={},this.registerTableOption("locale",!1),this.registerTableOption("langs",{})}initialize(){this.langList=Ae.deepClone(Cs.langs),this.table.options.columnDefaults.headerFilterPlaceholder!==!1&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);for(let e in this.table.options.langs)this.installLang(e,this.table.options.langs[e]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}setHeaderFilterPlaceholder(e){this.langList.default.headerFilters.default=e}installLang(e,t){this.langList[e]?this._setLangProp(this.langList[e],t):this.langList[e]=t}_setLangProp(e,t){for(let i in t)e[i]&&typeof e[i]=="object"?this._setLangProp(e[i],t[i]):e[i]=t[i]}setLocale(e){e=e||"default";function t(i,n){for(var r in i)typeof i[r]=="object"?(n[r]||(n[r]={}),t(i[r],n[r])):n[r]=i[r]}if(e===!0&&navigator.language&&(e=navigator.language.toLowerCase()),e&&!this.langList[e]){let i=e.split("-")[0];this.langList[i]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,i),e=i):(console.warn("Localization Error - Matching locale not found, using default: ",e),e="default")}this.locale=e,this.lang=Ae.deepClone(this.langList.default||{}),e!="default"&&t(this.langList[e],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}getLocale(e){return this.locale}getLang(e){return e?this.langList[e]:this.lang}getText(e,t){var i=t?e+"|"+t:e,n=i.split("|"),r=this._getLangElement(n,this.locale);return r||""}_getLangElement(e,t){var i=this.lang;return e.forEach(function(n){var r;i&&(r=i[n],typeof r<"u"?i=r:i=!1)}),i}bind(e,t){this.bindings[e]||(this.bindings[e]=[]),this.bindings[e].push(t),t(this.getText(e),this.lang)}_executeBindings(){for(let e in this.bindings)this.bindings[e].forEach(t=>{t(this.getText(e),this.lang)})}}Cs.moduleName="localize";Cs.langs=ib;class ju extends le{constructor(e){super(e)}initialize(){this.registerTableFunction("tableComms",this.receive.bind(this))}getConnections(e){var t=[],i;return i=it.lookupTable(e),i.forEach(n=>{this.table!==n&&t.push(n)}),t}send(e,t,i,n){var r=this.getConnections(e);r.forEach(o=>{o.tableComms(this.table.element,t,i,n)}),!r.length&&e&&console.warn("Table Connection Error - No tables matching selector found",e)}receive(e,t,i,n){if(this.table.modExists(t))return this.table.modules[t].commsReceived(e,i,n);console.warn("Inter-table Comms Error - no such module:",t)}}ju.moduleName="comms";var sb=Object.freeze({__proto__:null,LayoutModule:Di,LocalizeModule:Cs,CommsModule:ju});class Wu{constructor(e,t){this.bindStaticFunctionality(e),this.bindModules(e,sb,!0),t&&this.bindModules(e,t)}bindStaticFunctionality(e){e.moduleBindings={},e.extendModule=function(t,i,n){if(e.moduleBindings[t]){var r=e.moduleBindings[t][i];if(r)if(typeof n=="object")for(let o in n)r[o]=n[o];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",i)}else console.warn("Module Error - module does not exist:",t)},e.registerModule=function(t){Array.isArray(t)||(t=[t]),t.forEach(i=>{e.registerModuleBinding(i)})},e.registerModuleBinding=function(t){e.moduleBindings[t.moduleName]=t},e.findTable=function(t){var i=it.lookupTable(t,!0);return Array.isArray(i)&&!i.length?!1:i},e.prototype.bindModules=function(){var t=[],i=[],n=[];this.modules={};for(var r in e.moduleBindings){let o=e.moduleBindings[r],a=new o(this);this.modules[r]=a,o.prototype.moduleCore?this.modulesCore.push(a):o.moduleInitOrder?o.moduleInitOrder<0?t.push(a):i.push(a):n.push(a)}t.sort((o,a)=>o.moduleInitOrder>a.moduleInitOrder?1:-1),i.sort((o,a)=>o.moduleInitOrder>a.moduleInitOrder?1:-1),this.modulesRegular=t.concat(n.concat(i))}}bindModules(e,t,i){var n=Object.values(t);i&&n.forEach(r=>{r.prototype.moduleCore=!0}),e.registerModule(n)}}class nb extends Qe{constructor(e){super(e),this.element=this._createAlertElement(),this.msgElement=this._createMsgElement(),this.type=null,this.element.appendChild(this.msgElement)}_createAlertElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert"),e}_createMsgElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert-msg"),e.setAttribute("role","alert"),e}_typeClass(){return"tabulator-alert-state-"+this.type}alert(e,t="msg"){if(e){for(this.clear(),this.type=t;this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.add(this._typeClass()),typeof e=="function"&&(e=e()),e instanceof HTMLElement?this.msgElement.appendChild(e):this.msgElement.innerHTML=e,this.table.element.appendChild(this.element)}}clear(){this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.msgElement.classList.remove(this._typeClass())}}class gi{constructor(e,t){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.alertManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new $m(this),this.dataLoader=!1,this.modules={},this.modulesCore=[],this.modulesRegular=[],this.deprecationAdvisor=new Ym(this),this.optionsList=new Vu(this,"table constructor"),this.initialized=!1,this.destroyed=!1,this.initializeElement(e)&&(this.initializeCoreSystems(t),setTimeout(()=>{this._create()})),it.register(this)}initializeElement(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement?(this.element=e,!0):typeof e=="string"?(this.element=document.querySelector(e),this.element?!0:(console.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",e),!1)}initializeCoreSystems(e){this.columnManager=new Vm(this),this.rowManager=new Um(this),this.footerManager=new Gm(this),this.dataLoader=new Km(this),this.alertManager=new nb(this),this.bindModules(),this.options=this.optionsList.generate(gi.defaultOptions,e),this._clearObjectPointers(),this._mapDeprecatedFunctionality(),this.externalEvents=new Xm(this,this.options,this.options.debugEventsExternal),this.eventBus=new Jm(this.options.debugEventsInternal),this.interactionMonitor=new qm(this),this.dataLoader.initialize(),this.footerManager.initialize()}_mapDeprecatedFunctionality(){}_clearSelection(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}_create(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this._loadInitialData(),this.initialized=!0,this.externalEvents.dispatch("tableBuilt")}_rtlCheck(){var e=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if(e.direction!=="rtl")break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}_clearObjectPointers(){this.options.columns=this.options.columns.slice(0),Array.isArray(this.options.data)&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}_buildElement(){var e=this.element,t=this.options,i;if(e.tagName==="TABLE"){this.originalElement=this.element,i=document.createElement("div");var n=e.attributes;for(var r in n)typeof n[r]=="object"&&i.setAttribute(n[r].name,n[r].value);e.parentNode.replaceChild(i,e),this.element=e=i}for(e.classList.add("tabulator"),e.setAttribute("role","grid");e.firstChild;)e.removeChild(e.firstChild);t.height&&(t.height=isNaN(t.height)?t.height:t.height+"px",e.style.height=t.height),t.minHeight!==!1&&(t.minHeight=isNaN(t.minHeight)?t.minHeight:t.minHeight+"px",e.style.minHeight=t.minHeight),t.maxHeight!==!1&&(t.maxHeight=isNaN(t.maxHeight)?t.maxHeight:t.maxHeight+"px",e.style.maxHeight=t.maxHeight)}_initializeTable(){var e=this.element,t=this.options;this.interactionMonitor.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modulesCore.forEach(i=>{i.initialize()}),e.appendChild(this.columnManager.getElement()),e.appendChild(this.rowManager.getElement()),t.footerElement&&this.footerManager.activate(),t.autoColumns&&t.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modulesRegular.forEach(i=>{i.initialize()}),this.columnManager.setColumns(t.columns),this.eventBus.dispatch("table-built")}_loadInitialData(){this.dataLoader.load(this.options.data)}destroy(){var e=this.element;for(this.destroyed=!0,it.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.destroy();e.firstChild;)e.removeChild(e.firstChild);e.classList.remove("tabulator"),this.externalEvents.dispatch("tableDestroyed")}_detectBrowser(){var e=navigator.userAgent||navigator.vendor||window.opera;e.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):e.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):e.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):e.indexOf("Mac OS")>-1?(this.browser="safari",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.slice(0,4))}initGuard(e,t){var i,n;return this.options.debugInitialization&&!this.initialized&&(e||(i=new Error().stack.split(`
`),n=i[0]=="Error"?i[2]:i[1],n[0]==" "?e=n.trim().split(" ")[1].split(".")[1]:e=n.trim().split("@")[0]),console.warn("Table Not Initialized - Calling the "+e+" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function."+(t?" "+t:""))),this.initialized}blockRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-blocking"),this.rowManager.blockRedraw(),this.columnManager.blockRedraw(),this.eventBus.dispatch("redraw-blocked")}restoreRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-restoring"),this.rowManager.restoreRedraw(),this.columnManager.restoreRedraw(),this.eventBus.dispatch("redraw-restored")}setData(e,t,i){return this.initGuard(!1,"To set initial data please use the 'data' property in the table constructor."),this.dataLoader.load(e,t,i,!1)}clearData(){this.initGuard(),this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}getData(e){return this.rowManager.getData(e)}getDataCount(e){return this.rowManager.getDataCount(e)}replaceData(e,t,i){return this.initGuard(),this.dataLoader.load(e,t,i,!0,!0)}updateData(e){var t=0;return this.initGuard(),new Promise((i,n)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e&&e.length>0?e.forEach(r=>{var o=this.rowManager.findRow(r[this.options.index]);o?(t++,o.updateData(r).then(()=>{t--,t||i()}).catch(a=>{n("Update Error - Unable to update row",r,a)})):n("Update Error - Unable to find row",r)}):(console.warn("Update Error - No data provided"),n("Update Error - No data provided"))})}addData(e,t,i){return this.initGuard(),new Promise((n,r)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e?this.rowManager.addRows(e,t,i).then(o=>{var a=[];o.forEach(function(l){a.push(l.getComponent())}),n(a)}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))})}updateOrAddData(e){var t=[],i=0;return this.initGuard(),new Promise((n,r)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e&&e.length>0?e.forEach(o=>{var a=this.rowManager.findRow(o[this.options.index]);i++,a?a.updateData(o).then(()=>{i--,t.push(a.getComponent()),i||n(t)}):this.rowManager.addRows(o).then(l=>{i--,t.push(l[0].getComponent()),i||n(t)})}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))})}getRow(e){var t=this.rowManager.findRow(e);return t?t.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}getRowFromPosition(e){var t=this.rowManager.getRowFromPosition(e);return t?t.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}deleteRow(e){var t=[];this.initGuard(),Array.isArray(e)||(e=[e]);for(let i of e){let n=this.rowManager.findRow(i,!0);if(n)t.push(n);else return console.error("Delete Error - No matching row found:",i),Promise.reject("Delete Error - No matching row found")}return t.sort((i,n)=>this.rowManager.rows.indexOf(i)>this.rowManager.rows.indexOf(n)?1:-1),t.forEach(i=>{i.delete()}),this.rowManager.reRenderInPosition(),Promise.resolve()}addRow(e,t,i){return this.initGuard(),typeof e=="string"&&(e=JSON.parse(e)),this.rowManager.addRows(e,t,i,!0).then(n=>n[0].getComponent())}updateOrAddRow(e,t){var i=this.rowManager.findRow(e);return this.initGuard(),typeof t=="string"&&(t=JSON.parse(t)),i?i.updateData(t).then(()=>i.getComponent()):this.rowManager.addRows(t).then(n=>n[0].getComponent())}updateRow(e,t){var i=this.rowManager.findRow(e);return this.initGuard(),typeof t=="string"&&(t=JSON.parse(t)),i?i.updateData(t).then(()=>Promise.resolve(i.getComponent())):(console.warn("Update Error - No matching row found:",e),Promise.reject("Update Error - No matching row found"))}scrollToRow(e,t,i){var n=this.rowManager.findRow(e);return n?this.rowManager.scrollToRow(n,t,i):(console.warn("Scroll Error - No matching row found:",e),Promise.reject("Scroll Error - No matching row found"))}moveRow(e,t,i){var n=this.rowManager.findRow(e);this.initGuard(),n?n.moveToRow(t,i):console.warn("Move Error - No matching row found:",e)}getRows(e){return this.rowManager.getComponents(e)}getRowPosition(e){var t=this.rowManager.findRow(e);return t?t.getPosition():(console.warn("Position Error - No matching row found:",e),!1)}setColumns(e){this.initGuard(!1,"To set initial columns please use the 'columns' property in the table constructor"),this.columnManager.setColumns(e)}getColumns(e){return this.columnManager.getComponents(e)}getColumn(e){var t=this.columnManager.findColumn(e);return t?t.getComponent():(console.warn("Find Error - No matching column found:",e),!1)}getColumnDefinitions(){return this.columnManager.getDefinitionTree()}showColumn(e){var t=this.columnManager.findColumn(e);if(this.initGuard(),t)t.show();else return console.warn("Column Show Error - No matching column found:",e),!1}hideColumn(e){var t=this.columnManager.findColumn(e);if(this.initGuard(),t)t.hide();else return console.warn("Column Hide Error - No matching column found:",e),!1}toggleColumn(e){var t=this.columnManager.findColumn(e);if(this.initGuard(),t)t.visible?t.hide():t.show();else return console.warn("Column Visibility Toggle Error - No matching column found:",e),!1}addColumn(e,t,i){var n=this.columnManager.findColumn(i);return this.initGuard(),this.columnManager.addColumn(e,t,n).then(r=>r.getComponent())}deleteColumn(e){var t=this.columnManager.findColumn(e);return this.initGuard(),t?t.delete():(console.warn("Column Delete Error - No matching column found:",e),Promise.reject())}updateColumnDefinition(e,t){var i=this.columnManager.findColumn(e);return this.initGuard(),i?i.updateDefinition(t):(console.warn("Column Update Error - No matching column found:",e),Promise.reject())}moveColumn(e,t,i){var n=this.columnManager.findColumn(e),r=this.columnManager.findColumn(t);this.initGuard(),n?r?this.columnManager.moveColumn(n,r,i):console.warn("Move Error - No matching column found:",r):console.warn("Move Error - No matching column found:",e)}scrollToColumn(e,t,i){return new Promise((n,r)=>{var o=this.columnManager.findColumn(e);return o?this.columnManager.scrollToColumn(o,t,i):(console.warn("Scroll Error - No matching column found:",e),Promise.reject("Scroll Error - No matching column found"))})}redraw(e){this.initGuard(),this.columnManager.redraw(e),this.rowManager.redraw(e)}setHeight(e){this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw()}on(e,t){this.externalEvents.subscribe(e,t)}off(e,t){this.externalEvents.unsubscribe(e,t)}dispatchEvent(){var e=Array.from(arguments);e.shift(),this.externalEvents.dispatch(...arguments)}alert(e,t){this.initGuard(),this.alertManager.alert(e,t)}clearAlert(){this.initGuard(),this.alertManager.clear()}modExists(e,t){return this.modules[e]?!0:(t&&console.error("Tabulator Module Not Installed: "+e),!1)}module(e){var t=this.modules[e];return t||console.error("Tabulator module not installed: "+e),t}}gi.defaultOptions=Fm;new Wu(gi);class Tn extends gi{}new Wu(Tn,zm);var kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uu(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Gu={exports:{}};/*!
* sweetalert2 v11.10.1
* Released under the MIT License.
*/(function(s,e){(function(t,i){s.exports=i()})(kt,function(){function t(m,u){var h=m==null?null:typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(h!=null){var g,C,P,U,te=[],oe=!0,ke=!1;try{if(P=(h=h.call(m)).next,u===0){if(Object(h)!==h)return;oe=!1}else for(;!(oe=(g=P.call(h)).done)&&(te.push(g.value),te.length!==u);oe=!0);}catch(Ki){ke=!0,C=Ki}finally{try{if(!oe&&h.return!=null&&(U=h.return(),Object(U)!==U))return}finally{if(ke)throw C}}return te}}function i(m){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},i(m)}function n(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}function r(m,u){for(var h=0;h<u.length;h++){var g=u[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,ye(g.key),g)}}function o(m,u,h){return u&&r(m.prototype,u),h&&r(m,h),Object.defineProperty(m,"prototype",{writable:!1}),m}function a(m,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(u&&u.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),u&&c(m,u)}function l(m){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},l(m)}function c(m,u){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,C){return g.__proto__=C,g},c(m,u)}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(m,u,h){return p()?v=Reflect.construct.bind():v=function(C,P,U){var te=[null];te.push.apply(te,P);var oe=Function.bind.apply(C,te),ke=new oe;return U&&c(ke,U.prototype),ke},v.apply(null,arguments)}function y(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function _(m,u){if(u&&(typeof u=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(m)}function T(m){var u=p();return function(){var g=l(m),C;if(u){var P=l(this).constructor;C=Reflect.construct(g,arguments,P)}else C=g.apply(this,arguments);return _(this,C)}}function S(m,u){for(;!Object.prototype.hasOwnProperty.call(m,u)&&(m=l(m),m!==null););return m}function L(){return typeof Reflect<"u"&&Reflect.get?L=Reflect.get.bind():L=function(u,h,g){var C=S(u,h);if(C){var P=Object.getOwnPropertyDescriptor(C,h);return P.get?P.get.call(arguments.length<3?u:g):P.value}},L.apply(this,arguments)}function A(m,u){return B(m)||t(m,u)||q(m,u)||be()}function F(m){return j(m)||V(m)||q(m)||ee()}function j(m){if(Array.isArray(m))return ie(m)}function B(m){if(Array.isArray(m))return m}function V(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}function q(m,u){if(m){if(typeof m=="string")return ie(m,u);var h=Object.prototype.toString.call(m).slice(8,-1);if(h==="Object"&&m.constructor&&(h=m.constructor.name),h==="Map"||h==="Set")return Array.from(m);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return ie(m,u)}}function ie(m,u){(u==null||u>m.length)&&(u=m.length);for(var h=0,g=new Array(u);h<u;h++)g[h]=m[h];return g}function ee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ve(m,u){if(typeof m!="object"||m===null)return m;var h=m[Symbol.toPrimitive];if(h!==void 0){var g=h.call(m,u||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(m)}function ye(m){var u=ve(m,"string");return typeof u=="symbol"?u:String(u)}function Q(m,u){var h=je(m,u,"get");return et(m,h)}function Re(m,u,h){var g=je(m,u,"set");return Le(m,g,h),h}function je(m,u,h){if(!u.has(m))throw new TypeError("attempted to "+h+" private field on non-instance");return u.get(m)}function et(m,u){return u.get?u.get.call(m):u.value}function Le(m,u,h){if(u.set)u.set.call(m,h);else{if(!u.writable)throw new TypeError("attempted to set read only private field");u.value=h}}function d(m,u){if(u.has(m))throw new TypeError("Cannot initialize the same private elements twice on an object")}function f(m,u,h){d(m,u),u.set(m,h)}var w=100,b={},k=function(){b.previousActiveElement instanceof HTMLElement?(b.previousActiveElement.focus(),b.previousActiveElement=null):document.body&&document.body.focus()},D=function(u){return new Promise(function(h){if(!u)return h();var g=window.scrollX,C=window.scrollY;b.restoreFocusTimeout=setTimeout(function(){k(),h()},w),window.scrollTo(g,C)})},M="swal2-",I=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],x=I.reduce(function(m,u){return m[u]=M+u,m},{}),$=["success","warning","info","question","error"],J=$.reduce(function(m,u){return m[u]=M+u,m},{}),Z="SweetAlert2:",se=function(u){return u.charAt(0).toUpperCase()+u.slice(1)},Y=function(u){console.warn("".concat(Z," ").concat(i(u)==="object"?u.join(" "):u))},de=function(u){console.error("".concat(Z," ").concat(u))},pe=[],ae=function(u){pe.includes(u)||(pe.push(u),Y(u))},Me=function(u,h){ae('"'.concat(u,'" is deprecated and will be removed in the next major release. Please use "').concat(h,'" instead.'))},xe=function(u){return typeof u=="function"?u():u},Ve=function(u){return u&&typeof u.toPromise=="function"},Te=function(u){return Ve(u)?u.toPromise():Promise.resolve(u)},Ke=function(u){return u&&Promise.resolve(u)===u},ze=function(){return document.body.querySelector(".".concat(x.container))},Fe=function(u){var h=ze();return h?h.querySelector(u):null},ne=function(u){return Fe(".".concat(u))},ue=function(){return ne(x.popup)},nt=function(){return ne(x.icon)},Dt=function(){return ne(x["icon-content"])},Pt=function(){return ne(x.title)},It=function(){return ne(x["html-container"])},Et=function(){return ne(x.image)},Xe=function(){return ne(x["progress-steps"])},Zt=function(){return ne(x["validation-message"])},tt=function(){return Fe(".".concat(x.actions," .").concat(x.confirm))},dt=function(){return Fe(".".concat(x.actions," .").concat(x.cancel))},xt=function(){return Fe(".".concat(x.actions," .").concat(x.deny))},Pn=function(){return ne(x["input-label"])},_t=function(){return Fe(".".concat(x.loader))},Qt=function(){return ne(x.actions)},Wi=function(){return ne(x.footer)},vi=function(){return ne(x["timer-progress-bar"])},Ui=function(){return ne(x.close)},In=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Ht=function(){var u=ue();if(!u)return[];var h=u.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),g=Array.from(h).sort(function(U,te){var oe=parseInt(U.getAttribute("tabindex")||"0"),ke=parseInt(te.getAttribute("tabindex")||"0");return oe>ke?1:oe<ke?-1:0}),C=u.querySelectorAll(In),P=Array.from(C).filter(function(U){return U.getAttribute("tabindex")!=="-1"});return F(new Set(g.concat(P))).filter(function(U){return We(U)})},E=function(){return N(document.body,x.shown)&&!N(document.body,x["toast-shown"])&&!N(document.body,x["no-backdrop"])},R=function(){var u=ue();return u?N(u,x.toast):!1},O=function(){var u=ue();return u?u.hasAttribute("data-loading"):!1},H=function(u,h){if(u.textContent="",h){var g=new DOMParser,C=g.parseFromString(h,"text/html"),P=C.querySelector("head");P&&Array.from(P.childNodes).forEach(function(te){u.appendChild(te)});var U=C.querySelector("body");U&&Array.from(U.childNodes).forEach(function(te){te instanceof HTMLVideoElement||te instanceof HTMLAudioElement?u.appendChild(te.cloneNode(!0)):u.appendChild(te)})}},N=function(u,h){if(!h)return!1;for(var g=h.split(/\s+/),C=0;C<g.length;C++)if(!u.classList.contains(g[C]))return!1;return!0},W=function(u,h){Array.from(u.classList).forEach(function(g){!Object.values(x).includes(g)&&!Object.values(J).includes(g)&&!Object.values(h.showClass||{}).includes(g)&&u.classList.remove(g)})},K=function(u,h,g){if(W(u,h),h.customClass&&h.customClass[g]){if(typeof h.customClass[g]!="string"&&!h.customClass[g].forEach){Y("Invalid type of customClass.".concat(g,'! Expected string or iterable object, got "').concat(i(h.customClass[g]),'"'));return}X(u,h.customClass[g])}},G=function(u,h){if(!h)return null;switch(h){case"select":case"textarea":case"file":return u.querySelector(".".concat(x.popup," > .").concat(x[h]));case"checkbox":return u.querySelector(".".concat(x.popup," > .").concat(x.checkbox," input"));case"radio":return u.querySelector(".".concat(x.popup," > .").concat(x.radio," input:checked"))||u.querySelector(".".concat(x.popup," > .").concat(x.radio," input:first-child"));case"range":return u.querySelector(".".concat(x.popup," > .").concat(x.range," input"));default:return u.querySelector(".".concat(x.popup," > .").concat(x.input))}},Ce=function(u){if(u.focus(),u.type!=="file"){var h=u.value;u.value="",u.value=h}},we=function(u,h,g){!u||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(function(C){Array.isArray(u)?u.forEach(function(P){g?P.classList.add(C):P.classList.remove(C)}):g?u.classList.add(C):u.classList.remove(C)}))},X=function(u,h){we(u,h,!0)},ge=function(u,h){we(u,h,!1)},re=function(u,h){for(var g=Array.from(u.children),C=0;C<g.length;C++){var P=g[C];if(P instanceof HTMLElement&&N(P,h))return P}},Ee=function(u,h,g){g==="".concat(parseInt(g))&&(g=parseInt(g)),g||parseInt(g)===0?u.style[h]=typeof g=="number"?"".concat(g,"px"):g:u.style.removeProperty(h)},he=function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";u&&(u.style.display=h)},ce=function(u){u&&(u.style.display="none")},Oe=function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";u&&new MutationObserver(function(){Tt(u,u.innerHTML,h)}).observe(u,{childList:!0,subtree:!0})},wi=function(u,h,g,C){var P=u.querySelector(h);P&&(P.style[g]=C)},Tt=function(u,h){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?he(u,g):ce(u)},We=function(u){return!!(u&&(u.offsetWidth||u.offsetHeight||u.getClientRects().length))},ks=function(){return!We(tt())&&!We(xt())&&!We(dt())},yi=function(u){return u.scrollHeight>u.clientHeight},Gi=function(u){var h=window.getComputedStyle(u),g=parseFloat(h.getPropertyValue("animation-duration")||"0"),C=parseFloat(h.getPropertyValue("transition-duration")||"0");return g>0||C>0},Ci=function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=vi();g&&We(g)&&(h&&(g.style.transition="none",g.style.width="100%"),setTimeout(function(){g.style.transition="width ".concat(u/1e3,"s linear"),g.style.width="0%"},10))},zd=function(){var u=vi();if(u){var h=parseInt(window.getComputedStyle(u).width);u.style.removeProperty("transition"),u.style.width="100%";var g=parseInt(window.getComputedStyle(u).width),C=h/g*100;u.style.width="".concat(C,"%")}},Lo=function(){return typeof window>"u"||typeof document>"u"},Fd=`
 <div aria-labelledby="`.concat(x.title,'" aria-describedby="').concat(x["html-container"],'" class="').concat(x.popup,`" tabindex="-1">
   <button type="button" class="`).concat(x.close,`"></button>
   <ul class="`).concat(x["progress-steps"],`"></ul>
   <div class="`).concat(x.icon,`"></div>
   <img class="`).concat(x.image,`" />
   <h2 class="`).concat(x.title,'" id="').concat(x.title,`"></h2>
   <div class="`).concat(x["html-container"],'" id="').concat(x["html-container"],`"></div>
   <input class="`).concat(x.input,'" id="').concat(x.input,`" />
   <input type="file" class="`).concat(x.file,`" />
   <div class="`).concat(x.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(x.select,'" id="').concat(x.select,`"></select>
   <div class="`).concat(x.radio,`"></div>
   <label class="`).concat(x.checkbox,`">
     <input type="checkbox" id="`).concat(x.checkbox,`" />
     <span class="`).concat(x.label,`"></span>
   </label>
   <textarea class="`).concat(x.textarea,'" id="').concat(x.textarea,`"></textarea>
   <div class="`).concat(x["validation-message"],'" id="').concat(x["validation-message"],`"></div>
   <div class="`).concat(x.actions,`">
     <div class="`).concat(x.loader,`"></div>
     <button type="button" class="`).concat(x.confirm,`"></button>
     <button type="button" class="`).concat(x.deny,`"></button>
     <button type="button" class="`).concat(x.cancel,`"></button>
   </div>
   <div class="`).concat(x.footer,`"></div>
   <div class="`).concat(x["timer-progress-bar-container"],`">
     <div class="`).concat(x["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Bd=function(){var u=ze();return u?(u.remove(),ge([document.documentElement,document.body],[x["no-backdrop"],x["toast-shown"],x["has-column"]]),!0):!1},ei=function(){b.currentInstance.resetValidationMessage()},Nd=function(){var u=ue(),h=re(u,x.input),g=re(u,x.file),C=u.querySelector(".".concat(x.range," input")),P=u.querySelector(".".concat(x.range," output")),U=re(u,x.select),te=u.querySelector(".".concat(x.checkbox," input")),oe=re(u,x.textarea);h.oninput=ei,g.onchange=ei,U.onchange=ei,te.onchange=ei,oe.oninput=ei,C.oninput=function(){ei(),P.value=C.value},C.onchange=function(){ei(),P.value=C.value}},Vd=function(u){return typeof u=="string"?document.querySelector(u):u},jd=function(u){var h=ue();h.setAttribute("role",u.toast?"alert":"dialog"),h.setAttribute("aria-live",u.toast?"polite":"assertive"),u.toast||h.setAttribute("aria-modal","true")},Wd=function(u){window.getComputedStyle(u).direction==="rtl"&&X(ze(),x.rtl)},Ud=function(u){var h=Bd();if(Lo()){de("SweetAlert2 requires document to initialize");return}var g=document.createElement("div");g.className=x.container,h&&X(g,x["no-transition"]),H(g,Fd);var C=Vd(u.target);C.appendChild(g),jd(u),Wd(C),Nd()},Hn=function(u,h){u instanceof HTMLElement?h.appendChild(u):i(u)==="object"?Gd(u,h):u&&H(h,u)},Gd=function(u,h){u.jquery?qd(h,u):H(h,u.toString())},qd=function(u,h){if(u.textContent="",0 in h)for(var g=0;g in h;g++)u.appendChild(h[g].cloneNode(!0));else u.appendChild(h.cloneNode(!0))},ti=function(){if(Lo())return!1;var m=document.createElement("div");return typeof m.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof m.style.animation<"u"?"animationend":!1}(),$d=function(u,h){var g=Qt(),C=_t();!g||!C||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?ce(g):he(g),K(g,h,"actions"),Kd(g,C,h),H(C,h.loaderHtml||""),K(C,h,"loader"))};function Kd(m,u,h){var g=tt(),C=xt(),P=dt();!g||!C||!P||(zn(g,"confirm",h),zn(C,"deny",h),zn(P,"cancel",h),Xd(g,C,P,h),h.reverseButtons&&(h.toast?(m.insertBefore(P,g),m.insertBefore(C,g)):(m.insertBefore(P,u),m.insertBefore(C,u),m.insertBefore(g,u))))}function Xd(m,u,h,g){if(!g.buttonsStyling){ge([m,u,h],x.styled);return}X([m,u,h],x.styled),g.confirmButtonColor&&(m.style.backgroundColor=g.confirmButtonColor,X(m,x["default-outline"])),g.denyButtonColor&&(u.style.backgroundColor=g.denyButtonColor,X(u,x["default-outline"])),g.cancelButtonColor&&(h.style.backgroundColor=g.cancelButtonColor,X(h,x["default-outline"]))}function zn(m,u,h){var g=se(u);Tt(m,h["show".concat(g,"Button")],"inline-block"),H(m,h["".concat(u,"ButtonText")]||""),m.setAttribute("aria-label",h["".concat(u,"ButtonAriaLabel")]||""),m.className=x[u],K(m,h,"".concat(u,"Button"))}var Jd=function(u,h){var g=Ui();g&&(H(g,h.closeButtonHtml||""),K(g,h,"closeButton"),Tt(g,h.showCloseButton),g.setAttribute("aria-label",h.closeButtonAriaLabel||""))},Yd=function(u,h){var g=ze();g&&(Zd(g,h.backdrop),Qd(g,h.position),eh(g,h.grow),K(g,h,"container"))};function Zd(m,u){typeof u=="string"?m.style.background=u:u||X([document.documentElement,document.body],x["no-backdrop"])}function Qd(m,u){u&&(u in x?X(m,x[u]):(Y('The "position" parameter is not valid, defaulting to "center"'),X(m,x.center)))}function eh(m,u){u&&X(m,x["grow-".concat(u)])}var _e={innerParams:new WeakMap,domCache:new WeakMap},th=["input","file","range","select","radio","checkbox","textarea"],ih=function(u,h){var g=ue();if(g){var C=_e.innerParams.get(u),P=!C||h.input!==C.input;th.forEach(function(U){var te=re(g,x[U]);te&&(rh(U,h.inputAttributes),te.className=x[U],P&&ce(te))}),h.input&&(P&&sh(h),oh(h))}},sh=function(u){if(u.input){if(!De[u.input]){de("Unexpected type of input! Expected ".concat(Object.keys(De).join(" | "),', got "').concat(u.input,'"'));return}var h=Ao(u.input),g=De[u.input](h,u);he(h),u.inputAutoFocus&&setTimeout(function(){Ce(g)})}},nh=function(u){for(var h=0;h<u.attributes.length;h++){var g=u.attributes[h].name;["id","type","value","style"].includes(g)||u.removeAttribute(g)}},rh=function(u,h){var g=G(ue(),u);if(g){nh(g);for(var C in h)g.setAttribute(C,h[C])}},oh=function(u){var h=Ao(u.input);i(u.customClass)==="object"&&X(h,u.customClass.input)},Fn=function(u,h){(!u.placeholder||h.inputPlaceholder)&&(u.placeholder=h.inputPlaceholder)},qi=function(u,h,g){if(g.inputLabel){var C=document.createElement("label"),P=x["input-label"];C.setAttribute("for",u.id),C.className=P,i(g.customClass)==="object"&&X(C,g.customClass.inputLabel),C.innerText=g.inputLabel,h.insertAdjacentElement("beforebegin",C)}},Ao=function(u){return re(ue(),x[u]||x.input)},Ss=function(u,h){["string","number"].includes(i(h))?u.value="".concat(h):Ke(h)||Y('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(i(h),'"'))},De={};De.text=De.email=De.password=De.number=De.tel=De.url=De.search=De.date=De["datetime-local"]=De.time=De.week=De.month=function(m,u){return Ss(m,u.inputValue),qi(m,m,u),Fn(m,u),m.type=u.input,m},De.file=function(m,u){return qi(m,m,u),Fn(m,u),m},De.range=function(m,u){var h=m.querySelector("input"),g=m.querySelector("output");return Ss(h,u.inputValue),h.type=u.input,Ss(g,u.inputValue),qi(h,m,u),m},De.select=function(m,u){if(m.textContent="",u.inputPlaceholder){var h=document.createElement("option");H(h,u.inputPlaceholder),h.value="",h.disabled=!0,h.selected=!0,m.appendChild(h)}return qi(m,m,u),m},De.radio=function(m){return m.textContent="",m},De.checkbox=function(m,u){var h=G(ue(),"checkbox");h.value="1",h.checked=!!u.inputValue;var g=m.querySelector("span");return H(g,u.inputPlaceholder),h},De.textarea=function(m,u){Ss(m,u.inputValue),Fn(m,u),qi(m,m,u);var h=function(C){return parseInt(window.getComputedStyle(C).marginLeft)+parseInt(window.getComputedStyle(C).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var g=parseInt(window.getComputedStyle(ue()).width),C=function(){if(document.body.contains(m)){var U=m.offsetWidth+h(m);U>g?ue().style.width="".concat(U,"px"):Ee(ue(),"width",u.width)}};new MutationObserver(C).observe(m,{attributes:!0,attributeFilter:["style"]})}}),m};var ah=function(u,h){var g=It();g&&(Oe(g),K(g,h,"htmlContainer"),h.html?(Hn(h.html,g),he(g,"block")):h.text?(g.textContent=h.text,he(g,"block")):ce(g),ih(u,h))},lh=function(u,h){var g=Wi();g&&(Oe(g),Tt(g,h.footer,"block"),h.footer&&Hn(h.footer,g),K(g,h,"footer"))},uh=function(u,h){var g=_e.innerParams.get(u),C=nt();if(C){if(g&&h.icon===g.icon){Oo(C,h),Mo(C,h);return}if(!h.icon&&!h.iconHtml){ce(C);return}if(h.icon&&Object.keys(J).indexOf(h.icon)===-1){de('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(h.icon,'"')),ce(C);return}he(C),Oo(C,h),Mo(C,h),X(C,h.showClass&&h.showClass.icon)}},Mo=function(u,h){for(var g=0,C=Object.entries(J);g<C.length;g++){var P=A(C[g],2),U=P[0],te=P[1];h.icon!==U&&ge(u,te)}X(u,h.icon&&J[h.icon]),fh(u,h),dh(),K(u,h,"icon")},dh=function(){var u=ue();if(u)for(var h=window.getComputedStyle(u).getPropertyValue("background-color"),g=u.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),C=0;C<g.length;C++)g[C].style.backgroundColor=h},hh=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,ch=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Oo=function(u,h){if(!(!h.icon&&!h.iconHtml)){var g=u.innerHTML,C="";if(h.iconHtml)C=Do(h.iconHtml);else if(h.icon==="success")C=hh,g=g.replace(/ style=".*?"/g,"");else if(h.icon==="error")C=ch;else if(h.icon){var P={question:"?",warning:"!",info:"i"};C=Do(P[h.icon])}g.trim()!==C.trim()&&H(u,C)}},fh=function(u,h){if(h.iconColor){u.style.color=h.iconColor,u.style.borderColor=h.iconColor;for(var g=0,C=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];g<C.length;g++){var P=C[g];wi(u,P,"backgroundColor",h.iconColor)}wi(u,".swal2-success-ring","borderColor",h.iconColor)}},Do=function(u){return'<div class="'.concat(x["icon-content"],'">').concat(u,"</div>")},ph=function(u,h){var g=Et();if(g){if(!h.imageUrl){ce(g);return}he(g,""),g.setAttribute("src",h.imageUrl),g.setAttribute("alt",h.imageAlt||""),Ee(g,"width",h.imageWidth),Ee(g,"height",h.imageHeight),g.className=x.image,K(g,h,"image")}},gh=function(u,h){var g=ze(),C=ue();if(!(!g||!C)){if(h.toast){Ee(g,"width",h.width),C.style.width="100%";var P=_t();P&&C.insertBefore(P,nt())}else Ee(C,"width",h.width);Ee(C,"padding",h.padding),h.color&&(C.style.color=h.color),h.background&&(C.style.background=h.background),ce(Zt()),mh(C,h)}},mh=function(u,h){var g=h.showClass||{};u.className="".concat(x.popup," ").concat(We(u)?g.popup:""),h.toast?(X([document.documentElement,document.body],x["toast-shown"]),X(u,x.toast)):X(u,x.modal),K(u,h,"popup"),typeof h.customClass=="string"&&X(u,h.customClass),h.icon&&X(u,x["icon-".concat(h.icon)])},bh=function(u,h){var g=Xe();if(g){var C=h.progressSteps,P=h.currentProgressStep;if(!C||C.length===0||P===void 0){ce(g);return}he(g),g.textContent="",P>=C.length&&Y("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),C.forEach(function(U,te){var oe=vh(U);if(g.appendChild(oe),te===P&&X(oe,x["active-progress-step"]),te!==C.length-1){var ke=wh(h);g.appendChild(ke)}})}},vh=function(u){var h=document.createElement("li");return X(h,x["progress-step"]),H(h,u),h},wh=function(u){var h=document.createElement("li");return X(h,x["progress-step-line"]),u.progressStepsDistance&&Ee(h,"width",u.progressStepsDistance),h},yh=function(u,h){var g=Pt();g&&(Oe(g),Tt(g,h.title||h.titleText,"block"),h.title&&Hn(h.title,g),h.titleText&&(g.innerText=h.titleText),K(g,h,"title"))},Po=function(u,h){gh(u,h),Yd(u,h),bh(u,h),uh(u,h),ph(u,h),yh(u,h),Jd(u,h),ah(u,h),$d(u,h),lh(u,h);var g=ue();typeof h.didRender=="function"&&g&&h.didRender(g)},Ch=function(){return We(ue())},Io=function(){var u;return(u=tt())===null||u===void 0?void 0:u.click()},Eh=function(){var u;return(u=xt())===null||u===void 0?void 0:u.click()},xh=function(){var u;return(u=dt())===null||u===void 0?void 0:u.click()},Ei=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ho=function(u){u.keydownTarget&&u.keydownHandlerAdded&&(u.keydownTarget.removeEventListener("keydown",u.keydownHandler,{capture:u.keydownListenerCapture}),u.keydownHandlerAdded=!1)},_h=function(u,h,g){Ho(u),h.toast||(u.keydownHandler=function(C){return kh(h,C,g)},u.keydownTarget=h.keydownListenerCapture?window:ue(),u.keydownListenerCapture=h.keydownListenerCapture,u.keydownTarget.addEventListener("keydown",u.keydownHandler,{capture:u.keydownListenerCapture}),u.keydownHandlerAdded=!0)},Bn=function(u,h){var g,C=Ht();if(C.length){u=u+h,u===C.length?u=0:u===-1&&(u=C.length-1),C[u].focus();return}(g=ue())===null||g===void 0||g.focus()},zo=["ArrowRight","ArrowDown"],Th=["ArrowLeft","ArrowUp"],kh=function(u,h,g){u&&(h.isComposing||h.keyCode===229||(u.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?Sh(h,u):h.key==="Tab"?Rh(h):[].concat(zo,Th).includes(h.key)?Lh(h.key):h.key==="Escape"&&Ah(h,u,g)))},Sh=function(u,h){if(xe(h.allowEnterKey)){var g=G(ue(),h.input);if(u.target&&g&&u.target instanceof HTMLElement&&u.target.outerHTML===g.outerHTML){if(["textarea","file"].includes(h.input))return;Io(),u.preventDefault()}}},Rh=function(u){for(var h=u.target,g=Ht(),C=-1,P=0;P<g.length;P++)if(h===g[P]){C=P;break}u.shiftKey?Bn(C,-1):Bn(C,1),u.stopPropagation(),u.preventDefault()},Lh=function(u){var h=Qt(),g=tt(),C=xt(),P=dt();if(!(!h||!g||!C||!P)){var U=[g,C,P];if(!(document.activeElement instanceof HTMLElement&&!U.includes(document.activeElement))){var te=zo.includes(u)?"nextElementSibling":"previousElementSibling",oe=document.activeElement;if(oe){for(var ke=0;ke<h.children.length;ke++){if(oe=oe[te],!oe)return;if(oe instanceof HTMLButtonElement&&We(oe))break}oe instanceof HTMLButtonElement&&oe.focus()}}}},Ah=function(u,h,g){xe(h.allowEscapeKey)&&(u.preventDefault(),g(Ei.esc))},xi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Mh=function(){var u=Array.from(document.body.children);u.forEach(function(h){h===ze()||h.contains(ze())||(h.hasAttribute("aria-hidden")&&h.setAttribute("data-previous-aria-hidden",h.getAttribute("aria-hidden")||""),h.setAttribute("aria-hidden","true"))})},Fo=function(){var u=Array.from(document.body.children);u.forEach(function(h){h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},Bo=typeof window<"u"&&!!window.GestureEvent,Oh=function(){if(Bo&&!N(document.body,x.iosfix)){var u=document.body.scrollTop;document.body.style.top="".concat(u*-1,"px"),X(document.body,x.iosfix),Dh()}},Dh=function(){var u=ze();if(u){var h;u.ontouchstart=function(g){h=Ph(g)},u.ontouchmove=function(g){h&&(g.preventDefault(),g.stopPropagation())}}},Ph=function(u){var h=u.target,g=ze(),C=It();return!g||!C||Ih(u)||Hh(u)?!1:h===g||!yi(g)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(yi(C)&&C.contains(h))},Ih=function(u){return u.touches&&u.touches.length&&u.touches[0].touchType==="stylus"},Hh=function(u){return u.touches&&u.touches.length>1},zh=function(){if(N(document.body,x.iosfix)){var u=parseInt(document.body.style.top,10);ge(document.body,x.iosfix),document.body.style.top="",document.body.scrollTop=u*-1}},Fh=function(){var u=document.createElement("div");u.className=x["scrollbar-measure"],document.body.appendChild(u);var h=u.getBoundingClientRect().width-u.clientWidth;return document.body.removeChild(u),h},_i=null,Bh=function(u){_i===null&&(document.body.scrollHeight>window.innerHeight||u==="scroll")&&(_i=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(_i+Fh(),"px"))},Nh=function(){_i!==null&&(document.body.style.paddingRight="".concat(_i,"px"),_i=null)};function No(m,u,h,g){R()?jo(m,g):(D(h).then(function(){return jo(m,g)}),Ho(b)),Bo?(u.setAttribute("style","display:none !important"),u.removeAttribute("class"),u.innerHTML=""):u.remove(),E()&&(Nh(),zh(),Fo()),Vh()}function Vh(){ge([document.documentElement,document.body],[x.shown,x["height-auto"],x["no-backdrop"],x["toast-shown"]])}function zt(m){m=Wh(m);var u=xi.swalPromiseResolve.get(this),h=jh(this);this.isAwaitingPromise?m.isDismissed||($i(this),u(m)):h&&u(m)}var jh=function(u){var h=ue();if(!h)return!1;var g=_e.innerParams.get(u);if(!g||N(h,g.hideClass.popup))return!1;ge(h,g.showClass.popup),X(h,g.hideClass.popup);var C=ze();return ge(C,g.showClass.backdrop),X(C,g.hideClass.backdrop),Uh(u,h,g),!0};function Vo(m){var u=xi.swalPromiseReject.get(this);$i(this),u&&u(m)}var $i=function(u){u.isAwaitingPromise&&(delete u.isAwaitingPromise,_e.innerParams.get(u)||u._destroy())},Wh=function(u){return typeof u>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},u)},Uh=function(u,h,g){var C=ze(),P=ti&&Gi(h);typeof g.willClose=="function"&&g.willClose(h),P?Gh(u,h,C,g.returnFocus,g.didClose):No(u,C,g.returnFocus,g.didClose)},Gh=function(u,h,g,C,P){ti&&(b.swalCloseEventFinishedCallback=No.bind(null,u,g,C,P),h.addEventListener(ti,function(U){U.target===h&&(b.swalCloseEventFinishedCallback(),delete b.swalCloseEventFinishedCallback)}))},jo=function(u,h){setTimeout(function(){typeof h=="function"&&h.bind(u.params)(),u._destroy&&u._destroy()})},Ti=function(u){var h=ue();if(h||new Os,h=ue(),!!h){var g=_t();R()?ce(nt()):qh(h,u),he(g),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()}},qh=function(u,h){var g=Qt(),C=_t();!g||!C||(!h&&We(tt())&&(h=tt()),he(g),h&&(ce(h),C.setAttribute("data-button-to-replace",h.className),g.insertBefore(C,h)),X([u,g],x.loading))},$h=function(u,h){h.input==="select"||h.input==="radio"?Zh(u,h):["text","email","number","tel","textarea"].some(function(g){return g===h.input})&&(Ve(h.inputValue)||Ke(h.inputValue))&&(Ti(tt()),Qh(u,h))},Kh=function(u,h){var g=u.getInput();if(!g)return null;switch(h.input){case"checkbox":return Xh(g);case"radio":return Jh(g);case"file":return Yh(g);default:return h.inputAutoTrim?g.value.trim():g.value}},Xh=function(u){return u.checked?1:0},Jh=function(u){return u.checked?u.value:null},Yh=function(u){return u.files&&u.files.length?u.getAttribute("multiple")!==null?u.files:u.files[0]:null},Zh=function(u,h){var g=ue();if(g){var C=function(U){h.input==="select"?ec(g,Wo(U),h):h.input==="radio"&&tc(g,Wo(U),h)};Ve(h.inputOptions)||Ke(h.inputOptions)?(Ti(tt()),Te(h.inputOptions).then(function(P){u.hideLoading(),C(P)})):i(h.inputOptions)==="object"?C(h.inputOptions):de("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(i(h.inputOptions)))}},Qh=function(u,h){var g=u.getInput();g&&(ce(g),Te(h.inputValue).then(function(C){g.value=h.input==="number"?"".concat(parseFloat(C)||0):"".concat(C),he(g),g.focus(),u.hideLoading()}).catch(function(C){de("Error in inputValue promise: ".concat(C)),g.value="",he(g),g.focus(),u.hideLoading()}))};function ec(m,u,h){var g=re(m,x.select);if(g){var C=function(U,te,oe){var ke=document.createElement("option");ke.value=oe,H(ke,te),ke.selected=Uo(oe,h.inputValue),U.appendChild(ke)};u.forEach(function(P){var U=P[0],te=P[1];if(Array.isArray(te)){var oe=document.createElement("optgroup");oe.label=U,oe.disabled=!1,g.appendChild(oe),te.forEach(function(ke){return C(oe,ke[1],ke[0])})}else C(g,te,U)}),g.focus()}}function tc(m,u,h){var g=re(m,x.radio);if(g){u.forEach(function(P){var U=P[0],te=P[1],oe=document.createElement("input"),ke=document.createElement("label");oe.type="radio",oe.name=x.radio,oe.value=U,Uo(U,h.inputValue)&&(oe.checked=!0);var Ki=document.createElement("span");H(Ki,te),Ki.className=x.label,ke.appendChild(oe),ke.appendChild(Ki),g.appendChild(ke)});var C=g.querySelectorAll("input");C.length&&C[0].focus()}}var Wo=function m(u){var h=[];return u instanceof Map?u.forEach(function(g,C){var P=g;i(P)==="object"&&(P=m(P)),h.push([C,P])}):Object.keys(u).forEach(function(g){var C=u[g];i(C)==="object"&&(C=m(C)),h.push([g,C])}),h},Uo=function(u,h){return!!h&&h.toString()===u.toString()},Rs=void 0,ic=function(u){var h=_e.innerParams.get(u);u.disableButtons(),h.input?Go(u,"confirm"):Vn(u,!0)},sc=function(u){var h=_e.innerParams.get(u);u.disableButtons(),h.returnInputValueOnDeny?Go(u,"deny"):Nn(u,!1)},nc=function(u,h){u.disableButtons(),h(Ei.cancel)},Go=function(u,h){var g=_e.innerParams.get(u);if(!g.input){de('The "input" parameter is needed to be set when using returnInputValueOn'.concat(se(h)));return}var C=u.getInput(),P=Kh(u,g);g.inputValidator?rc(u,P,h):C&&!C.checkValidity()?(u.enableButtons(),u.showValidationMessage(g.validationMessage)):h==="deny"?Nn(u,P):Vn(u,P)},rc=function(u,h,g){var C=_e.innerParams.get(u);u.disableInput();var P=Promise.resolve().then(function(){return Te(C.inputValidator(h,C.validationMessage))});P.then(function(U){u.enableButtons(),u.enableInput(),U?u.showValidationMessage(U):g==="deny"?Nn(u,h):Vn(u,h)})},Nn=function(u,h){var g=_e.innerParams.get(u||Rs);if(g.showLoaderOnDeny&&Ti(xt()),g.preDeny){u.isAwaitingPromise=!0;var C=Promise.resolve().then(function(){return Te(g.preDeny(h,g.validationMessage))});C.then(function(P){P===!1?(u.hideLoading(),$i(u)):u.close({isDenied:!0,value:typeof P>"u"?h:P})}).catch(function(P){return $o(u||Rs,P)})}else u.close({isDenied:!0,value:h})},qo=function(u,h){u.close({isConfirmed:!0,value:h})},$o=function(u,h){u.rejectPromise(h)},Vn=function(u,h){var g=_e.innerParams.get(u||Rs);if(g.showLoaderOnConfirm&&Ti(),g.preConfirm){u.resetValidationMessage(),u.isAwaitingPromise=!0;var C=Promise.resolve().then(function(){return Te(g.preConfirm(h,g.validationMessage))});C.then(function(P){We(Zt())||P===!1?(u.hideLoading(),$i(u)):qo(u,typeof P>"u"?h:P)}).catch(function(P){return $o(u||Rs,P)})}else qo(u,h)};function Ls(){var m=_e.innerParams.get(this);if(m){var u=_e.domCache.get(this);ce(u.loader),R()?m.icon&&he(nt()):oc(u),ge([u.popup,u.actions],x.loading),u.popup.removeAttribute("aria-busy"),u.popup.removeAttribute("data-loading"),u.confirmButton.disabled=!1,u.denyButton.disabled=!1,u.cancelButton.disabled=!1}}var oc=function(u){var h=u.popup.getElementsByClassName(u.loader.getAttribute("data-button-to-replace"));h.length?he(h[0],"inline-block"):ks()&&ce(u.actions)};function Ko(){var m=_e.innerParams.get(this),u=_e.domCache.get(this);return u?G(u.popup,m.input):null}function Xo(m,u,h){var g=_e.domCache.get(m);u.forEach(function(C){g[C].disabled=h})}function Jo(m,u){var h=ue();if(!(!h||!m))if(m.type==="radio")for(var g=h.querySelectorAll('[name="'.concat(x.radio,'"]')),C=0;C<g.length;C++)g[C].disabled=u;else m.disabled=u}function Yo(){Xo(this,["confirmButton","denyButton","cancelButton"],!1)}function Zo(){Xo(this,["confirmButton","denyButton","cancelButton"],!0)}function Qo(){Jo(this.getInput(),!1)}function ea(){Jo(this.getInput(),!0)}function ta(m){var u=_e.domCache.get(this),h=_e.innerParams.get(this);H(u.validationMessage,m),u.validationMessage.className=x["validation-message"],h.customClass&&h.customClass.validationMessage&&X(u.validationMessage,h.customClass.validationMessage),he(u.validationMessage);var g=this.getInput();g&&(g.setAttribute("aria-invalid","true"),g.setAttribute("aria-describedby",x["validation-message"]),Ce(g),X(g,x.inputerror))}function ia(){var m=_e.domCache.get(this);m.validationMessage&&ce(m.validationMessage);var u=this.getInput();u&&(u.removeAttribute("aria-invalid"),u.removeAttribute("aria-describedby"),ge(u,x.inputerror))}var ki={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},ac=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],lc={},uc=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],sa=function(u){return Object.prototype.hasOwnProperty.call(ki,u)},na=function(u){return ac.indexOf(u)!==-1},ra=function(u){return lc[u]},dc=function(u){sa(u)||Y('Unknown parameter "'.concat(u,'"'))},hc=function(u){uc.includes(u)&&Y('The parameter "'.concat(u,'" is incompatible with toasts'))},cc=function(u){var h=ra(u);h&&Me(u,h)},fc=function(u){u.backdrop===!1&&u.allowOutsideClick&&Y('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var h in u)dc(h),u.toast&&hc(h),cc(h)};function oa(m){var u=ue(),h=_e.innerParams.get(this);if(!u||N(u,h.hideClass.popup)){Y("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var g=pc(m),C=Object.assign({},h,g);Po(this,C),_e.innerParams.set(this,C),Object.defineProperties(this,{params:{value:Object.assign({},this.params,m),writable:!1,enumerable:!0}})}var pc=function(u){var h={};return Object.keys(u).forEach(function(g){na(g)?h[g]=u[g]:Y("Invalid parameter to update: ".concat(g))}),h};function aa(){var m=_e.domCache.get(this),u=_e.innerParams.get(this);if(!u){la(this);return}m.popup&&b.swalCloseEventFinishedCallback&&(b.swalCloseEventFinishedCallback(),delete b.swalCloseEventFinishedCallback),typeof u.didDestroy=="function"&&u.didDestroy(),gc(this)}var gc=function(u){la(u),delete u.params,delete b.keydownHandler,delete b.keydownTarget,delete b.currentInstance},la=function(u){u.isAwaitingPromise?(jn(_e,u),u.isAwaitingPromise=!0):(jn(xi,u),jn(_e,u),delete u.isAwaitingPromise,delete u.disableButtons,delete u.enableButtons,delete u.getInput,delete u.disableInput,delete u.enableInput,delete u.hideLoading,delete u.disableLoading,delete u.showValidationMessage,delete u.resetValidationMessage,delete u.close,delete u.closePopup,delete u.closeModal,delete u.closeToast,delete u.rejectPromise,delete u.update,delete u._destroy)},jn=function(u,h){for(var g in u)u[g].delete(h)},mc=Object.freeze({__proto__:null,_destroy:aa,close:zt,closeModal:zt,closePopup:zt,closeToast:zt,disableButtons:Zo,disableInput:ea,disableLoading:Ls,enableButtons:Yo,enableInput:Qo,getInput:Ko,handleAwaitingPromise:$i,hideLoading:Ls,rejectPromise:Vo,resetValidationMessage:ia,showValidationMessage:ta,update:oa}),bc=function(u,h,g){u.toast?vc(u,h,g):(yc(h),Cc(h),Ec(u,h,g))},vc=function(u,h,g){h.popup.onclick=function(){u&&(wc(u)||u.timer||u.input)||g(Ei.close)}},wc=function(u){return!!(u.showConfirmButton||u.showDenyButton||u.showCancelButton||u.showCloseButton)},As=!1,yc=function(u){u.popup.onmousedown=function(){u.container.onmouseup=function(h){u.container.onmouseup=function(){},h.target===u.container&&(As=!0)}}},Cc=function(u){u.container.onmousedown=function(){u.popup.onmouseup=function(h){u.popup.onmouseup=function(){},(h.target===u.popup||h.target instanceof HTMLElement&&u.popup.contains(h.target))&&(As=!0)}}},Ec=function(u,h,g){h.container.onclick=function(C){if(As){As=!1;return}C.target===h.container&&xe(u.allowOutsideClick)&&g(Ei.backdrop)}},xc=function(u){return i(u)==="object"&&u.jquery},ua=function(u){return u instanceof Element||xc(u)},_c=function(u){var h={};return i(u[0])==="object"&&!ua(u[0])?Object.assign(h,u[0]):["title","html","icon"].forEach(function(g,C){var P=u[C];typeof P=="string"||ua(P)?h[g]=P:P!==void 0&&de("Unexpected type of ".concat(g,'! Expected "string" or "Element", got ').concat(i(P)))}),h};function Tc(){for(var m=this,u=arguments.length,h=new Array(u),g=0;g<u;g++)h[g]=arguments[g];return v(m,h)}function kc(m){var u=function(h){a(C,h);var g=T(C);function C(){return n(this,C),g.apply(this,arguments)}return o(C,[{key:"_main",value:function(U,te){return L(l(C.prototype),"_main",this).call(this,U,Object.assign({},m,te))}}]),C}(this);return u}var Sc=function(){return b.timeout&&b.timeout.getTimerLeft()},da=function(){if(b.timeout)return zd(),b.timeout.stop()},ha=function(){if(b.timeout){var u=b.timeout.start();return Ci(u),u}},Rc=function(){var u=b.timeout;return u&&(u.running?da():ha())},Lc=function(u){if(b.timeout){var h=b.timeout.increase(u);return Ci(h,!0),h}},Ac=function(){return!!(b.timeout&&b.timeout.isRunning())},ca=!1,Wn={};function Mc(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Wn[m]=this,ca||(document.body.addEventListener("click",Oc),ca=!0)}var Oc=function(u){for(var h=u.target;h&&h!==document;h=h.parentNode)for(var g in Wn){var C=h.getAttribute(g);if(C){Wn[g].fire({template:C});return}}},Dc=Object.freeze({__proto__:null,argsToParams:_c,bindClickHandler:Mc,clickCancel:xh,clickConfirm:Io,clickDeny:Eh,enableLoading:Ti,fire:Tc,getActions:Qt,getCancelButton:dt,getCloseButton:Ui,getConfirmButton:tt,getContainer:ze,getDenyButton:xt,getFocusableElements:Ht,getFooter:Wi,getHtmlContainer:It,getIcon:nt,getIconContent:Dt,getImage:Et,getInputLabel:Pn,getLoader:_t,getPopup:ue,getProgressSteps:Xe,getTimerLeft:Sc,getTimerProgressBar:vi,getTitle:Pt,getValidationMessage:Zt,increaseTimer:Lc,isDeprecatedParameter:ra,isLoading:O,isTimerRunning:Ac,isUpdatableParameter:na,isValidParameter:sa,isVisible:Ch,mixin:kc,resumeTimer:ha,showLoading:Ti,stopTimer:da,toggleTimer:Rc}),Pc=function(){function m(u,h){n(this,m),this.callback=u,this.remaining=h,this.running=!1,this.start()}return o(m,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(h){var g=this.running;return g&&this.stop(),this.remaining+=h,g&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),m}(),fa=["swal-title","swal-html","swal-footer"],Ic=function(u){var h=typeof u.template=="string"?document.querySelector(u.template):u.template;if(!h)return{};var g=h.content;Wc(g);var C=Object.assign(Hc(g),zc(g),Fc(g),Bc(g),Nc(g),Vc(g),jc(g,fa));return C},Hc=function(u){var h={},g=Array.from(u.querySelectorAll("swal-param"));return g.forEach(function(C){ii(C,["name","value"]);var P=C.getAttribute("name"),U=C.getAttribute("value");typeof ki[P]=="boolean"?h[P]=U!=="false":i(ki[P])==="object"?h[P]=JSON.parse(U):h[P]=U}),h},zc=function(u){var h={},g=Array.from(u.querySelectorAll("swal-function-param"));return g.forEach(function(C){var P=C.getAttribute("name"),U=C.getAttribute("value");h[P]=new Function("return ".concat(U))()}),h},Fc=function(u){var h={},g=Array.from(u.querySelectorAll("swal-button"));return g.forEach(function(C){ii(C,["type","color","aria-label"]);var P=C.getAttribute("type");h["".concat(P,"ButtonText")]=C.innerHTML,h["show".concat(se(P),"Button")]=!0,C.hasAttribute("color")&&(h["".concat(P,"ButtonColor")]=C.getAttribute("color")),C.hasAttribute("aria-label")&&(h["".concat(P,"ButtonAriaLabel")]=C.getAttribute("aria-label"))}),h},Bc=function(u){var h={},g=u.querySelector("swal-image");return g&&(ii(g,["src","width","height","alt"]),g.hasAttribute("src")&&(h.imageUrl=g.getAttribute("src")),g.hasAttribute("width")&&(h.imageWidth=g.getAttribute("width")),g.hasAttribute("height")&&(h.imageHeight=g.getAttribute("height")),g.hasAttribute("alt")&&(h.imageAlt=g.getAttribute("alt"))),h},Nc=function(u){var h={},g=u.querySelector("swal-icon");return g&&(ii(g,["type","color"]),g.hasAttribute("type")&&(h.icon=g.getAttribute("type")),g.hasAttribute("color")&&(h.iconColor=g.getAttribute("color")),h.iconHtml=g.innerHTML),h},Vc=function(u){var h={},g=u.querySelector("swal-input");g&&(ii(g,["type","label","placeholder","value"]),h.input=g.getAttribute("type")||"text",g.hasAttribute("label")&&(h.inputLabel=g.getAttribute("label")),g.hasAttribute("placeholder")&&(h.inputPlaceholder=g.getAttribute("placeholder")),g.hasAttribute("value")&&(h.inputValue=g.getAttribute("value")));var C=Array.from(u.querySelectorAll("swal-input-option"));return C.length&&(h.inputOptions={},C.forEach(function(P){ii(P,["value"]);var U=P.getAttribute("value"),te=P.innerHTML;h.inputOptions[U]=te})),h},jc=function(u,h){var g={};for(var C in h){var P=h[C],U=u.querySelector(P);U&&(ii(U,[]),g[P.replace(/^swal-/,"")]=U.innerHTML.trim())}return g},Wc=function(u){var h=fa.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(u.children).forEach(function(g){var C=g.tagName.toLowerCase();h.includes(C)||Y("Unrecognized element <".concat(C,">"))})},ii=function(u,h){Array.from(u.attributes).forEach(function(g){h.indexOf(g.name)===-1&&Y(['Unrecognized attribute "'.concat(g.name,'" on <').concat(u.tagName.toLowerCase(),">."),"".concat(h.length?"Allowed attributes are: ".concat(h.join(", ")):"To set the value, use HTML within the element.")])})},pa=10,Uc=function(u){var h=ze(),g=ue();typeof u.willOpen=="function"&&u.willOpen(g);var C=window.getComputedStyle(document.body),P=C.overflowY;Kc(h,g,u),setTimeout(function(){qc(h,g)},pa),E()&&($c(h,u.scrollbarPadding,P),Mh()),!R()&&!b.previousActiveElement&&(b.previousActiveElement=document.activeElement),typeof u.didOpen=="function"&&setTimeout(function(){return u.didOpen(g)}),ge(h,x["no-transition"])},Gc=function m(u){var h=ue();if(!(u.target!==h||!ti)){var g=ze();h.removeEventListener(ti,m),g.style.overflowY="auto"}},qc=function(u,h){ti&&Gi(h)?(u.style.overflowY="hidden",h.addEventListener(ti,Gc)):u.style.overflowY="auto"},$c=function(u,h,g){Oh(),h&&g!=="hidden"&&Bh(g),setTimeout(function(){u.scrollTop=0})},Kc=function(u,h,g){X(u,g.showClass.backdrop),g.animation?(h.style.setProperty("opacity","0","important"),he(h,"grid"),setTimeout(function(){X(h,g.showClass.popup),h.style.removeProperty("opacity")},pa)):he(h,"grid"),X([document.documentElement,document.body],x.shown),g.heightAuto&&g.backdrop&&!g.toast&&X([document.documentElement,document.body],x["height-auto"])},ga={email:function(u,h){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(u)?Promise.resolve():Promise.resolve(h||"Invalid email address")},url:function(u,h){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(u)?Promise.resolve():Promise.resolve(h||"Invalid URL")}};function Xc(m){m.inputValidator||(m.input==="email"&&(m.inputValidator=ga.email),m.input==="url"&&(m.inputValidator=ga.url))}function Jc(m){(!m.target||typeof m.target=="string"&&!document.querySelector(m.target)||typeof m.target!="string"&&!m.target.appendChild)&&(Y('Target parameter is not valid, defaulting to "body"'),m.target="body")}function Yc(m){Xc(m),m.showLoaderOnConfirm&&!m.preConfirm&&Y(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Jc(m),typeof m.title=="string"&&(m.title=m.title.split(`
`).join("<br />")),Ud(m)}var gt,Ms=new WeakMap,Pe=function(){function m(){if(n(this,m),f(this,Ms,{writable:!0,value:void 0}),!(typeof window>"u")){gt=this;for(var u=arguments.length,h=new Array(u),g=0;g<u;g++)h[g]=arguments[g];var C=Object.freeze(this.constructor.argsToParams(h));this.params=C,this.isAwaitingPromise=!1,Re(this,Ms,this._main(gt.params))}}return o(m,[{key:"_main",value:function(h){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(fc(Object.assign({},g,h)),b.currentInstance){var C=xi.swalPromiseResolve.get(b.currentInstance),P=b.currentInstance.isAwaitingPromise;b.currentInstance._destroy(),P||C({isDismissed:!0}),E()&&Fo()}b.currentInstance=gt;var U=Qc(h,g);Yc(U),Object.freeze(U),b.timeout&&(b.timeout.stop(),delete b.timeout),clearTimeout(b.restoreFocusTimeout);var te=ef(gt);return Po(gt,U),_e.innerParams.set(gt,U),Zc(gt,te,U)}},{key:"then",value:function(h){return Q(this,Ms).then(h)}},{key:"finally",value:function(h){return Q(this,Ms).finally(h)}}]),m}(),Zc=function(u,h,g){return new Promise(function(C,P){var U=function(oe){u.close({isDismissed:!0,dismiss:oe})};xi.swalPromiseResolve.set(u,C),xi.swalPromiseReject.set(u,P),h.confirmButton.onclick=function(){ic(u)},h.denyButton.onclick=function(){sc(u)},h.cancelButton.onclick=function(){nc(u,U)},h.closeButton.onclick=function(){U(Ei.close)},bc(g,h,U),_h(b,g,U),$h(u,g),Uc(g),tf(b,g,U),sf(h,g),setTimeout(function(){h.container.scrollTop=0})})},Qc=function(u,h){var g=Ic(u),C=Object.assign({},ki,h,g,u);return C.showClass=Object.assign({},ki.showClass,C.showClass),C.hideClass=Object.assign({},ki.hideClass,C.hideClass),C.animation===!1&&(C.showClass={backdrop:"swal2-noanimation"},C.hideClass={}),C},ef=function(u){var h={popup:ue(),container:ze(),actions:Qt(),confirmButton:tt(),denyButton:xt(),cancelButton:dt(),loader:_t(),closeButton:Ui(),validationMessage:Zt(),progressSteps:Xe()};return _e.domCache.set(u,h),h},tf=function(u,h,g){var C=vi();ce(C),h.timer&&(u.timeout=new Pc(function(){g("timer"),delete u.timeout},h.timer),h.timerProgressBar&&(he(C),K(C,h,"timerProgressBar"),setTimeout(function(){u.timeout&&u.timeout.running&&Ci(h.timer)})))},sf=function(u,h){if(!h.toast){if(!xe(h.allowEnterKey)){rf();return}nf(u,h)||Bn(-1,1)}},nf=function(u,h){return h.focusDeny&&We(u.denyButton)?(u.denyButton.focus(),!0):h.focusCancel&&We(u.cancelButton)?(u.cancelButton.focus(),!0):h.focusConfirm&&We(u.confirmButton)?(u.confirmButton.focus(),!0):!1},rf=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var ma=new Date,ba=localStorage.getItem("swal-initiation");ba?(ma.getTime()-Date.parse(ba))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var m=document.createElement("audio");m.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",m.loop=!0,document.body.appendChild(m),setTimeout(function(){m.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(ma))}Pe.prototype.disableButtons=Zo,Pe.prototype.enableButtons=Yo,Pe.prototype.getInput=Ko,Pe.prototype.disableInput=ea,Pe.prototype.enableInput=Qo,Pe.prototype.hideLoading=Ls,Pe.prototype.disableLoading=Ls,Pe.prototype.showValidationMessage=ta,Pe.prototype.resetValidationMessage=ia,Pe.prototype.close=zt,Pe.prototype.closePopup=zt,Pe.prototype.closeModal=zt,Pe.prototype.closeToast=zt,Pe.prototype.rejectPromise=Vo,Pe.prototype.update=oa,Pe.prototype._destroy=aa,Object.assign(Pe,Dc),Object.keys(mc).forEach(function(m){Pe[m]=function(){if(gt&&gt[m]){var u;return(u=gt)[m].apply(u,arguments)}return null}}),Pe.DismissReason=Ei,Pe.version="11.10.1";var Os=Pe;return Os.default=Os,Os}),typeof kt<"u"&&kt.Sweetalert2&&(kt.swal=kt.sweetAlert=kt.Swal=kt.SweetAlert=kt.Sweetalert2),typeof document<"u"&&function(t,i){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=i);else try{n.innerHTML=i}catch{n.innerText=i}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(Gu);var rb=Gu.exports;const Be=Uu(rb);function qu(s,e){return function(){return s.apply(e,arguments)}}const{toString:ob}=Object.prototype,{getPrototypeOf:to}=Object,kn=(s=>e=>{const t=ob.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ct=s=>(s=s.toLowerCase(),e=>kn(e)===s),Sn=s=>e=>typeof e===s,{isArray:ji}=Array,as=Sn("undefined");function ab(s){return s!==null&&!as(s)&&s.constructor!==null&&!as(s.constructor)&&ot(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const $u=Ct("ArrayBuffer");function lb(s){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&$u(s.buffer),e}const ub=Sn("string"),ot=Sn("function"),Ku=Sn("number"),Rn=s=>s!==null&&typeof s=="object",db=s=>s===!0||s===!1,Us=s=>{if(kn(s)!=="object")return!1;const e=to(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},hb=Ct("Date"),cb=Ct("File"),fb=Ct("Blob"),pb=Ct("FileList"),gb=s=>Rn(s)&&ot(s.pipe),mb=s=>{let e;return s&&(typeof FormData=="function"&&s instanceof FormData||ot(s.append)&&((e=kn(s))==="formdata"||e==="object"&&ot(s.toString)&&s.toString()==="[object FormData]"))},bb=Ct("URLSearchParams"),vb=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Es(s,e,{allOwnKeys:t=!1}={}){if(s===null||typeof s>"u")return;let i,n;if(typeof s!="object"&&(s=[s]),ji(s))for(i=0,n=s.length;i<n;i++)e.call(null,s[i],i,s);else{const r=t?Object.getOwnPropertyNames(s):Object.keys(s),o=r.length;let a;for(i=0;i<o;i++)a=r[i],e.call(null,s[a],a,s)}}function Xu(s,e){e=e.toLowerCase();const t=Object.keys(s);let i=t.length,n;for(;i-- >0;)if(n=t[i],e===n.toLowerCase())return n;return null}const Ju=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Yu=s=>!as(s)&&s!==Ju;function yr(){const{caseless:s}=Yu(this)&&this||{},e={},t=(i,n)=>{const r=s&&Xu(e,n)||n;Us(e[r])&&Us(i)?e[r]=yr(e[r],i):Us(i)?e[r]=yr({},i):ji(i)?e[r]=i.slice():e[r]=i};for(let i=0,n=arguments.length;i<n;i++)arguments[i]&&Es(arguments[i],t);return e}const wb=(s,e,t,{allOwnKeys:i}={})=>(Es(e,(n,r)=>{t&&ot(n)?s[r]=qu(n,t):s[r]=n},{allOwnKeys:i}),s),yb=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),Cb=(s,e,t,i)=>{s.prototype=Object.create(e.prototype,i),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:e.prototype}),t&&Object.assign(s.prototype,t)},Eb=(s,e,t,i)=>{let n,r,o;const a={};if(e=e||{},s==null)return e;do{for(n=Object.getOwnPropertyNames(s),r=n.length;r-- >0;)o=n[r],(!i||i(o,s,e))&&!a[o]&&(e[o]=s[o],a[o]=!0);s=t!==!1&&to(s)}while(s&&(!t||t(s,e))&&s!==Object.prototype);return e},xb=(s,e,t)=>{s=String(s),(t===void 0||t>s.length)&&(t=s.length),t-=e.length;const i=s.indexOf(e,t);return i!==-1&&i===t},_b=s=>{if(!s)return null;if(ji(s))return s;let e=s.length;if(!Ku(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=s[e];return t},Tb=(s=>e=>s&&e instanceof s)(typeof Uint8Array<"u"&&to(Uint8Array)),kb=(s,e)=>{const i=(s&&s[Symbol.iterator]).call(s);let n;for(;(n=i.next())&&!n.done;){const r=n.value;e.call(s,r[0],r[1])}},Sb=(s,e)=>{let t;const i=[];for(;(t=s.exec(e))!==null;)i.push(t);return i},Rb=Ct("HTMLFormElement"),Lb=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,n){return i.toUpperCase()+n}),Pa=(({hasOwnProperty:s})=>(e,t)=>s.call(e,t))(Object.prototype),Ab=Ct("RegExp"),Zu=(s,e)=>{const t=Object.getOwnPropertyDescriptors(s),i={};Es(t,(n,r)=>{let o;(o=e(n,r,s))!==!1&&(i[r]=o||n)}),Object.defineProperties(s,i)},Mb=s=>{Zu(s,(e,t)=>{if(ot(s)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=s[t];if(ot(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Ob=(s,e)=>{const t={},i=n=>{n.forEach(r=>{t[r]=!0})};return ji(s)?i(s):i(String(s).split(e)),t},Db=()=>{},Pb=(s,e)=>(s=+s,Number.isFinite(s)?s:e),Jn="abcdefghijklmnopqrstuvwxyz",Ia="0123456789",Qu={DIGIT:Ia,ALPHA:Jn,ALPHA_DIGIT:Jn+Jn.toUpperCase()+Ia},Ib=(s=16,e=Qu.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;s--;)t+=e[Math.random()*i|0];return t};function Hb(s){return!!(s&&ot(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const zb=s=>{const e=new Array(10),t=(i,n)=>{if(Rn(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[n]=i;const r=ji(i)?[]:{};return Es(i,(o,a)=>{const l=t(o,n+1);!as(l)&&(r[a]=l)}),e[n]=void 0,r}}return i};return t(s,0)},Fb=Ct("AsyncFunction"),Bb=s=>s&&(Rn(s)||ot(s))&&ot(s.then)&&ot(s.catch),z={isArray:ji,isArrayBuffer:$u,isBuffer:ab,isFormData:mb,isArrayBufferView:lb,isString:ub,isNumber:Ku,isBoolean:db,isObject:Rn,isPlainObject:Us,isUndefined:as,isDate:hb,isFile:cb,isBlob:fb,isRegExp:Ab,isFunction:ot,isStream:gb,isURLSearchParams:bb,isTypedArray:Tb,isFileList:pb,forEach:Es,merge:yr,extend:wb,trim:vb,stripBOM:yb,inherits:Cb,toFlatObject:Eb,kindOf:kn,kindOfTest:Ct,endsWith:xb,toArray:_b,forEachEntry:kb,matchAll:Sb,isHTMLForm:Rb,hasOwnProperty:Pa,hasOwnProp:Pa,reduceDescriptors:Zu,freezeMethods:Mb,toObjectSet:Ob,toCamelCase:Lb,noop:Db,toFiniteNumber:Pb,findKey:Xu,global:Ju,isContextDefined:Yu,ALPHABET:Qu,generateString:Ib,isSpecCompliantForm:Hb,toJSONObject:zb,isAsyncFn:Fb,isThenable:Bb};function me(s,e,t,i,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),n&&(this.response=n)}z.inherits(me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ed=me.prototype,td={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{td[s]={value:s}});Object.defineProperties(me,td);Object.defineProperty(ed,"isAxiosError",{value:!0});me.from=(s,e,t,i,n,r)=>{const o=Object.create(ed);return z.toFlatObject(s,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),me.call(o,s.message,e,t,i,n),o.cause=s,o.name=s.name,r&&Object.assign(o,r),o};const Nb=null;function Cr(s){return z.isPlainObject(s)||z.isArray(s)}function id(s){return z.endsWith(s,"[]")?s.slice(0,-2):s}function Ha(s,e,t){return s?s.concat(e).map(function(n,r){return n=id(n),!t&&r?"["+n+"]":n}).join(t?".":""):e}function Vb(s){return z.isArray(s)&&!s.some(Cr)}const jb=z.toFlatObject(z,{},null,function(e){return/^is[A-Z]/.test(e)});function Ln(s,e,t){if(!z.isObject(s))throw new TypeError("target must be an object");e=e||new FormData,t=z.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,L){return!z.isUndefined(L[S])});const i=t.metaTokens,n=t.visitor||p,r=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(e);if(!z.isFunction(n))throw new TypeError("visitor must be a function");function c(T){if(T===null)return"";if(z.isDate(T))return T.toISOString();if(!l&&z.isBlob(T))throw new me("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(T)||z.isTypedArray(T)?l&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function p(T,S,L){let A=T;if(T&&!L&&typeof T=="object"){if(z.endsWith(S,"{}"))S=i?S:S.slice(0,-2),T=JSON.stringify(T);else if(z.isArray(T)&&Vb(T)||(z.isFileList(T)||z.endsWith(S,"[]"))&&(A=z.toArray(T)))return S=id(S),A.forEach(function(j,B){!(z.isUndefined(j)||j===null)&&e.append(o===!0?Ha([S],B,r):o===null?S:S+"[]",c(j))}),!1}return Cr(T)?!0:(e.append(Ha(L,S,r),c(T)),!1)}const v=[],y=Object.assign(jb,{defaultVisitor:p,convertValue:c,isVisitable:Cr});function _(T,S){if(!z.isUndefined(T)){if(v.indexOf(T)!==-1)throw Error("Circular reference detected in "+S.join("."));v.push(T),z.forEach(T,function(A,F){(!(z.isUndefined(A)||A===null)&&n.call(e,A,z.isString(F)?F.trim():F,S,y))===!0&&_(A,S?S.concat(F):[F])}),v.pop()}}if(!z.isObject(s))throw new TypeError("data must be an object");return _(s),e}function za(s){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function io(s,e){this._pairs=[],s&&Ln(s,this,e)}const sd=io.prototype;sd.append=function(e,t){this._pairs.push([e,t])};sd.toString=function(e){const t=e?function(i){return e.call(this,i,za)}:za;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};function Wb(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nd(s,e,t){if(!e)return s;const i=t&&t.encode||Wb,n=t&&t.serialize;let r;if(n?r=n(e,t):r=z.isURLSearchParams(e)?e.toString():new io(e,t).toString(i),r){const o=s.indexOf("#");o!==-1&&(s=s.slice(0,o)),s+=(s.indexOf("?")===-1?"?":"&")+r}return s}class Ub{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){z.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Fa=Ub,rd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Gb=typeof URLSearchParams<"u"?URLSearchParams:io,qb=typeof FormData<"u"?FormData:null,$b=typeof Blob<"u"?Blob:null,Kb={isBrowser:!0,classes:{URLSearchParams:Gb,FormData:qb,Blob:$b},protocols:["http","https","file","blob","url","data"]},od=typeof window<"u"&&typeof document<"u",Xb=(s=>od&&["ReactNative","NativeScript","NS"].indexOf(s)<0)(typeof navigator<"u"&&navigator.product),Jb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:od,hasStandardBrowserEnv:Xb,hasStandardBrowserWebWorkerEnv:Jb},Symbol.toStringTag,{value:"Module"})),bt={...Yb,...Kb};function Zb(s,e){return Ln(s,new bt.classes.URLSearchParams,Object.assign({visitor:function(t,i,n,r){return bt.isNode&&z.isBuffer(t)?(this.append(i,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function Qb(s){return z.matchAll(/\w+|\[(\w*)]/g,s).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ev(s){const e={},t=Object.keys(s);let i;const n=t.length;let r;for(i=0;i<n;i++)r=t[i],e[r]=s[r];return e}function ad(s){function e(t,i,n,r){let o=t[r++];const a=Number.isFinite(+o),l=r>=t.length;return o=!o&&z.isArray(n)?n.length:o,l?(z.hasOwnProp(n,o)?n[o]=[n[o],i]:n[o]=i,!a):((!n[o]||!z.isObject(n[o]))&&(n[o]=[]),e(t,i,n[o],r)&&z.isArray(n[o])&&(n[o]=ev(n[o])),!a)}if(z.isFormData(s)&&z.isFunction(s.entries)){const t={};return z.forEachEntry(s,(i,n)=>{e(Qb(i),n,t,0)}),t}return null}function tv(s,e,t){if(z.isString(s))try{return(e||JSON.parse)(s),z.trim(s)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(s)}const so={transitional:rd,adapter:["xhr","http"],transformRequest:[function(e,t){const i=t.getContentType()||"",n=i.indexOf("application/json")>-1,r=z.isObject(e);if(r&&z.isHTMLForm(e)&&(e=new FormData(e)),z.isFormData(e))return n&&n?JSON.stringify(ad(e)):e;if(z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e))return e;if(z.isArrayBufferView(e))return e.buffer;if(z.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Zb(e,this.formSerializer).toString();if((a=z.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ln(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||n?(t.setContentType("application/json",!1),tv(e)):e}],transformResponse:[function(e){const t=this.transitional||so.transitional,i=t&&t.forcedJSONParsing,n=this.responseType==="json";if(e&&z.isString(e)&&(i&&!this.responseType||n)){const o=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?me.from(a,me.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bt.classes.FormData,Blob:bt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],s=>{so.headers[s]={}});const no=so,iv=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sv=s=>{const e={};let t,i,n;return s&&s.split(`
`).forEach(function(o){n=o.indexOf(":"),t=o.substring(0,n).trim().toLowerCase(),i=o.substring(n+1).trim(),!(!t||e[t]&&iv[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},Ba=Symbol("internals");function Yi(s){return s&&String(s).trim().toLowerCase()}function Gs(s){return s===!1||s==null?s:z.isArray(s)?s.map(Gs):String(s)}function nv(s){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(s);)e[i[1]]=i[2];return e}const rv=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Yn(s,e,t,i,n){if(z.isFunction(i))return i.call(this,e,t);if(n&&(e=t),!!z.isString(e)){if(z.isString(i))return e.indexOf(i)!==-1;if(z.isRegExp(i))return i.test(e)}}function ov(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function av(s,e){const t=z.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(s,i+t,{value:function(n,r,o){return this[i].call(this,e,n,r,o)},configurable:!0})})}class An{constructor(e){e&&this.set(e)}set(e,t,i){const n=this;function r(a,l,c){const p=Yi(l);if(!p)throw new Error("header name must be a non-empty string");const v=z.findKey(n,p);(!v||n[v]===void 0||c===!0||c===void 0&&n[v]!==!1)&&(n[v||l]=Gs(a))}const o=(a,l)=>z.forEach(a,(c,p)=>r(c,p,l));return z.isPlainObject(e)||e instanceof this.constructor?o(e,t):z.isString(e)&&(e=e.trim())&&!rv(e)?o(sv(e),t):e!=null&&r(t,e,i),this}get(e,t){if(e=Yi(e),e){const i=z.findKey(this,e);if(i){const n=this[i];if(!t)return n;if(t===!0)return nv(n);if(z.isFunction(t))return t.call(this,n,i);if(z.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Yi(e),e){const i=z.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Yn(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let n=!1;function r(o){if(o=Yi(o),o){const a=z.findKey(i,o);a&&(!t||Yn(i,i[a],a,t))&&(delete i[a],n=!0)}}return z.isArray(e)?e.forEach(r):r(e),n}clear(e){const t=Object.keys(this);let i=t.length,n=!1;for(;i--;){const r=t[i];(!e||Yn(this,this[r],r,e,!0))&&(delete this[r],n=!0)}return n}normalize(e){const t=this,i={};return z.forEach(this,(n,r)=>{const o=z.findKey(i,r);if(o){t[o]=Gs(n),delete t[r];return}const a=e?ov(r):String(r).trim();a!==r&&delete t[r],t[a]=Gs(n),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return z.forEach(this,(i,n)=>{i!=null&&i!==!1&&(t[n]=e&&z.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(n=>i.set(n)),i}static accessor(e){const i=(this[Ba]=this[Ba]={accessors:{}}).accessors,n=this.prototype;function r(o){const a=Yi(o);i[a]||(av(n,o),i[a]=!0)}return z.isArray(e)?e.forEach(r):r(e),this}}An.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(An.prototype,({value:s},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>s,set(i){this[t]=i}}});z.freezeMethods(An);const Rt=An;function Zn(s,e){const t=this||no,i=e||t,n=Rt.from(i.headers);let r=i.data;return z.forEach(s,function(a){r=a.call(t,r,n.normalize(),e?e.status:void 0)}),n.normalize(),r}function ld(s){return!!(s&&s.__CANCEL__)}function xs(s,e,t){me.call(this,s??"canceled",me.ERR_CANCELED,e,t),this.name="CanceledError"}z.inherits(xs,me,{__CANCEL__:!0});function lv(s,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?s(t):e(new me("Request failed with status code "+t.status,[me.ERR_BAD_REQUEST,me.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const uv=bt.hasStandardBrowserEnv?{write(s,e,t,i,n,r){const o=[s+"="+encodeURIComponent(e)];z.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),z.isString(i)&&o.push("path="+i),z.isString(n)&&o.push("domain="+n),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(s){const e=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function dv(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function hv(s,e){return e?s.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):s}function ud(s,e){return s&&!dv(e)?hv(s,e):e}const cv=bt.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let i;function n(r){let o=r;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return i=n(window.location.href),function(o){const a=z.isString(o)?n(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function fv(s){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return e&&e[1]||""}function pv(s,e){s=s||10;const t=new Array(s),i=new Array(s);let n=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),p=i[r];o||(o=c),t[n]=l,i[n]=c;let v=r,y=0;for(;v!==n;)y+=t[v++],v=v%s;if(n=(n+1)%s,n===r&&(r=(r+1)%s),c-o<e)return;const _=p&&c-p;return _?Math.round(y*1e3/_):void 0}}function Na(s,e){let t=0;const i=pv(50,250);return n=>{const r=n.loaded,o=n.lengthComputable?n.total:void 0,a=r-t,l=i(a),c=r<=o;t=r;const p={loaded:r,total:o,progress:o?r/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-r)/l:void 0,event:n};p[e?"download":"upload"]=!0,s(p)}}const gv=typeof XMLHttpRequest<"u",mv=gv&&function(s){return new Promise(function(t,i){let n=s.data;const r=Rt.from(s.headers).normalize();let{responseType:o,withXSRFToken:a}=s,l;function c(){s.cancelToken&&s.cancelToken.unsubscribe(l),s.signal&&s.signal.removeEventListener("abort",l)}let p;if(z.isFormData(n)){if(bt.hasStandardBrowserEnv||bt.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if((p=r.getContentType())!==!1){const[S,...L]=p?p.split(";").map(A=>A.trim()).filter(Boolean):[];r.setContentType([S||"multipart/form-data",...L].join("; "))}}let v=new XMLHttpRequest;if(s.auth){const S=s.auth.username||"",L=s.auth.password?unescape(encodeURIComponent(s.auth.password)):"";r.set("Authorization","Basic "+btoa(S+":"+L))}const y=ud(s.baseURL,s.url);v.open(s.method.toUpperCase(),nd(y,s.params,s.paramsSerializer),!0),v.timeout=s.timeout;function _(){if(!v)return;const S=Rt.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),A={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:S,config:s,request:v};lv(function(j){t(j),c()},function(j){i(j),c()},A),v=null}if("onloadend"in v?v.onloadend=_:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(_)},v.onabort=function(){v&&(i(new me("Request aborted",me.ECONNABORTED,s,v)),v=null)},v.onerror=function(){i(new me("Network Error",me.ERR_NETWORK,s,v)),v=null},v.ontimeout=function(){let L=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const A=s.transitional||rd;s.timeoutErrorMessage&&(L=s.timeoutErrorMessage),i(new me(L,A.clarifyTimeoutError?me.ETIMEDOUT:me.ECONNABORTED,s,v)),v=null},bt.hasStandardBrowserEnv&&(a&&z.isFunction(a)&&(a=a(s)),a||a!==!1&&cv(y))){const S=s.xsrfHeaderName&&s.xsrfCookieName&&uv.read(s.xsrfCookieName);S&&r.set(s.xsrfHeaderName,S)}n===void 0&&r.setContentType(null),"setRequestHeader"in v&&z.forEach(r.toJSON(),function(L,A){v.setRequestHeader(A,L)}),z.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),o&&o!=="json"&&(v.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&v.addEventListener("progress",Na(s.onDownloadProgress,!0)),typeof s.onUploadProgress=="function"&&v.upload&&v.upload.addEventListener("progress",Na(s.onUploadProgress)),(s.cancelToken||s.signal)&&(l=S=>{v&&(i(!S||S.type?new xs(null,s,v):S),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(l),s.signal&&(s.signal.aborted?l():s.signal.addEventListener("abort",l)));const T=fv(y);if(T&&bt.protocols.indexOf(T)===-1){i(new me("Unsupported protocol "+T+":",me.ERR_BAD_REQUEST,s));return}v.send(n||null)})},Er={http:Nb,xhr:mv};z.forEach(Er,(s,e)=>{if(s){try{Object.defineProperty(s,"name",{value:e})}catch{}Object.defineProperty(s,"adapterName",{value:e})}});const Va=s=>`- ${s}`,bv=s=>z.isFunction(s)||s===null||s===!1,dd={getAdapter:s=>{s=z.isArray(s)?s:[s];const{length:e}=s;let t,i;const n={};for(let r=0;r<e;r++){t=s[r];let o;if(i=t,!bv(t)&&(i=Er[(o=String(t)).toLowerCase()],i===void 0))throw new me(`Unknown adapter '${o}'`);if(i)break;n[o||"#"+r]=i}if(!i){const r=Object.entries(n).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?r.length>1?`since :
`+r.map(Va).join(`
`):" "+Va(r[0]):"as no adapter specified";throw new me("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:Er};function Qn(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new xs(null,s)}function ja(s){return Qn(s),s.headers=Rt.from(s.headers),s.data=Zn.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),dd.getAdapter(s.adapter||no.adapter)(s).then(function(i){return Qn(s),i.data=Zn.call(s,s.transformResponse,i),i.headers=Rt.from(i.headers),i},function(i){return ld(i)||(Qn(s),i&&i.response&&(i.response.data=Zn.call(s,s.transformResponse,i.response),i.response.headers=Rt.from(i.response.headers))),Promise.reject(i)})}const Wa=s=>s instanceof Rt?s.toJSON():s;function Pi(s,e){e=e||{};const t={};function i(c,p,v){return z.isPlainObject(c)&&z.isPlainObject(p)?z.merge.call({caseless:v},c,p):z.isPlainObject(p)?z.merge({},p):z.isArray(p)?p.slice():p}function n(c,p,v){if(z.isUndefined(p)){if(!z.isUndefined(c))return i(void 0,c,v)}else return i(c,p,v)}function r(c,p){if(!z.isUndefined(p))return i(void 0,p)}function o(c,p){if(z.isUndefined(p)){if(!z.isUndefined(c))return i(void 0,c)}else return i(void 0,p)}function a(c,p,v){if(v in e)return i(c,p);if(v in s)return i(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,p)=>n(Wa(c),Wa(p),!0)};return z.forEach(Object.keys(Object.assign({},s,e)),function(p){const v=l[p]||n,y=v(s[p],e[p],p);z.isUndefined(y)&&v!==a||(t[p]=y)}),t}const hd="1.6.2",ro={};["object","boolean","number","function","string","symbol"].forEach((s,e)=>{ro[s]=function(i){return typeof i===s||"a"+(e<1?"n ":" ")+s}});const Ua={};ro.transitional=function(e,t,i){function n(r,o){return"[Axios v"+hd+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,a)=>{if(e===!1)throw new me(n(o," has been removed"+(t?" in "+t:"")),me.ERR_DEPRECATED);return t&&!Ua[o]&&(Ua[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(r,o,a):!0}};function vv(s,e,t){if(typeof s!="object")throw new me("options must be an object",me.ERR_BAD_OPTION_VALUE);const i=Object.keys(s);let n=i.length;for(;n-- >0;){const r=i[n],o=e[r];if(o){const a=s[r],l=a===void 0||o(a,r,s);if(l!==!0)throw new me("option "+r+" must be "+l,me.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new me("Unknown option "+r,me.ERR_BAD_OPTION)}}const xr={assertOptions:vv,validators:ro},Bt=xr.validators;class Qs{constructor(e){this.defaults=e,this.interceptors={request:new Fa,response:new Fa}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Pi(this.defaults,t);const{transitional:i,paramsSerializer:n,headers:r}=t;i!==void 0&&xr.assertOptions(i,{silentJSONParsing:Bt.transitional(Bt.boolean),forcedJSONParsing:Bt.transitional(Bt.boolean),clarifyTimeoutError:Bt.transitional(Bt.boolean)},!1),n!=null&&(z.isFunction(n)?t.paramsSerializer={serialize:n}:xr.assertOptions(n,{encode:Bt.function,serialize:Bt.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=r&&z.merge(r.common,r[t.method]);r&&z.forEach(["delete","get","head","post","put","patch","common"],T=>{delete r[T]}),t.headers=Rt.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(t)===!1||(l=l&&S.synchronous,a.unshift(S.fulfilled,S.rejected))});const c=[];this.interceptors.response.forEach(function(S){c.push(S.fulfilled,S.rejected)});let p,v=0,y;if(!l){const T=[ja.bind(this),void 0];for(T.unshift.apply(T,a),T.push.apply(T,c),y=T.length,p=Promise.resolve(t);v<y;)p=p.then(T[v++],T[v++]);return p}y=a.length;let _=t;for(v=0;v<y;){const T=a[v++],S=a[v++];try{_=T(_)}catch(L){S.call(this,L);break}}try{p=ja.call(this,_)}catch(T){return Promise.reject(T)}for(v=0,y=c.length;v<y;)p=p.then(c[v++],c[v++]);return p}getUri(e){e=Pi(this.defaults,e);const t=ud(e.baseURL,e.url);return nd(t,e.params,e.paramsSerializer)}}z.forEach(["delete","get","head","options"],function(e){Qs.prototype[e]=function(t,i){return this.request(Pi(i||{},{method:e,url:t,data:(i||{}).data}))}});z.forEach(["post","put","patch"],function(e){function t(i){return function(r,o,a){return this.request(Pi(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Qs.prototype[e]=t(),Qs.prototype[e+"Form"]=t(!0)});const qs=Qs;class oo{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const i=this;this.promise.then(n=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](n);i._listeners=null}),this.promise.then=n=>{let r;const o=new Promise(a=>{i.subscribe(a),r=a}).then(n);return o.cancel=function(){i.unsubscribe(r)},o},e(function(r,o,a){i.reason||(i.reason=new xs(r,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new oo(function(n){e=n}),cancel:e}}}const wv=oo;function yv(s){return function(t){return s.apply(null,t)}}function Cv(s){return z.isObject(s)&&s.isAxiosError===!0}const _r={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_r).forEach(([s,e])=>{_r[e]=s});const Ev=_r;function cd(s){const e=new qs(s),t=qu(qs.prototype.request,e);return z.extend(t,qs.prototype,e,{allOwnKeys:!0}),z.extend(t,e,null,{allOwnKeys:!0}),t.create=function(n){return cd(Pi(s,n))},t}const Ie=cd(no);Ie.Axios=qs;Ie.CanceledError=xs;Ie.CancelToken=wv;Ie.isCancel=ld;Ie.VERSION=hd;Ie.toFormData=Ln;Ie.AxiosError=me;Ie.Cancel=Ie.CanceledError;Ie.all=function(e){return Promise.all(e)};Ie.spread=yv;Ie.isAxiosError=Cv;Ie.mergeConfig=Pi;Ie.AxiosHeaders=Rt;Ie.formToJSON=s=>ad(z.isHTMLForm(s)?new FormData(s):s);Ie.getAdapter=dd.getAdapter;Ie.HttpStatusCode=Ev;Ie.default=Ie;const Lt=Ie,xv={candidates:[],async init(){this.isLoading=!1,this.route={name:"",url:"index"},new Tn(this.$refs.candidatesTable,{height:"100%",layout:"fitColumns",textDirection:"rtl",placeholder:"  ",pagination:!0,paginationMode:"remote",paginationSize:20,ajaxURL:`${document.location.origin}/api/candidate/Get`,ajaxLoader:!0,dataSendParams:{size:"pageSize"},dataReceiveParams:{last_page:"lastPage"},columns:[{title:"#",formatter:"rownum",width:40,hozAlign:"center",headerSort:!1,frozen:!0},{title:"",field:"nationalId",headerSort:!1},{title:" ",field:"isReviewed",formatter:"tickCross",hozAlign:"center",headerSort:!1,width:100},{title:"",field:"isSelected",formatter:"tickCross",hozAlign:"center",headerSort:!1,width:80}]}).on("rowClick",(e,t)=>{const i=t.getData();window.location.href=`/candidate/${i.nationalId}`})},async showSearchByIdModal(){await Be.fire({title:"  ",input:"text",inputLabel:" ",inputPlaceholder:"  ",inputValue:"",cancelButtonText:"",confirmButtonText:"",confirmButtonColor:"#6A5C9F",showLoaderOnConfirm:!0,showCancelButton:!0,inputValidator:s=>{if(!s)return"   "},preConfirm:async s=>{try{const e=await Lt.get(`${document.location.origin}/api/candidate/GetCandidate`,{params:{nationalId:s}});if(!e||e.status!==200||!e.data){Be.fire({icon:"error",title:"",text:"      "});return}window.location.href=`/candidate/${e.data.nationalId}`}catch{Be.showValidationMessage("      ")}}})}},_v=()=>xv;var Vt;(function(s){s.Range="range",s.Steps="steps",s.Positions="positions",s.Count="count",s.Values="values"})(Vt||(Vt={}));var Ge;(function(s){s[s.None=-1]="None",s[s.NoValue=0]="NoValue",s[s.LargeValue=1]="LargeValue",s[s.SmallValue=2]="SmallValue"})(Ge||(Ge={}));function Tv(s){return en(s)&&typeof s.from=="function"}function en(s){return typeof s=="object"&&typeof s.to=="function"}function Ga(s){s.parentElement.removeChild(s)}function Tr(s){return s!=null}function qa(s){s.preventDefault()}function kv(s){return s.filter(function(e){return this[e]?!1:this[e]=!0},{})}function Sv(s,e){return Math.round(s/e)*e}function Rv(s,e){var t=s.getBoundingClientRect(),i=s.ownerDocument,n=i.documentElement,r=fd(i);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(r.x=0),e?t.top+r.y-n.clientTop:t.left+r.x-n.clientLeft}function ct(s){return typeof s=="number"&&!isNaN(s)&&isFinite(s)}function $a(s,e,t){t>0&&(Ue(s,e),setTimeout(function(){$s(s,e)},t))}function Ka(s){return Math.max(Math.min(s,100),0)}function Mn(s){return Array.isArray(s)?s:[s]}function Lv(s){s=String(s);var e=s.split(".");return e.length>1?e[1].length:0}function Ue(s,e){s.classList&&!/\s/.test(e)?s.classList.add(e):s.className+=" "+e}function $s(s,e){s.classList&&!/\s/.test(e)?s.classList.remove(e):s.className=s.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function Av(s,e){return s.classList?s.classList.contains(e):new RegExp("\\b"+e+"\\b").test(s.className)}function fd(s){var e=window.pageXOffset!==void 0,t=(s.compatMode||"")==="CSS1Compat",i=e?window.pageXOffset:t?s.documentElement.scrollLeft:s.body.scrollLeft,n=e?window.pageYOffset:t?s.documentElement.scrollTop:s.body.scrollTop;return{x:i,y:n}}function Mv(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function Ov(){var s=!1;try{var e=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,e)}catch{}return s}function Dv(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function ao(s,e){return 100/(e-s)}function kr(s,e,t){return e*100/(s[t+1]-s[t])}function Pv(s,e){return kr(s,s[0]<0?e+Math.abs(s[0]):e-s[0],0)}function Iv(s,e){return e*(s[1]-s[0])/100+s[0]}function ls(s,e){for(var t=1;s>=e[t];)t+=1;return t}function Hv(s,e,t){if(t>=s.slice(-1)[0])return 100;var i=ls(t,s),n=s[i-1],r=s[i],o=e[i-1],a=e[i];return o+Pv([n,r],t)/ao(o,a)}function zv(s,e,t){if(t>=100)return s.slice(-1)[0];var i=ls(t,e),n=s[i-1],r=s[i],o=e[i-1],a=e[i];return Iv([n,r],(t-o)*ao(o,a))}function Fv(s,e,t,i){if(i===100)return i;var n=ls(i,s),r=s[n-1],o=s[n];return t?i-r>(o-r)/2?o:r:e[n-1]?s[n-1]+Sv(i-s[n-1],e[n-1]):i}var Bv=function(){function s(e,t,i){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.snap=t;var n,r=[];for(Object.keys(e).forEach(function(o){r.push([Mn(e[o]),o])}),r.sort(function(o,a){return o[0][0]-a[0][0]}),n=0;n<r.length;n++)this.handleEntryPoint(r[n][1],r[n][0]);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)this.handleStepPoint(n,this.xNumSteps[n])}return s.prototype.getDistance=function(e){for(var t=[],i=0;i<this.xNumSteps.length-1;i++)t[i]=kr(this.xVal,e,i);return t},s.prototype.getAbsoluteDistance=function(e,t,i){var n=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[n+1];)n++;else e===this.xPct[this.xPct.length-1]&&(n=this.xPct.length-2);!i&&e===this.xPct[n+1]&&n++,t===null&&(t=[]);var r,o=1,a=t[n],l=0,c=0,p=0,v=0;for(i?r=(e-this.xPct[n])/(this.xPct[n+1]-this.xPct[n]):r=(this.xPct[n+1]-e)/(this.xPct[n+1]-this.xPct[n]);a>0;)l=this.xPct[n+1+v]-this.xPct[n+v],t[n+v]*o+100-r*100>100?(c=l*r,o=(a-100*r)/t[n+v],r=1):(c=t[n+v]*l/100*o,o=0),i?(p=p-c,this.xPct.length+v>=1&&v--):(p=p+c,this.xPct.length-v>=1&&v++),a=t[n+v]*o;return e+p},s.prototype.toStepping=function(e){return e=Hv(this.xVal,this.xPct,e),e},s.prototype.fromStepping=function(e){return zv(this.xVal,this.xPct,e)},s.prototype.getStep=function(e){return e=Fv(this.xPct,this.xSteps,this.snap,e),e},s.prototype.getDefaultStep=function(e,t,i){var n=ls(e,this.xPct);return(e===100||t&&e===this.xPct[n-1])&&(n=Math.max(n-1,1)),(this.xVal[n]-this.xVal[n-1])/i},s.prototype.getNearbySteps=function(e){var t=ls(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},s.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(Lv);return Math.max.apply(null,e)},s.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},s.prototype.convert=function(e){return this.getStep(this.toStepping(e))},s.prototype.handleEntryPoint=function(e,t){var i;if(e==="min"?i=0:e==="max"?i=100:i=parseFloat(e),!ct(i)||!ct(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(i),this.xVal.push(t[0]);var n=Number(t[1]);i?this.xSteps.push(isNaN(n)?!1:n):isNaN(n)||(this.xSteps[0]=n),this.xHighestCompleteStep.push(0)},s.prototype.handleStepPoint=function(e,t){if(t){if(this.xVal[e]===this.xVal[e+1]){this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e];return}this.xSteps[e]=kr([this.xVal[e],this.xVal[e+1]],t,0)/ao(this.xPct[e],this.xPct[e+1]);var i=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],n=Math.ceil(Number(i.toFixed(3))-1),r=this.xVal[e]+this.xNumSteps[e]*n;this.xHighestCompleteStep[e]=r}},s}(),Xa={to:function(s){return s===void 0?"":s.toFixed(2)},from:Number},Nv={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},Nt={tooltips:".__tooltips",aria:".__aria"};function Vv(s,e){if(!ct(e))throw new Error("noUiSlider: 'step' is not numeric.");s.singleStep=e}function jv(s,e){if(!ct(e))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");s.keyboardPageMultiplier=e}function Wv(s,e){if(!ct(e))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");s.keyboardMultiplier=e}function Uv(s,e){if(!ct(e))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");s.keyboardDefaultStep=e}function Gv(s,e){if(typeof e!="object"||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(e.min===void 0||e.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");s.spectrum=new Bv(e,s.snap||!1,s.singleStep)}function qv(s,e){if(e=Mn(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");s.handles=e.length,s.start=e}function $v(s,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");s.snap=e}function Kv(s,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");s.animate=e}function Xv(s,e){if(typeof e!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");s.animationDuration=e}function Jv(s,e){var t=[!1],i;if(e==="lower"?e=[!0,!1]:e==="upper"&&(e=[!1,!0]),e===!0||e===!1){for(i=1;i<s.handles;i++)t.push(e);t.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==s.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");t=e}s.connect=t}function Yv(s,e){switch(e){case"horizontal":s.ort=0;break;case"vertical":s.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function pd(s,e){if(!ct(e))throw new Error("noUiSlider: 'margin' option must be numeric.");e!==0&&(s.margin=s.spectrum.getDistance(e))}function Zv(s,e){if(!ct(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(s.limit=s.spectrum.getDistance(e),!s.limit||s.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function Qv(s,e){var t;if(!ct(e)&&!Array.isArray(e))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&!(e.length===2||ct(e[0])||ct(e[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(e!==0){for(Array.isArray(e)||(e=[e,e]),s.padding=[s.spectrum.getDistance(e[0]),s.spectrum.getDistance(e[1])],t=0;t<s.spectrum.xNumSteps.length-1;t++)if(s.padding[0][t]<0||s.padding[1][t]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var i=e[0]+e[1],n=s.spectrum.xVal[0],r=s.spectrum.xVal[s.spectrum.xVal.length-1];if(i/(r-n)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function ew(s,e){switch(e){case"ltr":s.dir=0;break;case"rtl":s.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function tw(s,e){if(typeof e!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var t=e.indexOf("tap")>=0,i=e.indexOf("drag")>=0,n=e.indexOf("fixed")>=0,r=e.indexOf("snap")>=0,o=e.indexOf("hover")>=0,a=e.indexOf("unconstrained")>=0,l=e.indexOf("drag-all")>=0,c=e.indexOf("smooth-steps")>=0;if(n){if(s.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");pd(s,s.start[1]-s.start[0])}if(a&&(s.margin||s.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");s.events={tap:t||r,drag:i,dragAll:l,smoothSteps:c,fixed:n,snap:r,hover:o,unconstrained:a}}function iw(s,e){if(e!==!1)if(e===!0||en(e)){s.tooltips=[];for(var t=0;t<s.handles;t++)s.tooltips.push(e)}else{if(e=Mn(e),e.length!==s.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.forEach(function(i){if(typeof i!="boolean"&&!en(i))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),s.tooltips=e}}function sw(s,e){if(e.length!==s.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");s.handleAttributes=e}function nw(s,e){if(!en(e))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");s.ariaFormat=e}function rw(s,e){if(!Tv(e))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");s.format=e}function ow(s,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");s.keyboardSupport=e}function aw(s,e){s.documentElement=e}function lw(s,e){if(typeof e!="string"&&e!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");s.cssPrefix=e}function uw(s,e){if(typeof e!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof s.cssPrefix=="string"?(s.cssClasses={},Object.keys(e).forEach(function(t){s.cssClasses[t]=s.cssPrefix+e[t]})):s.cssClasses=e}function gd(s){var e={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:Xa,format:Xa},t={step:{r:!1,t:Vv},keyboardPageMultiplier:{r:!1,t:jv},keyboardMultiplier:{r:!1,t:Wv},keyboardDefaultStep:{r:!1,t:Uv},start:{r:!0,t:qv},connect:{r:!0,t:Jv},direction:{r:!0,t:ew},snap:{r:!1,t:$v},animate:{r:!1,t:Kv},animationDuration:{r:!1,t:Xv},range:{r:!0,t:Gv},orientation:{r:!1,t:Yv},margin:{r:!1,t:pd},limit:{r:!1,t:Zv},padding:{r:!1,t:Qv},behaviour:{r:!0,t:tw},ariaFormat:{r:!1,t:nw},format:{r:!1,t:rw},tooltips:{r:!1,t:iw},keyboardSupport:{r:!0,t:ow},documentElement:{r:!1,t:aw},cssPrefix:{r:!0,t:lw},cssClasses:{r:!0,t:uw},handleAttributes:{r:!1,t:sw}},i={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:Nv,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};s.format&&!s.ariaFormat&&(s.ariaFormat=s.format),Object.keys(t).forEach(function(l){if(!Tr(s[l])&&i[l]===void 0){if(t[l].r)throw new Error("noUiSlider: '"+l+"' is required.");return}t[l].t(e,Tr(s[l])?s[l]:i[l])}),e.pips=s.pips;var n=document.createElement("div"),r=n.style.msTransform!==void 0,o=n.style.transform!==void 0;e.transformRule=o?"transform":r?"msTransform":"webkitTransform";var a=[["left","top"],["right","bottom"]];return e.style=a[e.dir][e.ort],e}function dw(s,e,t){var i=Mv(),n=Dv(),r=n&&Ov(),o=s,a,l,c,p,v,y=e.spectrum,_=[],T=[],S=[],L=0,A={},F=s.ownerDocument,j=e.documentElement||F.documentElement,B=F.body,V=F.dir==="rtl"||e.ort===1?0:100;function q(E,R){var O=F.createElement("div");return R&&Ue(O,R),E.appendChild(O),O}function ie(E,R){var O=q(E,e.cssClasses.origin),H=q(O,e.cssClasses.handle);if(q(H,e.cssClasses.touchArea),H.setAttribute("data-handle",String(R)),e.keyboardSupport&&(H.setAttribute("tabindex","0"),H.addEventListener("keydown",function(W){return Ve(W,R)})),e.handleAttributes!==void 0){var N=e.handleAttributes[R];Object.keys(N).forEach(function(W){H.setAttribute(W,N[W])})}return H.setAttribute("role","slider"),H.setAttribute("aria-orientation",e.ort?"vertical":"horizontal"),R===0?Ue(H,e.cssClasses.handleLower):R===e.handles-1&&Ue(H,e.cssClasses.handleUpper),O.handle=H,O}function ee(E,R){return R?q(E,e.cssClasses.connect):!1}function be(E,R){var O=q(R,e.cssClasses.connects);l=[],c=[],c.push(ee(O,E[0]));for(var H=0;H<e.handles;H++)l.push(ie(R,H)),S[H]=H,c.push(ee(O,E[H+1]))}function ve(E){Ue(E,e.cssClasses.target),e.dir===0?Ue(E,e.cssClasses.ltr):Ue(E,e.cssClasses.rtl),e.ort===0?Ue(E,e.cssClasses.horizontal):Ue(E,e.cssClasses.vertical);var R=getComputedStyle(E).direction;return R==="rtl"?Ue(E,e.cssClasses.textDirectionRtl):Ue(E,e.cssClasses.textDirectionLtr),q(E,e.cssClasses.base)}function ye(E,R){return!e.tooltips||!e.tooltips[R]?!1:q(E.firstChild,e.cssClasses.tooltip)}function Q(){return o.hasAttribute("disabled")}function Re(E){var R=l[E];return R.hasAttribute("disabled")}function je(E){E!=null?(l[E].setAttribute("disabled",""),l[E].handle.removeAttribute("tabindex")):(o.setAttribute("disabled",""),l.forEach(function(R){R.handle.removeAttribute("tabindex")}))}function et(E){E!=null?(l[E].removeAttribute("disabled"),l[E].handle.setAttribute("tabindex","0")):(o.removeAttribute("disabled"),l.forEach(function(R){R.removeAttribute("disabled"),R.handle.setAttribute("tabindex","0")}))}function Le(){v&&(Fe("update"+Nt.tooltips),v.forEach(function(E){E&&Ga(E)}),v=null)}function d(){Le(),v=l.map(ye),Ke("update"+Nt.tooltips,function(E,R,O){if(!(!v||!e.tooltips)&&v[R]!==!1){var H=E[R];e.tooltips[R]!==!0&&(H=e.tooltips[R].to(O[R])),v[R].innerHTML=H}})}function f(){Fe("update"+Nt.aria),Ke("update"+Nt.aria,function(E,R,O,H,N){S.forEach(function(W){var K=l[W],G=ue(T,W,0,!0,!0,!0),Ce=ue(T,W,100,!0,!0,!0),we=N[W],X=String(e.ariaFormat.to(O[W]));G=y.fromStepping(G).toFixed(1),Ce=y.fromStepping(Ce).toFixed(1),we=y.fromStepping(we).toFixed(1),K.children[0].setAttribute("aria-valuemin",G),K.children[0].setAttribute("aria-valuemax",Ce),K.children[0].setAttribute("aria-valuenow",we),K.children[0].setAttribute("aria-valuetext",X)})})}function w(E){if(E.mode===Vt.Range||E.mode===Vt.Steps)return y.xVal;if(E.mode===Vt.Count){if(E.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var R=E.values-1,O=100/R,H=[];R--;)H[R]=R*O;return H.push(100),b(H,E.stepped)}return E.mode===Vt.Positions?b(E.values,E.stepped):E.mode===Vt.Values?E.stepped?E.values.map(function(N){return y.fromStepping(y.getStep(y.toStepping(N)))}):E.values:[]}function b(E,R){return E.map(function(O){return y.fromStepping(R?y.getStep(O):O)})}function k(E){function R(we,X){return Number((we+X).toFixed(7))}var O=w(E),H={},N=y.xVal[0],W=y.xVal[y.xVal.length-1],K=!1,G=!1,Ce=0;return O=kv(O.slice().sort(function(we,X){return we-X})),O[0]!==N&&(O.unshift(N),K=!0),O[O.length-1]!==W&&(O.push(W),G=!0),O.forEach(function(we,X){var ge,re,Ee,he=we,ce=O[X+1],Oe,wi,Tt,We,ks,yi,Gi,Ci=E.mode===Vt.Steps;for(Ci&&(ge=y.xNumSteps[X]),ge||(ge=ce-he),ce===void 0&&(ce=he),ge=Math.max(ge,1e-7),re=he;re<=ce;re=R(re,ge)){for(Oe=y.toStepping(re),wi=Oe-Ce,ks=wi/(E.density||1),yi=Math.round(ks),Gi=wi/yi,Ee=1;Ee<=yi;Ee+=1)Tt=Ce+Ee*Gi,H[Tt.toFixed(5)]=[y.fromStepping(Tt),0];We=O.indexOf(re)>-1?Ge.LargeValue:Ci?Ge.SmallValue:Ge.NoValue,!X&&K&&re!==ce&&(We=0),re===ce&&G||(H[Oe.toFixed(5)]=[re,We]),Ce=Oe}}),H}function D(E,R,O){var H,N,W=F.createElement("div"),K=(H={},H[Ge.None]="",H[Ge.NoValue]=e.cssClasses.valueNormal,H[Ge.LargeValue]=e.cssClasses.valueLarge,H[Ge.SmallValue]=e.cssClasses.valueSub,H),G=(N={},N[Ge.None]="",N[Ge.NoValue]=e.cssClasses.markerNormal,N[Ge.LargeValue]=e.cssClasses.markerLarge,N[Ge.SmallValue]=e.cssClasses.markerSub,N),Ce=[e.cssClasses.valueHorizontal,e.cssClasses.valueVertical],we=[e.cssClasses.markerHorizontal,e.cssClasses.markerVertical];Ue(W,e.cssClasses.pips),Ue(W,e.ort===0?e.cssClasses.pipsHorizontal:e.cssClasses.pipsVertical);function X(re,Ee){var he=Ee===e.cssClasses.value,ce=he?Ce:we,Oe=he?K:G;return Ee+" "+ce[e.ort]+" "+Oe[re]}function ge(re,Ee,he){if(he=R?R(Ee,he):he,he!==Ge.None){var ce=q(W,!1);ce.className=X(he,e.cssClasses.marker),ce.style[e.style]=re+"%",he>Ge.NoValue&&(ce=q(W,!1),ce.className=X(he,e.cssClasses.value),ce.setAttribute("data-value",String(Ee)),ce.style[e.style]=re+"%",ce.innerHTML=String(O.to(Ee)))}}return Object.keys(E).forEach(function(re){ge(re,E[re][0],E[re][1])}),W}function M(){p&&(Ga(p),p=null)}function I(E){M();var R=k(E),O=E.filter,H=E.format||{to:function(N){return String(Math.round(N))}};return p=o.appendChild(D(R,O,H)),p}function x(){var E=a.getBoundingClientRect(),R="offset"+["Width","Height"][e.ort];return e.ort===0?E.width||a[R]:E.height||a[R]}function $(E,R,O,H){var N=function(K){var G=J(K,H.pageOffset,H.target||R);if(!G||Q()&&!H.doNotReject||Av(o,e.cssClasses.tap)&&!H.doNotReject||E===i.start&&G.buttons!==void 0&&G.buttons>1||H.hover&&G.buttons)return!1;r||G.preventDefault(),G.calcPoint=G.points[e.ort],O(G,H)},W=[];return E.split(" ").forEach(function(K){R.addEventListener(K,N,r?{passive:!0}:!1),W.push([K,N])}),W}function J(E,R,O){var H=E.type.indexOf("touch")===0,N=E.type.indexOf("mouse")===0,W=E.type.indexOf("pointer")===0,K=0,G=0;if(E.type.indexOf("MSPointer")===0&&(W=!0),E.type==="mousedown"&&!E.buttons&&!E.touches)return!1;if(H){var Ce=function(ge){var re=ge.target;return re===O||O.contains(re)||E.composed&&E.composedPath().shift()===O};if(E.type==="touchstart"){var we=Array.prototype.filter.call(E.touches,Ce);if(we.length>1)return!1;K=we[0].pageX,G=we[0].pageY}else{var X=Array.prototype.find.call(E.changedTouches,Ce);if(!X)return!1;K=X.pageX,G=X.pageY}}return R=R||fd(F),(N||W)&&(K=E.clientX+R.x,G=E.clientY+R.y),E.pageOffset=R,E.points=[K,G],E.cursor=N||W,E}function Z(E){var R=E-Rv(a,e.ort),O=R*100/x();return O=Ka(O),e.dir?100-O:O}function se(E){var R=100,O=!1;return l.forEach(function(H,N){if(!Re(N)){var W=T[N],K=Math.abs(W-E),G=K===100&&R===100,Ce=K<R,we=K<=R&&E>W;(Ce||we||G)&&(O=N,R=K)}}),O}function Y(E,R){E.type==="mouseout"&&E.target.nodeName==="HTML"&&E.relatedTarget===null&&pe(E,R)}function de(E,R){if(navigator.appVersion.indexOf("MSIE 9")===-1&&E.buttons===0&&R.buttonsProperty!==0)return pe(E,R);var O=(e.dir?-1:1)*(E.calcPoint-R.startCalcPoint),H=O*100/R.baseSize;Dt(O>0,H,R.locations,R.handleNumbers,R.connect)}function pe(E,R){R.handle&&($s(R.handle,e.cssClasses.active),L-=1),R.listeners.forEach(function(O){j.removeEventListener(O[0],O[1])}),L===0&&($s(o,e.cssClasses.drag),Et(),E.cursor&&(B.style.cursor="",B.removeEventListener("selectstart",qa))),e.events.smoothSteps&&(R.handleNumbers.forEach(function(O){Xe(O,T[O],!0,!0,!1,!1)}),R.handleNumbers.forEach(function(O){ne("update",O)})),R.handleNumbers.forEach(function(O){ne("change",O),ne("set",O),ne("end",O)})}function ae(E,R){if(!R.handleNumbers.some(Re)){var O;if(R.handleNumbers.length===1){var H=l[R.handleNumbers[0]];O=H.children[0],L+=1,Ue(O,e.cssClasses.active)}E.stopPropagation();var N=[],W=$(i.move,j,de,{target:E.target,handle:O,connect:R.connect,listeners:N,startCalcPoint:E.calcPoint,baseSize:x(),pageOffset:E.pageOffset,handleNumbers:R.handleNumbers,buttonsProperty:E.buttons,locations:T.slice()}),K=$(i.end,j,pe,{target:E.target,handle:O,listeners:N,doNotReject:!0,handleNumbers:R.handleNumbers}),G=$("mouseout",j,Y,{target:E.target,handle:O,listeners:N,doNotReject:!0,handleNumbers:R.handleNumbers});N.push.apply(N,W.concat(K,G)),E.cursor&&(B.style.cursor=getComputedStyle(E.target).cursor,l.length>1&&Ue(o,e.cssClasses.drag),B.addEventListener("selectstart",qa,!1)),R.handleNumbers.forEach(function(Ce){ne("start",Ce)})}}function Me(E){E.stopPropagation();var R=Z(E.calcPoint),O=se(R);O!==!1&&(e.events.snap||$a(o,e.cssClasses.tap,e.animationDuration),Xe(O,R,!0,!0),Et(),ne("slide",O,!0),ne("update",O,!0),e.events.snap?ae(E,{handleNumbers:[O]}):(ne("change",O,!0),ne("set",O,!0)))}function xe(E){var R=Z(E.calcPoint),O=y.getStep(R),H=y.fromStepping(O);Object.keys(A).forEach(function(N){N.split(".")[0]==="hover"&&A[N].forEach(function(W){W.call(Ht,H)})})}function Ve(E,R){if(Q()||Re(R))return!1;var O=["Left","Right"],H=["Down","Up"],N=["PageDown","PageUp"],W=["Home","End"];e.dir&&!e.ort?O.reverse():e.ort&&!e.dir&&(H.reverse(),N.reverse());var K=E.key.replace("Arrow",""),G=K===N[0],Ce=K===N[1],we=K===H[0]||K===O[0]||G,X=K===H[1]||K===O[1]||Ce,ge=K===W[0],re=K===W[1];if(!we&&!X&&!ge&&!re)return!0;E.preventDefault();var Ee;if(X||we){var he=we?0:1,ce=Wi(R),Oe=ce[he];if(Oe===null)return!1;Oe===!1&&(Oe=y.getDefaultStep(T[R],we,e.keyboardDefaultStep)),Ce||G?Oe*=e.keyboardPageMultiplier:Oe*=e.keyboardMultiplier,Oe=Math.max(Oe,1e-7),Oe=(we?-1:1)*Oe,Ee=_[R]+Oe}else re?Ee=e.spectrum.xVal[e.spectrum.xVal.length-1]:Ee=e.spectrum.xVal[0];return Xe(R,y.toStepping(Ee),!0,!0),ne("slide",R),ne("update",R),ne("change",R),ne("set",R),!1}function Te(E){E.fixed||l.forEach(function(R,O){$(i.start,R.children[0],ae,{handleNumbers:[O]})}),E.tap&&$(i.start,a,Me,{}),E.hover&&$(i.move,a,xe,{hover:!0}),E.drag&&c.forEach(function(R,O){if(!(R===!1||O===0||O===c.length-1)){var H=l[O-1],N=l[O],W=[R],K=[H,N],G=[O-1,O];Ue(R,e.cssClasses.draggable),E.fixed&&(W.push(H.children[0]),W.push(N.children[0])),E.dragAll&&(K=l,G=S),W.forEach(function(Ce){$(i.start,Ce,ae,{handles:K,handleNumbers:G,connect:R})})}})}function Ke(E,R){A[E]=A[E]||[],A[E].push(R),E.split(".")[0]==="update"&&l.forEach(function(O,H){ne("update",H)})}function ze(E){return E===Nt.aria||E===Nt.tooltips}function Fe(E){var R=E&&E.split(".")[0],O=R?E.substring(R.length):E;Object.keys(A).forEach(function(H){var N=H.split(".")[0],W=H.substring(N.length);(!R||R===N)&&(!O||O===W)&&(!ze(W)||O===W)&&delete A[H]})}function ne(E,R,O){Object.keys(A).forEach(function(H){var N=H.split(".")[0];E===N&&A[H].forEach(function(W){W.call(Ht,_.map(e.format.to),R,_.slice(),O||!1,T.slice(),Ht)})})}function ue(E,R,O,H,N,W,K){var G;return l.length>1&&!e.events.unconstrained&&(H&&R>0&&(G=y.getAbsoluteDistance(E[R-1],e.margin,!1),O=Math.max(O,G)),N&&R<l.length-1&&(G=y.getAbsoluteDistance(E[R+1],e.margin,!0),O=Math.min(O,G))),l.length>1&&e.limit&&(H&&R>0&&(G=y.getAbsoluteDistance(E[R-1],e.limit,!1),O=Math.min(O,G)),N&&R<l.length-1&&(G=y.getAbsoluteDistance(E[R+1],e.limit,!0),O=Math.max(O,G))),e.padding&&(R===0&&(G=y.getAbsoluteDistance(0,e.padding[0],!1),O=Math.max(O,G)),R===l.length-1&&(G=y.getAbsoluteDistance(100,e.padding[1],!0),O=Math.min(O,G))),K||(O=y.getStep(O)),O=Ka(O),O===E[R]&&!W?!1:O}function nt(E,R){var O=e.ort;return(O?R:E)+", "+(O?E:R)}function Dt(E,R,O,H,N){var W=O.slice(),K=H[0],G=e.events.smoothSteps,Ce=[!E,E],we=[E,!E];H=H.slice(),E&&H.reverse(),H.length>1?H.forEach(function(ge,re){var Ee=ue(W,ge,W[ge]+R,Ce[re],we[re],!1,G);Ee===!1?R=0:(R=Ee-W[ge],W[ge]=Ee)}):Ce=we=[!0];var X=!1;H.forEach(function(ge,re){X=Xe(ge,O[ge]+R,Ce[re],we[re],!1,G)||X}),X&&(H.forEach(function(ge){ne("update",ge),ne("slide",ge)}),N!=null&&ne("drag",K))}function Pt(E,R){return e.dir?100-E-R:E}function It(E,R){T[E]=R,_[E]=y.fromStepping(R);var O=Pt(R,0)-V,H="translate("+nt(O+"%","0")+")";l[E].style[e.transformRule]=H,Zt(E),Zt(E+1)}function Et(){S.forEach(function(E){var R=T[E]>50?-1:1,O=3+(l.length+R*E);l[E].style.zIndex=String(O)})}function Xe(E,R,O,H,N,W){return N||(R=ue(T,E,R,O,H,!1,W)),R===!1?!1:(It(E,R),!0)}function Zt(E){if(c[E]){var R=0,O=100;E!==0&&(R=T[E-1]),E!==c.length-1&&(O=T[E]);var H=O-R,N="translate("+nt(Pt(R,H)+"%","0")+")",W="scale("+nt(H/100,"1")+")";c[E].style[e.transformRule]=N+" "+W}}function tt(E,R){return E===null||E===!1||E===void 0||(typeof E=="number"&&(E=String(E)),E=e.format.from(E),E!==!1&&(E=y.toStepping(E)),E===!1||isNaN(E))?T[R]:E}function dt(E,R,O){var H=Mn(E),N=T[0]===void 0;R=R===void 0?!0:R,e.animate&&!N&&$a(o,e.cssClasses.tap,e.animationDuration),S.forEach(function(G){Xe(G,tt(H[G],G),!0,!1,O)});var W=S.length===1?0:1;if(N&&y.hasNoSize()&&(O=!0,T[0]=0,S.length>1)){var K=100/(S.length-1);S.forEach(function(G){T[G]=G*K})}for(;W<S.length;++W)S.forEach(function(G){Xe(G,T[G],!0,!0,O)});Et(),S.forEach(function(G){ne("update",G),H[G]!==null&&R&&ne("set",G)})}function xt(E){dt(e.start,E)}function Pn(E,R,O,H){if(E=Number(E),!(E>=0&&E<S.length))throw new Error("noUiSlider: invalid handle number, got: "+E);Xe(E,tt(R,E),!0,!0,H),ne("update",E),O&&ne("set",E)}function _t(E){if(E===void 0&&(E=!1),E)return _.length===1?_[0]:_.slice(0);var R=_.map(e.format.to);return R.length===1?R[0]:R}function Qt(){for(Fe(Nt.aria),Fe(Nt.tooltips),Object.keys(e.cssClasses).forEach(function(E){$s(o,e.cssClasses[E])});o.firstChild;)o.removeChild(o.firstChild);delete o.noUiSlider}function Wi(E){var R=T[E],O=y.getNearbySteps(R),H=_[E],N=O.thisStep.step,W=null;if(e.snap)return[H-O.stepBefore.startValue||null,O.stepAfter.startValue-H||null];N!==!1&&H+N>O.stepAfter.startValue&&(N=O.stepAfter.startValue-H),H>O.thisStep.startValue?W=O.thisStep.step:O.stepBefore.step===!1?W=!1:W=H-O.stepBefore.highestStep,R===100?N=null:R===0&&(W=null);var K=y.countStepDecimals();return N!==null&&N!==!1&&(N=Number(N.toFixed(K))),W!==null&&W!==!1&&(W=Number(W.toFixed(K))),[W,N]}function vi(){return S.map(Wi)}function Ui(E,R){var O=_t(),H=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];H.forEach(function(W){E[W]!==void 0&&(t[W]=E[W])});var N=gd(t);H.forEach(function(W){E[W]!==void 0&&(e[W]=N[W])}),y=N.spectrum,e.margin=N.margin,e.limit=N.limit,e.padding=N.padding,e.pips?I(e.pips):M(),e.tooltips?d():Le(),T=[],dt(Tr(E.start)?E.start:O,R)}function In(){a=ve(o),be(e.connect,a),Te(e.events),dt(e.start),e.pips&&I(e.pips),e.tooltips&&d(),f()}In();var Ht={destroy:Qt,steps:vi,on:Ke,off:Fe,get:_t,set:dt,setHandle:Pn,reset:xt,disable:je,enable:et,__moveHandles:function(E,R,O){Dt(E,R,T,O)},options:t,updateOptions:Ui,target:o,removePips:M,removeTooltips:Le,getPositions:function(){return T.slice()},getTooltips:function(){return v},getOrigins:function(){return l},pips:I};return Ht}function hw(s,e){if(!s||!s.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+s);if(s.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var t=gd(e),i=dw(s,t,e);return s.noUiSlider=i,i}var md=(s=>(s.Range="range",s.Steps="steps",s.Positions="positions",s.Count="count",s.Values="values",s))(md||{}),bd={exports:{}};(function(s,e){(function(t,i){s.exports=i()})(kt,function(){function t(d,f){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);f&&(b=b.filter(function(k){return Object.getOwnPropertyDescriptor(d,k).enumerable})),w.push.apply(w,b)}return w}function i(d){for(var f=1;f<arguments.length;f++){var w=arguments[f]!=null?arguments[f]:{};f%2?t(Object(w),!0).forEach(function(b){n(d,b,w[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):t(Object(w)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(w,b))})}return d}function n(d,f,w){return(f=function(b){var k=function(D,M){if(typeof D!="object"||D===null)return D;var I=D[Symbol.toPrimitive];if(I!==void 0){var x=I.call(D,M||"default");if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(D)}(b,"string");return typeof k=="symbol"?k:String(k)}(f))in d?Object.defineProperty(d,f,{value:w,enumerable:!0,configurable:!0,writable:!0}):d[f]=w,d}var r="";const o=(d,f,w,b)=>(d=""+d,f=""+f,b&&(d=d.trim(),f=f.trim()),w?d==f:d.toLowerCase()==f.toLowerCase()),a=(d,f)=>d&&Array.isArray(d)&&d.map(w=>l(w,f));function l(d,f){var w,b={};for(w in d)f.indexOf(w)<0&&(b[w]=d[w]);return b}function c(d){var f=document.createElement("div");return d.replace(/\&#?[0-9a-z]+;/gi,function(w){return f.innerHTML=w,f.innerText})}function p(d){return new DOMParser().parseFromString(d.trim(),"text/html").body.firstElementChild}function v(d,f){for(f=f||"previous";d=d[f+"Sibling"];)if(d.nodeType==3)return d}function y(d){return typeof d=="string"?d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/`|'/g,"&#039;"):d}function _(d){var f=Object.prototype.toString.call(d).split(" ")[1].slice(0,-1);return d===Object(d)&&f!="Array"&&f!="Function"&&f!="RegExp"&&f!="HTMLUnknownElement"}function T(d,f,w){function b(k,D){for(var M in D)if(D.hasOwnProperty(M)){if(_(D[M])){_(k[M])?b(k[M],D[M]):k[M]=Object.assign({},D[M]);continue}if(Array.isArray(D[M])){k[M]=Object.assign([],D[M]);continue}k[M]=D[M]}}return d instanceof Object||(d={}),b(d,f),w&&b(d,w),d}function S(){const d=[],f={};for(let w of arguments)for(let b of w)_(b)?f[b.value]||(d.push(b),f[b.value]=1):d.includes(b)||d.push(b);return d}function L(d){return String.prototype.normalize?typeof d=="string"?d.normalize("NFD").replace(/[\u0300-\u036f]/g,""):void 0:d}var A=()=>/(?=.*chrome)(?=.*android)/i.test(navigator.userAgent);function F(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,d=>(d^crypto.getRandomValues(new Uint8Array(1))[0]&15>>d/4).toString(16))}function j(d){return d&&d.classList&&d.classList.contains(this.settings.classNames.tag)}function B(d,f){var w=window.getSelection();return f=f||w.getRangeAt(0),typeof d=="string"&&(d=document.createTextNode(d)),f&&(f.deleteContents(),f.insertNode(d)),d}function V(d,f,w){return d?(f&&(d.__tagifyTagData=w?f:T({},d.__tagifyTagData||{},f)),d.__tagifyTagData):(console.warn("tag element doesn't exist",d,f),f)}function q(d){if(d&&d.parentNode){var f=d,w=window.getSelection(),b=w.getRangeAt(0);w.rangeCount&&(b.setStartAfter(f),b.collapse(!0),w.removeAllRanges(),w.addRange(b))}}function ie(d,f){d.forEach(w=>{if(V(w.previousSibling)||!w.previousSibling){var b=document.createTextNode(r);w.before(b),f&&q(b)}})}var ee={delimiters:",",pattern:null,tagTextProp:"value",maxTags:1/0,callbacks:{},addTagOnBlur:!0,onChangeAfterBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,userInput:!0,keepInvalidTags:!1,createInvalidTags:!0,mixTagsAllowedAfter:/,|\.|\:|\s/,mixTagsInterpolator:["[[","]]"],backspace:!0,skipInvalid:!1,pasteAsTags:!0,editTags:{clicks:2,keepInvalid:!0},transformTag:()=>{},trim:!0,a11y:{focusableTags:!1},mixMode:{insertAfterTag:""},autoComplete:{enabled:!0,rightKey:!1},classNames:{namespace:"tagify",mixMode:"tagify--mix",selectMode:"tagify--select",input:"tagify__input",focus:"tagify--focus",tagNoAnimation:"tagify--noAnim",tagInvalid:"tagify--invalid",tagNotAllowed:"tagify--notAllowed",scopeLoading:"tagify--loading",hasMaxTags:"tagify--hasMaxTags",hasNoTags:"tagify--noTags",empty:"tagify--empty",inputInvalid:"tagify__input--invalid",dropdown:"tagify__dropdown",dropdownWrapper:"tagify__dropdown__wrapper",dropdownHeader:"tagify__dropdown__header",dropdownFooter:"tagify__dropdown__footer",dropdownItem:"tagify__dropdown__item",dropdownItemActive:"tagify__dropdown__item--active",dropdownItemHidden:"tagify__dropdown__item--hidden",dropdownInital:"tagify__dropdown--initial",tag:"tagify__tag",tagText:"tagify__tag-text",tagX:"tagify__tag__removeBtn",tagLoading:"tagify__tag--loading",tagEditing:"tagify__tag--editable",tagFlash:"tagify__tag--flash",tagHide:"tagify__tag--hide"},dropdown:{classname:"",enabled:2,maxItems:10,searchKeys:["value","searchBy"],fuzzySearch:!0,caseSensitive:!1,accentedSearch:!0,includeSelectedTags:!1,highlightFirst:!1,closeOnSelect:!0,clearOnSelect:!0,position:"all",appendTarget:null},hooks:{beforeRemoveTag:()=>Promise.resolve(),beforePaste:()=>Promise.resolve(),suggestionClick:()=>Promise.resolve()}};function be(){this.dropdown={};for(let d in this._dropdown)this.dropdown[d]=typeof this._dropdown[d]=="function"?this._dropdown[d].bind(this):this._dropdown[d];this.dropdown.refs()}var ve={refs(){this.DOM.dropdown=this.parseTemplate("dropdown",[this.settings]),this.DOM.dropdown.content=this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-wrapper']")},getHeaderRef(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-header']")},getFooterRef(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-footer']")},getAllSuggestionsRefs(){return[...this.DOM.dropdown.content.querySelectorAll(this.settings.classNames.dropdownItemSelector)]},show(d){var f,w,b,k=this.settings,D=k.mode=="mix"&&!k.enforceWhitelist,M=!k.whitelist||!k.whitelist.length,I=k.dropdown.position=="manual";if(d=d===void 0?this.state.inputText:d,!(M&&!D&&!k.templates.dropdownItemNoMatch||k.dropdown.enable===!1||this.state.isLoading||this.settings.readonly)){if(clearTimeout(this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems(d),d&&!this.suggestedListItems.length&&(this.trigger("dropdown:noMatch",d),k.templates.dropdownItemNoMatch&&(b=k.templates.dropdownItemNoMatch.call(this,{value:d}))),!b){if(this.suggestedListItems.length)d&&D&&!this.state.editing.scope&&!o(this.suggestedListItems[0].value,d)&&this.suggestedListItems.unshift({value:d});else{if(!d||!D||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide();this.suggestedListItems=[{value:d}]}w=""+(_(f=this.suggestedListItems[0])?f.value:f),k.autoComplete&&w&&w.indexOf(d)==0&&this.input.autocomplete.suggest.call(this,f)}this.dropdown.fill(b),k.dropdown.highlightFirst&&this.dropdown.highlightOption(this.DOM.dropdown.content.querySelector(k.classNames.dropdownItemSelector)),this.state.dropdown.visible||setTimeout(this.dropdown.events.binding.bind(this)),this.state.dropdown.visible=d||!0,this.state.dropdown.query=d,this.setStateSelection(),I||setTimeout(()=>{this.dropdown.position(),this.dropdown.render()}),setTimeout(()=>{this.trigger("dropdown:show",this.DOM.dropdown)})}},hide(d){var f=this.DOM,w=f.scope,b=f.dropdown,k=this.settings.dropdown.position=="manual"&&!d;if(b&&document.body.contains(b)&&!k)return window.removeEventListener("resize",this.dropdown.position),this.dropdown.events.binding.call(this,!1),w.setAttribute("aria-expanded",!1),b.parentNode.removeChild(b),setTimeout(()=>{this.state.dropdown.visible=!1},100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger("dropdown:hide",b),this},toggle(d){this.dropdown[this.state.dropdown.visible&&!d?"hide":"show"]()},render(){var d,f,w,b=(d=this.DOM.dropdown,(w=d.cloneNode(!0)).style.cssText="position:fixed; top:-9999px; opacity:0",document.body.appendChild(w),f=w.clientHeight,w.parentNode.removeChild(w),f),k=this.settings;return typeof k.dropdown.enabled=="number"&&k.dropdown.enabled>=0?(this.DOM.scope.setAttribute("aria-expanded",!0),document.body.contains(this.DOM.dropdown)||(this.DOM.dropdown.classList.add(k.classNames.dropdownInital),this.dropdown.position(b),k.dropdown.appendTarget.appendChild(this.DOM.dropdown),setTimeout(()=>this.DOM.dropdown.classList.remove(k.classNames.dropdownInital))),this):this},fill(d){d=typeof d=="string"?d:this.dropdown.createListHTML(d||this.suggestedListItems);var f,w=this.settings.templates.dropdownContent.call(this,d);this.DOM.dropdown.content.innerHTML=(f=w)?f.replace(/\>[\r\n ]+\</g,"><").split(/>\s+</).join("><").trim():""},fillHeaderFooter(){var d=this.dropdown.filterListItems(this.state.dropdown.query),f=this.parseTemplate("dropdownHeader",[d]),w=this.parseTemplate("dropdownFooter",[d]),b=this.dropdown.getHeaderRef(),k=this.dropdown.getFooterRef();f&&(b==null||b.parentNode.replaceChild(f,b)),w&&(k==null||k.parentNode.replaceChild(w,k))},refilter(d){d=d||this.state.dropdown.query||"",this.suggestedListItems=this.dropdown.filterListItems(d),this.dropdown.fill(),this.suggestedListItems.length||this.dropdown.hide(),this.trigger("dropdown:updated",this.DOM.dropdown)},position(d){var f=this.settings.dropdown;if(f.position!="manual"){var w,b,k,D,M,I,x=this.DOM.dropdown,$=f.placeAbove,J=f.appendTarget===document.body,Z=J?window.pageYOffset:f.appendTarget.scrollTop,se=document.fullscreenElement||document.webkitFullscreenElement||document.documentElement,Y=se.clientHeight,de=Math.max(se.clientWidth||0,window.innerWidth||0)>480?f.position:"all",pe=this.DOM[de=="input"?"input":"scope"];if(d=d||x.clientHeight,this.state.dropdown.visible){if(de=="text"?(k=(w=function(){const ae=document.getSelection();if(ae.rangeCount){const Me=ae.getRangeAt(0),xe=Me.startContainer,Ve=Me.startOffset;let Te,Ke;if(Ve>0)return Ke=document.createRange(),Ke.setStart(xe,Ve-1),Ke.setEnd(xe,Ve),Te=Ke.getBoundingClientRect(),{left:Te.right,top:Te.top,bottom:Te.bottom};if(xe.getBoundingClientRect)return xe.getBoundingClientRect()}return{left:-9999,top:-9999}}()).bottom,b=w.top,D=w.left,M="auto"):(I=function(ae){for(var Me=0,xe=0;ae&&ae!=se;)Me+=ae.offsetLeft||0,xe+=ae.offsetTop||0,ae=ae.parentNode;return{left:Me,top:xe}}(f.appendTarget),b=(w=pe.getBoundingClientRect()).top-I.top,k=w.bottom-1-I.top,D=w.left-I.left,M=w.width+"px"),!J){let ae=function(){for(var Me=0,xe=f.appendTarget.parentNode;xe;)Me+=xe.scrollTop||0,xe=xe.parentNode;return Me}();b+=ae,k+=ae}b=Math.floor(b),k=Math.ceil(k),$=$===void 0?Y-w.bottom<d:$,x.style.cssText="left:"+(D+window.pageXOffset)+"px; width:"+M+";"+($?"top: "+(b+Z)+"px":"top: "+(k+Z)+"px"),x.setAttribute("placement",$?"top":"bottom"),x.setAttribute("position",de)}}},events:{binding(){let d=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];var f=this.dropdown.events.callbacks,w=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this,null),onKeyDown:f.onKeyDown.bind(this),onMouseOver:f.onMouseOver.bind(this),onMouseLeave:f.onMouseLeave.bind(this),onClick:f.onClick.bind(this),onScroll:f.onScroll.bind(this)},b=d?"addEventListener":"removeEventListener";this.settings.dropdown.position!="manual"&&(document[b]("scroll",w.position,!0),window[b]("resize",w.position),window[b]("keydown",w.onKeyDown)),this.DOM.dropdown[b]("mouseover",w.onMouseOver),this.DOM.dropdown[b]("mouseleave",w.onMouseLeave),this.DOM.dropdown[b]("mousedown",w.onClick),this.DOM.dropdown.content[b]("scroll",w.onScroll)},callbacks:{onKeyDown(d){if(this.state.hasFocus&&!this.state.composing){var f=this.DOM.dropdown.querySelector(this.settings.classNames.dropdownItemActiveSelector),w=this.dropdown.getSuggestionDataByNode(f);switch(d.key){case"ArrowDown":case"ArrowUp":case"Down":case"Up":d.preventDefault();var b=this.dropdown.getAllSuggestionsRefs(),k=d.key=="ArrowUp"||d.key=="Up";f&&(f=this.dropdown.getNextOrPrevOption(f,!k)),f&&f.matches(this.settings.classNames.dropdownItemSelector)||(f=b[k?b.length-1:0]),this.dropdown.highlightOption(f,!0);break;case"Escape":case"Esc":this.dropdown.hide();break;case"ArrowRight":if(this.state.actions.ArrowLeft)return;case"Tab":if(this.settings.mode!="mix"&&f&&!this.settings.autoComplete.rightKey&&!this.state.editing){d.preventDefault();var D=this.dropdown.getMappedValue(w);return this.input.autocomplete.set.call(this,D),!1}return!0;case"Enter":d.preventDefault(),this.settings.hooks.suggestionClick(d,{tagify:this,tagData:w,suggestionElm:f}).then(()=>{if(f)return this.dropdown.selectOption(f),f=this.dropdown.getNextOrPrevOption(f,!k),void this.dropdown.highlightOption(f);this.dropdown.hide(),this.settings.mode!="mix"&&this.addTags(this.state.inputText.trim(),!0)}).catch(M=>M);break;case"Backspace":{if(this.settings.mode=="mix"||this.state.editing.scope)return;const M=this.input.raw.call(this);M!=""&&M.charCodeAt(0)!=8203||(this.settings.backspace===!0?this.removeTags():this.settings.backspace=="edit"&&setTimeout(this.editTag.bind(this),0))}}}},onMouseOver(d){var f=d.target.closest(this.settings.classNames.dropdownItemSelector);f&&this.dropdown.highlightOption(f)},onMouseLeave(d){this.dropdown.highlightOption()},onClick(d){if(d.button==0&&d.target!=this.DOM.dropdown&&d.target!=this.DOM.dropdown.content){var f=d.target.closest(this.settings.classNames.dropdownItemSelector),w=this.dropdown.getSuggestionDataByNode(f);this.state.actions.selectOption=!0,setTimeout(()=>this.state.actions.selectOption=!1,50),this.settings.hooks.suggestionClick(d,{tagify:this,tagData:w,suggestionElm:f}).then(()=>{f?this.dropdown.selectOption(f,d):this.dropdown.hide()}).catch(b=>console.warn(b))}},onScroll(d){var f=d.target,w=f.scrollTop/(f.scrollHeight-f.parentNode.clientHeight)*100;this.trigger("dropdown:scroll",{percentage:Math.round(w)})}}},getSuggestionDataByNode(d){var f=d&&d.getAttribute("value");return this.suggestedListItems.find(w=>w.value==f)||null},getNextOrPrevOption(d){let f=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];var w=this.dropdown.getAllSuggestionsRefs(),b=w.findIndex(k=>k===d);return f?w[b+1]:w[b-1]},highlightOption(d,f){var w,b=this.settings.classNames.dropdownItemActive;if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(b),this.state.ddItemElm.removeAttribute("aria-selected")),!d)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);w=this.dropdown.getSuggestionDataByNode(d),this.state.ddItemData=w,this.state.ddItemElm=d,d.classList.add(b),d.setAttribute("aria-selected",!0),f&&(d.parentNode.scrollTop=d.clientHeight+d.offsetTop-d.parentNode.clientHeight),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,w),this.dropdown.position())},selectOption(d,f){var w=this.settings.dropdown,b=w.clearOnSelect,k=w.closeOnSelect;if(!d)return this.addTags(this.state.inputText,!0),void(k&&this.dropdown.hide());f=f||{};var D=d.getAttribute("value"),M=D=="noMatch",I=this.suggestedListItems.find(x=>(x.value??x)==D);this.trigger("dropdown:select",{data:I,elm:d,event:f}),D&&(I||M)?(this.state.editing?this.onEditTagDone(null,T({__isValid:!0},this.normalizeTags([I])[0])):this[this.settings.mode=="mix"?"addMixTags":"addTags"]([I||this.input.raw.call(this)],b),this.DOM.input.parentNode&&(setTimeout(()=>{this.DOM.input.focus(),this.toggleFocusClass(!0)}),k&&setTimeout(this.dropdown.hide.bind(this)),d.addEventListener("transitionend",()=>{this.dropdown.fillHeaderFooter(),setTimeout(()=>d.remove(),100)},{once:!0}),d.classList.add(this.settings.classNames.dropdownItemHidden))):k&&setTimeout(this.dropdown.hide.bind(this))},selectAll(d){this.suggestedListItems.length=0,this.dropdown.hide(),this.dropdown.filterListItems("");var f=this.dropdown.filterListItems("");return d||(f=this.state.dropdown.suggestions),this.addTags(f,!0),this},filterListItems(d,f){var w,b,k,D,M,I=this.settings,x=I.dropdown,$=(f=f||{},[]),J=[],Z=I.whitelist,se=x.maxItems>=0?x.maxItems:1/0,Y=x.searchKeys,de=0;if(!(d=I.mode=="select"&&this.value.length&&this.value[0][I.tagTextProp]==d?"":d)||!Y.length)return $=x.includeSelectedTags?Z:Z.filter(ae=>!this.isTagDuplicate(_(ae)?ae.value:ae)),this.state.dropdown.suggestions=$,$.slice(0,se);function pe(ae,Me){return Me.toLowerCase().split(" ").every(xe=>ae.includes(xe.toLowerCase()))}for(M=x.caseSensitive?""+d:(""+d).toLowerCase();de<Z.length;de++){let ae,Me;w=Z[de]instanceof Object?Z[de]:{value:Z[de]};let xe=Object.keys(w).some(Ve=>Y.includes(Ve))?Y:["value"];x.fuzzySearch&&!f.exact?(k=xe.reduce((Ve,Te)=>Ve+" "+(w[Te]||""),"").toLowerCase().trim(),x.accentedSearch&&(k=L(k),M=L(M)),ae=k.indexOf(M)==0,Me=k===M,b=pe(k,M)):(ae=!0,b=xe.some(Ve=>{var Te=""+(w[Ve]||"");return x.accentedSearch&&(Te=L(Te),M=L(M)),x.caseSensitive||(Te=Te.toLowerCase()),Me=Te===M,f.exact?Te===M:Te.indexOf(M)==0})),D=!x.includeSelectedTags&&this.isTagDuplicate(_(w)?w.value:w),b&&!D&&(Me&&ae?J.push(w):x.sortby=="startsWith"&&ae?$.unshift(w):$.push(w))}return this.state.dropdown.suggestions=J.concat($),typeof x.sortby=="function"?x.sortby(J.concat($),M):J.concat($).slice(0,se)},getMappedValue(d){var f=this.settings.dropdown.mapValueTo;return f?typeof f=="function"?f(d):d[f]||d.value:d.value},createListHTML(d){return T([],d).map((f,w)=>{typeof f!="string"&&typeof f!="number"||(f={value:f});var b=this.dropdown.getMappedValue(f);return b=typeof b=="string"?y(b):b,this.settings.templates.dropdownItem.apply(this,[i(i({},f),{},{mappedValue:b}),this])}).join("")}};const ye="@yaireo/tagify/";var Q,Re={empty:"empty",exceed:"number of tags exceeded",pattern:"pattern mismatch",duplicate:"already exists",notAllowed:"not allowed"},je={wrapper:(d,f)=>`<tags class="${f.classNames.namespace} ${f.mode?`${f.classNames[f.mode+"Mode"]}`:""} ${d.className}"
                    ${f.readonly?"readonly":""}
                    ${f.disabled?"disabled":""}
                    ${f.required?"required":""}
                    ${f.mode==="select"?"spellcheck='false'":""}
                    tabIndex="-1">
            <span ${!f.readonly&&f.userInput?"contenteditable":""} tabIndex="0" data-placeholder="${f.placeholder||"&#8203;"}" aria-placeholder="${f.placeholder||""}"
                class="${f.classNames.input}"
                role="textbox"
                aria-autocomplete="both"
                aria-multiline="${f.mode=="mix"}"></span>
                &#8203;
        </tags>`,tag(d,f){let w=f.settings;return`<tag title="${d.title||d.value}"
                    contenteditable='false'
                    spellcheck='false'
                    tabIndex="${w.a11y.focusableTags?0:-1}"
                    class="${w.classNames.tag} ${d.class||""}"
                    ${this.getAttributes(d)}>
            <x title='' class="${w.classNames.tagX}" role='button' aria-label='remove tag'></x>
            <div>
                <span class="${w.classNames.tagText}">${d[w.tagTextProp]||d.value}</span>
            </div>
        </tag>`},dropdown(d){var f=d.dropdown,w=f.position=="manual",b=`${d.classNames.dropdown}`;return`<div class="${w?"":b} ${f.classname}" role="listbox" aria-labelledby="dropdown">
                    <div data-selector='tagify-suggestions-wrapper' class="${d.classNames.dropdownWrapper}"></div>
                </div>`},dropdownContent(d){var f=this.settings,w=this.state.dropdown.suggestions;return`
            ${f.templates.dropdownHeader.call(this,w)}
            ${d}
            ${f.templates.dropdownFooter.call(this,w)}
        `},dropdownItem(d){return`<div ${this.getAttributes(d)}
                    class='${this.settings.classNames.dropdownItem} ${d.class?d.class:""}'
                    tabindex="0"
                    role="option">${d.mappedValue||d.value}</div>`},dropdownHeader(d){return`<header data-selector='tagify-suggestions-header' class="${this.settings.classNames.dropdownHeader}"></header>`},dropdownFooter(d){var f=d.length-this.settings.dropdown.maxItems;return f>0?`<footer data-selector='tagify-suggestions-footer' class="${this.settings.classNames.dropdownFooter}">
                ${f} more items. Refine your search.
            </footer>`:""},dropdownItemNoMatch:null},et={customBinding(){this.customEventsList.forEach(d=>{this.on(d,this.settings.callbacks[d])})},binding(){let d=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];var f,w=this.events.callbacks,b=d?"addEventListener":"removeEventListener";if(!this.state.mainEvents||!d){for(var k in this.state.mainEvents=d,d&&!this.listeners.main&&(this.events.bindGlobal.call(this),this.settings.isJQueryPlugin&&jQuery(this.DOM.originalInput).on("tagify.removeAllTags",this.removeAllTags.bind(this))),f=this.listeners.main=this.listeners.main||{focus:["input",w.onFocusBlur.bind(this)],keydown:["input",w.onKeydown.bind(this)],click:["scope",w.onClickScope.bind(this)],dblclick:["scope",w.onDoubleClickScope.bind(this)],paste:["input",w.onPaste.bind(this)],drop:["input",w.onDrop.bind(this)],compositionstart:["input",w.onCompositionStart.bind(this)],compositionend:["input",w.onCompositionEnd.bind(this)]})this.DOM[f[k][0]][b](k,f[k][1]);clearInterval(this.listeners.main.originalInputValueObserverInterval),this.listeners.main.originalInputValueObserverInterval=setInterval(w.observeOriginalInputValue.bind(this),500);var D=this.listeners.main.inputMutationObserver||new MutationObserver(w.onInputDOMChange.bind(this));D.disconnect(),this.settings.mode=="mix"&&D.observe(this.DOM.input,{childList:!0})}},bindGlobal(d){var f,w=this.events.callbacks,b=d?"removeEventListener":"addEventListener";if(this.listeners&&(d||!this.listeners.global))for(f of(this.listeners.global=this.listeners.global||[{type:this.isIE?"keydown":"input",target:this.DOM.input,cb:w[this.isIE?"onInputIE":"onInput"].bind(this)},{type:"keydown",target:window,cb:w.onWindowKeyDown.bind(this)},{type:"blur",target:this.DOM.input,cb:w.onFocusBlur.bind(this)},{type:"click",target:document,cb:w.onClickAnywhere.bind(this)}],this.listeners.global))f.target[b](f.type,f.cb)},unbindGlobal(){this.events.bindGlobal.call(this,!0)},callbacks:{onFocusBlur(d){var J,Z;var f=this.settings,w=d.target?this.trim(d.target.textContent):"",b=(Z=(J=this.value)==null?void 0:J[0])==null?void 0:Z[f.tagTextProp],k=d.type,D=f.dropdown.enabled>=0,M={relatedTarget:d.relatedTarget},I=this.state.actions.selectOption&&(D||!f.dropdown.closeOnSelect),x=this.state.actions.addNew&&D,$=d.relatedTarget&&j.call(this,d.relatedTarget)&&this.DOM.scope.contains(d.relatedTarget);if(k=="blur"){if(d.relatedTarget===this.DOM.scope)return this.dropdown.hide(),void this.DOM.input.focus();this.postUpdate(),f.onChangeAfterBlur&&this.triggerChangeEvent()}if(!I&&!x)if(this.state.hasFocus=k=="focus"&&+new Date,this.toggleFocusClass(this.state.hasFocus),f.mode!="mix"){if(k=="focus")return this.trigger("focus",M),void(f.dropdown.enabled!==0&&f.userInput||this.dropdown.show(this.value.length?"":void 0));k=="blur"&&(this.trigger("blur",M),this.loading(!1),f.mode=="select"&&($&&(this.removeTags(),w=""),b===w&&(w="")),w&&!this.state.actions.selectOption&&f.addTagOnBlur&&this.addTags(w,!0)),this.DOM.input.removeAttribute("style"),this.dropdown.hide()}else k=="focus"?this.trigger("focus",M):d.type=="blur"&&(this.trigger("blur",M),this.loading(!1),this.dropdown.hide(),this.state.dropdown.visible=void 0,this.setStateSelection())},onCompositionStart(d){this.state.composing=!0},onCompositionEnd(d){this.state.composing=!1},onWindowKeyDown(d){var f,w=document.activeElement,b=j.call(this,w)&&this.DOM.scope.contains(document.activeElement),k=b&&w.hasAttribute("readonly");if(b&&!k)switch(f=w.nextElementSibling,d.key){case"Backspace":this.settings.readonly||(this.removeTags(w),(f||this.DOM.input).focus());break;case"Enter":setTimeout(this.editTag.bind(this),0,w)}},onKeydown(d){var f=this.settings;if(!this.state.composing&&f.userInput){f.mode=="select"&&f.enforceWhitelist&&this.value.length&&d.key!="Tab"&&d.preventDefault();var w=this.trim(d.target.textContent);if(this.trigger("keydown",{event:d}),f.mode=="mix"){switch(d.key){case"Left":case"ArrowLeft":this.state.actions.ArrowLeft=!0;break;case"Delete":case"Backspace":if(this.state.editing)return;var b=document.getSelection(),k=d.key=="Delete"&&b.anchorOffset==(b.anchorNode.length||0),D=b.anchorNode.previousSibling,M=b.anchorNode.nodeType==1||!b.anchorOffset&&D&&D.nodeType==1&&b.anchorNode.previousSibling;c(this.DOM.input.innerHTML);var I,x,$,J=this.getTagElms(),Z=b.anchorNode.length===1&&b.anchorNode.nodeValue=="";if(f.backspace=="edit"&&M)return I=b.anchorNode.nodeType==1?null:b.anchorNode.previousElementSibling,setTimeout(this.editTag.bind(this),0,I),void d.preventDefault();if(A()&&M instanceof Element)return $=v(M),M.hasAttribute("readonly")||M.remove(),this.DOM.input.focus(),void setTimeout(()=>{q($),this.DOM.input.click()});if(b.anchorNode.nodeName=="BR")return;if((k||M)&&b.anchorNode.nodeType==1?x=b.anchorOffset==0?k?J[0]:null:J[Math.min(J.length,b.anchorOffset)-1]:k?x=b.anchorNode.nextElementSibling:M instanceof Element&&(x=M),b.anchorNode.nodeType==3&&!b.anchorNode.nodeValue&&b.anchorNode.previousElementSibling&&d.preventDefault(),(M||k)&&!f.backspace||b.type!="Range"&&!b.anchorOffset&&b.anchorNode==this.DOM.input&&d.key!="Delete")return void d.preventDefault();if(b.type!="Range"&&x&&x.hasAttribute("readonly"))return void q(v(x));d.key=="Delete"&&Z&&V(b.anchorNode.nextSibling)&&this.removeTags(b.anchorNode.nextSibling),clearTimeout(Q),Q=setTimeout(()=>{var se=document.getSelection();c(this.DOM.input.innerHTML),!k&&se.anchorNode.previousSibling,this.value=[].map.call(J,(Y,de)=>{var pe=V(Y);if(Y.parentNode||pe.readonly)return pe;this.trigger("remove",{tag:Y,index:de,data:pe})}).filter(Y=>Y)},20)}return!0}switch(d.key){case"Backspace":f.mode=="select"&&f.enforceWhitelist&&this.value.length?this.removeTags():this.state.dropdown.visible&&f.dropdown.position!="manual"||d.target.textContent!=""&&w.charCodeAt(0)!=8203||(f.backspace===!0?this.removeTags():f.backspace=="edit"&&setTimeout(this.editTag.bind(this),0));break;case"Esc":case"Escape":if(this.state.dropdown.visible)return;d.target.blur();break;case"Down":case"ArrowDown":this.state.dropdown.visible||this.dropdown.show();break;case"ArrowRight":{let se=this.state.inputSuggestion||this.state.ddItemData;if(se&&f.autoComplete.rightKey)return void this.addTags([se],!0);break}case"Tab":{let se=f.mode=="select";if(!w||se)return!0;d.preventDefault()}case"Enter":if(this.state.dropdown.visible&&f.dropdown.position!="manual")return;d.preventDefault(),setTimeout(()=>{this.state.dropdown.visible||this.state.actions.selectOption||this.addTags(w,!0)})}}},onInput(d){this.postUpdate();var f=this.settings;if(f.mode=="mix")return this.events.callbacks.onMixTagsInput.call(this,d);var w=this.input.normalize.call(this),b=w.length>=f.dropdown.enabled,k={value:w,inputElm:this.DOM.input},D=this.validateTag({value:w});f.mode=="select"&&this.toggleScopeValidation(D),k.isValid=D,this.state.inputText!=w&&(this.input.set.call(this,w,!1),w.search(f.delimiters)!=-1?this.addTags(w)&&this.input.set.call(this):f.dropdown.enabled>=0&&this.dropdown[b?"show":"hide"](w),this.trigger("input",k))},onMixTagsInput(d){var f,w,b,k,D,M,I,x,$=this.settings,J=this.value.length,Z=this.getTagElms(),se=document.createDocumentFragment(),Y=window.getSelection().getRangeAt(0),de=[].map.call(Z,pe=>V(pe).value);if(d.inputType=="deleteContentBackward"&&A()&&this.events.callbacks.onKeydown.call(this,{target:d.target,key:"Backspace"}),ie(this.getTagElms()),this.value.slice().forEach(pe=>{pe.readonly&&!de.includes(pe.value)&&se.appendChild(this.createTagElem(pe))}),se.childNodes.length&&(Y.insertNode(se),this.setRangeAtStartEnd(!1,se.lastChild)),Z.length!=J)return this.value=[].map.call(this.getTagElms(),pe=>V(pe)),void this.update({withoutChangeEvent:!0});if(this.hasMaxTags())return!0;if(window.getSelection&&(M=window.getSelection()).rangeCount>0&&M.anchorNode.nodeType==3){if((Y=M.getRangeAt(0).cloneRange()).collapse(!0),Y.setStart(M.focusNode,0),b=(f=Y.toString().slice(0,Y.endOffset)).split($.pattern).length-1,(w=f.match($.pattern))&&(k=f.slice(f.lastIndexOf(w[w.length-1]))),k){if(this.state.actions.ArrowLeft=!1,this.state.tag={prefix:k.match($.pattern)[0],value:k.replace($.pattern,"")},this.state.tag.baseOffset=M.baseOffset-this.state.tag.value.length,x=this.state.tag.value.match($.delimiters))return this.state.tag.value=this.state.tag.value.replace($.delimiters,""),this.state.tag.delimiters=x[0],this.addTags(this.state.tag.value,$.dropdown.clearOnSelect),void this.dropdown.hide();D=this.state.tag.value.length>=$.dropdown.enabled;try{I=(I=this.state.flaggedTags[this.state.tag.baseOffset]).prefix==this.state.tag.prefix&&I.value[0]==this.state.tag.value[0],this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch{}(I||b<this.state.mixMode.matchedPatternCount)&&(D=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=b}setTimeout(()=>{this.update({withoutChangeEvent:!0}),this.trigger("input",T({},this.state.tag,{textContent:this.DOM.input.textContent})),this.state.tag&&this.dropdown[D?"show":"hide"](this.state.tag.value)},10)},onInputIE(d){var f=this;setTimeout(function(){f.events.callbacks.onInput.call(f,d)})},observeOriginalInputValue(){this.DOM.originalInput.parentNode||this.destroy(),this.DOM.originalInput.value!=this.DOM.originalInput.tagifyValue&&this.loadOriginalValues()},onClickAnywhere(d){d.target==this.DOM.scope||this.DOM.scope.contains(d.target)||(this.toggleFocusClass(!1),this.state.hasFocus=!1)},onClickScope(d){var f=this.settings,w=d.target.closest("."+f.classNames.tag),b=+new Date-this.state.hasFocus;if(d.target!=this.DOM.scope){if(!d.target.classList.contains(f.classNames.tagX))return w?(this.trigger("click",{tag:w,index:this.getNodeIndex(w),data:V(w),event:d}),void(f.editTags!==1&&f.editTags.clicks!==1||this.events.callbacks.onDoubleClickScope.call(this,d))):void(d.target==this.DOM.input&&(f.mode=="mix"&&this.fixFirefoxLastTagNoCaret(),b>500)?this.state.dropdown.visible?this.dropdown.hide():f.dropdown.enabled===0&&f.mode!="mix"&&this.dropdown.show(this.value.length?"":void 0):f.mode!="select"||f.dropdown.enabled!==0||this.state.dropdown.visible||this.dropdown.show());this.removeTags(d.target.parentNode)}else this.DOM.input.focus()},onPaste(d){d.preventDefault();var f,w,b=this.settings;if(b.mode=="select"&&b.enforceWhitelist||!b.userInput)return!1;b.readonly||(f=d.clipboardData||window.clipboardData,w=f.getData("Text"),b.hooks.beforePaste(d,{tagify:this,pastedText:w,clipboardData:f}).then(k=>{k===void 0&&(k=w),k&&(this.injectAtCaret(k,window.getSelection().getRangeAt(0)),this.settings.mode=="mix"?this.events.callbacks.onMixTagsInput.call(this,d):this.settings.pasteAsTags?this.addTags(this.state.inputText+k,!0):this.state.inputText=k)}).catch(k=>k))},onDrop(d){d.preventDefault()},onEditTagInput(d,f){var w=d.closest("."+this.settings.classNames.tag),b=this.getNodeIndex(w),k=V(w),D=this.input.normalize.call(this,d),M={[this.settings.tagTextProp]:D,__tagId:k.__tagId},I=this.validateTag(M);this.editTagChangeDetected(T(k,M))||d.originalIsValid!==!0||(I=!0),w.classList.toggle(this.settings.classNames.tagInvalid,I!==!0),k.__isValid=I,w.title=I===!0?k.title||k.value:I,D.length>=this.settings.dropdown.enabled&&(this.state.editing&&(this.state.editing.value=D),this.dropdown.show(D)),this.trigger("edit:input",{tag:w,index:b,data:T({},this.value[b],{newValue:D}),event:f})},onEditTagPaste(d,f){var w=(f.clipboardData||window.clipboardData).getData("Text");f.preventDefault();var b=B(w);this.setRangeAtStartEnd(!1,b)},onEditTagFocus(d){this.state.editing={scope:d,input:d.querySelector("[contenteditable]")}},onEditTagBlur(d){if(this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(d)){var f,w,b=this.settings,k=d.closest("."+b.classNames.tag),D=V(k),M=this.input.normalize.call(this,d),I={[b.tagTextProp]:M,__tagId:D.__tagId},x=D.__originalData,$=this.editTagChangeDetected(T(D,I)),J=this.validateTag(I);if(M)if($){if(f=this.hasMaxTags(),w=T({},x,{[b.tagTextProp]:this.trim(M),__isValid:J}),b.transformTag.call(this,w,x),(J=(!f||x.__isValid===!0)&&this.validateTag(w))!==!0){if(this.trigger("invalid",{data:w,tag:k,message:J}),b.editTags.keepInvalid)return;b.keepInvalidTags?w.__isValid=J:w=x}else b.keepInvalidTags&&(delete w.title,delete w["aria-invalid"],delete w.class);this.onEditTagDone(k,w)}else this.onEditTagDone(k,x);else this.onEditTagDone(k)}},onEditTagkeydown(d,f){if(!this.state.composing)switch(this.trigger("edit:keydown",{event:d}),d.key){case"Esc":case"Escape":f.parentNode.replaceChild(f.__tagifyTagData.__originalHTML,f),this.state.editing=!1;case"Enter":case"Tab":d.preventDefault(),d.target.blur()}},onDoubleClickScope(d){var f,w,b=d.target.closest("."+this.settings.classNames.tag),k=V(b),D=this.settings;b&&D.userInput&&k.editable!==!1&&(f=b.classList.contains(this.settings.classNames.tagEditing),w=b.hasAttribute("readonly"),D.mode=="select"||D.readonly||f||w||!this.settings.editTags||this.editTag(b),this.toggleFocusClass(!0),this.trigger("dblclick",{tag:b,index:this.getNodeIndex(b),data:V(b)}))},onInputDOMChange(d){d.forEach(w=>{w.addedNodes.forEach(b=>{var k;if(b.outerHTML=="<div><br></div>")b.replaceWith(document.createElement("br"));else if(b.nodeType==1&&b.querySelector(this.settings.classNames.tagSelector)){let D=document.createTextNode("");b.childNodes[0].nodeType==3&&b.previousSibling.nodeName!="BR"&&(D=document.createTextNode(`
`)),b.replaceWith(D,...[...b.childNodes].slice(0,-1)),q(D)}else if(j.call(this,b))if(((k=b.previousSibling)==null?void 0:k.nodeType)!=3||b.previousSibling.textContent||b.previousSibling.remove(),b.previousSibling&&b.previousSibling.nodeName=="BR"){b.previousSibling.replaceWith(`
`+r);let D=b.nextSibling,M="";for(;D;)M+=D.textContent,D=D.nextSibling;M.trim()&&q(b.previousSibling)}else b.previousSibling&&!V(b.previousSibling)||b.before(r)}),w.removedNodes.forEach(b=>{b&&b.nodeName=="BR"&&j.call(this,f)&&(this.removeTags(f),this.fixFirefoxLastTagNoCaret())})});var f=this.DOM.input.lastChild;f&&f.nodeValue==""&&f.remove(),f&&f.nodeName=="BR"||this.DOM.input.appendChild(document.createElement("br"))}}};function Le(d,f){if(!d){console.warn("Tagify:","input element not found",d);const b=new Proxy(this,{get:()=>()=>b});return b}if(d.__tagify)return console.warn("Tagify: ","input element is already Tagified - Same instance is returned.",d),d.__tagify;var w;T(this,function(b){var k=document.createTextNode("");function D(M,I,x){x&&I.split(/\s+/g).forEach($=>k[M+"EventListener"].call(k,$,x))}return{off(M,I){return D("remove",M,I),this},on(M,I){return I&&typeof I=="function"&&D("add",M,I),this},trigger(M,I,x){var $;if(x=x||{cloneData:!0},M)if(b.settings.isJQueryPlugin)M=="remove"&&(M="removeTag"),jQuery(b.DOM.originalInput).triggerHandler(M,[I]);else{try{var J=typeof I=="object"?I:{value:I};if((J=x.cloneData?T({},J):J).tagify=this,I.event&&(J.event=this.cloneEvent(I.event)),I instanceof Object)for(var Z in I)I[Z]instanceof HTMLElement&&(J[Z]=I[Z]);$=new CustomEvent(M,{detail:J})}catch(se){console.warn(se)}k.dispatchEvent($)}}}}(this)),this.isFirefox=/firefox|fxios/i.test(navigator.userAgent)&&!/seamonkey/i.test(navigator.userAgent),this.isIE=window.document.documentMode,f=f||{},this.getPersistedData=(w=f.id,b=>{let k,D="/"+b;if(localStorage.getItem(ye+w+"/v",1)==1)try{k=JSON.parse(localStorage[ye+w+D])}catch{}return k}),this.setPersistedData=(b=>b?(localStorage.setItem(ye+b+"/v",1),(k,D)=>{let M="/"+D,I=JSON.stringify(k);k&&D&&(localStorage.setItem(ye+b+M,I),dispatchEvent(new Event("storage")))}):()=>{})(f.id),this.clearPersistedData=(b=>k=>{const D=ye+"/"+b+"/";if(k)localStorage.removeItem(D+k);else for(let M in localStorage)M.includes(D)&&localStorage.removeItem(M)})(f.id),this.applySettings(d,f),this.state={inputText:"",editing:!1,composing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},this.build(d),be.call(this),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),d.autofocus&&this.DOM.input.focus(),d.__tagify=this}return Le.prototype={_dropdown:ve,getSetTagData:V,helpers:{sameStr:o,removeCollectionProp:a,omit:l,isObject:_,parseHTML:p,escapeHTML:y,extend:T,concatWithoutDups:S,getUID:F,isNodeTag:j},customEventsList:["change","add","remove","invalid","input","click","keydown","focus","blur","edit:input","edit:beforeUpdate","edit:updated","edit:start","edit:keydown","dropdown:show","dropdown:hide","dropdown:select","dropdown:updated","dropdown:noMatch","dropdown:scroll"],dataProps:["__isValid","__removed","__originalData","__originalHTML","__tagId"],trim(d){return this.settings.trim&&d&&typeof d=="string"?d.trim():d},parseHTML:p,templates:je,parseTemplate(d,f){return p((d=this.settings.templates[d]||d).apply(this,f))},set whitelist(d){const f=d&&Array.isArray(d);this.settings.whitelist=f?d:[],this.setPersistedData(f?d:[],"whitelist")},get whitelist(){return this.settings.whitelist},generateClassSelectors(d){for(let f in d){let w=f;Object.defineProperty(d,w+"Selector",{get(){return"."+this[w].split(" ")[0]}})}},applySettings(d,f){var D,M;ee.templates=this.templates;var w=T({},ee,f.mode=="mix"?{dropdown:{position:"text"}}:{}),b=this.settings=T({},w,f);if(b.disabled=d.hasAttribute("disabled"),b.readonly=b.readonly||d.hasAttribute("readonly"),b.placeholder=y(d.getAttribute("placeholder")||b.placeholder||""),b.required=d.hasAttribute("required"),this.generateClassSelectors(b.classNames),b.dropdown.includeSelectedTags===void 0&&(b.dropdown.includeSelectedTags=b.duplicates),this.isIE&&(b.autoComplete=!1),["whitelist","blacklist"].forEach(I=>{var x=d.getAttribute("data-"+I);x&&(x=x.split(b.delimiters))instanceof Array&&(b[I]=x)}),"autoComplete"in f&&!_(f.autoComplete)&&(b.autoComplete=ee.autoComplete,b.autoComplete.enabled=f.autoComplete),b.mode=="mix"&&(b.pattern=b.pattern||/@/,b.autoComplete.rightKey=!0,b.delimiters=f.delimiters||null,b.tagTextProp&&!b.dropdown.searchKeys.includes(b.tagTextProp)&&b.dropdown.searchKeys.push(b.tagTextProp)),d.pattern)try{b.pattern=new RegExp(d.pattern)}catch{}if(b.delimiters){b._delimiters=b.delimiters;try{b.delimiters=new RegExp(this.settings.delimiters,"g")}catch{}}b.disabled&&(b.userInput=!1),this.TEXTS=i(i({},Re),b.texts||{}),(b.mode!="select"||(D=f.dropdown)!=null&&D.enabled)&&b.userInput||(b.dropdown.enabled=0),b.dropdown.appendTarget=((M=f.dropdown)==null?void 0:M.appendTarget)||document.body;let k=this.getPersistedData("whitelist");Array.isArray(k)&&(this.whitelist=Array.isArray(b.whitelist)?S(b.whitelist,k):k)},getAttributes(d){var f,w=this.getCustomAttributes(d),b="";for(f in w)b+=" "+f+(d[f]!==void 0?`="${w[f]}"`:"");return b},getCustomAttributes(d){if(!_(d))return"";var f,w={};for(f in d)f.slice(0,2)!="__"&&f!="class"&&d.hasOwnProperty(f)&&d[f]!==void 0&&(w[f]=y(d[f]));return w},setStateSelection(){var d=window.getSelection(),f={anchorOffset:d.anchorOffset,anchorNode:d.anchorNode,range:d.getRangeAt&&d.rangeCount&&d.getRangeAt(0)};return this.state.selection=f,f},getCSSVars(){var d=getComputedStyle(this.DOM.scope,null),f;this.CSSVars={tagHideTransition:(w=>{let b=w.value;return w.unit=="s"?1e3*b:b})(function(w){if(!w)return{};var b=(w=w.trim().split(" ")[0]).split(/\d+/g).filter(k=>k).pop().trim();return{value:+w.split(b).filter(k=>k)[0].trim(),unit:b}}((f="tag-hide-transition",d.getPropertyValue("--"+f))))}},build(d){var f=this.DOM;this.settings.mixMode.integrated?(f.originalInput=null,f.scope=d,f.input=d):(f.originalInput=d,f.originalInput_tabIndex=d.tabIndex,f.scope=this.parseTemplate("wrapper",[d,this.settings]),f.input=f.scope.querySelector(this.settings.classNames.inputSelector),d.parentNode.insertBefore(f.scope,d),d.tabIndex=-1)},destroy(){this.events.unbindGlobal.call(this),this.DOM.scope.parentNode.removeChild(this.DOM.scope),this.DOM.originalInput.tabIndex=this.DOM.originalInput_tabIndex,delete this.DOM.originalInput.__tagify,this.dropdown.hide(!0),clearTimeout(this.dropdownHide__bindEventsTimeout),clearInterval(this.listeners.main.originalInputValueObserverInterval)},loadOriginalValues(d){var f,w=this.settings;if(this.state.blockChangeEvent=!0,d===void 0){const b=this.getPersistedData("value");d=b&&!this.DOM.originalInput.value?b:w.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value}if(this.removeAllTags(),d)if(w.mode=="mix")this.parseMixTags(d),(f=this.DOM.input.lastChild)&&f.tagName=="BR"||this.DOM.input.insertAdjacentHTML("beforeend","<br>");else{try{JSON.parse(d)instanceof Array&&(d=JSON.parse(d))}catch{}this.addTags(d,!0).forEach(b=>b&&b.classList.add(w.classNames.tagNoAnimation))}else this.postUpdate();this.state.lastOriginalValueReported=w.mixMode.integrated?"":this.DOM.originalInput.value},cloneEvent(d){var f={};for(var w in d)w!="path"&&(f[w]=d[w]);return f},loading(d){return this.state.isLoading=d,this.DOM.scope.classList[d?"add":"remove"](this.settings.classNames.scopeLoading),this},tagLoading(d,f){return d&&d.classList[f?"add":"remove"](this.settings.classNames.tagLoading),this},toggleClass(d,f){typeof d=="string"&&this.DOM.scope.classList.toggle(d,f)},toggleScopeValidation(d){var f=d===!0||d===void 0;!this.settings.required&&d&&d===this.TEXTS.empty&&(f=!0),this.toggleClass(this.settings.classNames.tagInvalid,!f),this.DOM.scope.title=f?"":d},toggleFocusClass(d){this.toggleClass(this.settings.classNames.focus,!!d)},triggerChangeEvent:function(){if(!this.settings.mixMode.integrated){var d=this.DOM.originalInput,f=this.state.lastOriginalValueReported!==d.value,w=new CustomEvent("change",{bubbles:!0});f&&(this.state.lastOriginalValueReported=d.value,w.simulated=!0,d._valueTracker&&d._valueTracker.setValue(Math.random()),d.dispatchEvent(w),this.trigger("change",this.state.lastOriginalValueReported),d.value=this.state.lastOriginalValueReported)}},events:et,fixFirefoxLastTagNoCaret(){},setRangeAtStartEnd(d,f){if(f){d=typeof d=="number"?d:!!d,f=f.lastChild||f;var w=document.getSelection();if(w.focusNode instanceof Element&&!this.DOM.input.contains(w.focusNode))return!0;try{w.rangeCount>=1&&["Start","End"].forEach(b=>w.getRangeAt(0)["set"+b](f,d||f.length))}catch{}}},insertAfterTag(d,f){if(f=f||this.settings.mixMode.insertAfterTag,d&&d.parentNode&&f)return f=typeof f=="string"?document.createTextNode(f):f,d.parentNode.insertBefore(f,d.nextSibling),f},editTagChangeDetected(d){var f=d.__originalData;for(var w in f)if(!this.dataProps.includes(w)&&d[w]!=f[w])return!0;return!1},getTagTextNode(d){return d.querySelector(this.settings.classNames.tagTextSelector)},setTagTextNode(d,f){this.getTagTextNode(d).innerHTML=y(f)},editTag(d,f){d=d||this.getLastTag(),f=f||{},this.dropdown.hide();var w=this.settings,b=this.getTagTextNode(d),k=this.getNodeIndex(d),D=V(d),M=this.events.callbacks,I=this,x=!0;if(b){if(!(D instanceof Object&&"editable"in D)||D.editable)return D=V(d,{__originalData:T({},D),__originalHTML:d.cloneNode(!0)}),V(D.__originalHTML,D.__originalData),b.setAttribute("contenteditable",!0),d.classList.add(w.classNames.tagEditing),b.addEventListener("focus",M.onEditTagFocus.bind(this,d)),b.addEventListener("blur",function(){setTimeout(()=>M.onEditTagBlur.call(I,I.getTagTextNode(d)))}),b.addEventListener("input",M.onEditTagInput.bind(this,b)),b.addEventListener("paste",M.onEditTagPaste.bind(this,b)),b.addEventListener("keydown",$=>M.onEditTagkeydown.call(this,$,d)),b.addEventListener("compositionstart",M.onCompositionStart.bind(this)),b.addEventListener("compositionend",M.onCompositionEnd.bind(this)),f.skipValidation||(x=this.editTagToggleValidity(d)),b.originalIsValid=x,this.trigger("edit:start",{tag:d,index:k,data:D,isValid:x}),b.focus(),this.setRangeAtStartEnd(!1,b),this}else console.warn("Cannot find element in Tag template: .",w.classNames.tagTextSelector)},editTagToggleValidity(d,f){var w;if(f=f||V(d))return(w=!("__isValid"in f)||f.__isValid===!0)||this.removeTagsFromValue(d),this.update(),d.classList.toggle(this.settings.classNames.tagNotAllowed,!w),f.__isValid=w,f.__isValid;console.warn("tag has no data: ",d,f)},onEditTagDone(d,f){f=f||{};var w={tag:d=d||this.state.editing.scope,index:this.getNodeIndex(d),previousData:V(d),data:f};this.trigger("edit:beforeUpdate",w,{cloneData:!1}),this.state.editing=!1,delete f.__originalData,delete f.__originalHTML,d&&f[this.settings.tagTextProp]?(d=this.replaceTag(d,f),this.editTagToggleValidity(d,f),this.settings.a11y.focusableTags?d.focus():q(d)):d&&this.removeTags(d),this.trigger("edit:updated",w),this.dropdown.hide(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag(d,f){f&&f.value||(f=d.__tagifyTagData),f.__isValid&&f.__isValid!=1&&T(f,this.getInvalidTagAttrs(f,f.__isValid));var w=this.createTagElem(f);return d.parentNode.replaceChild(w,d),this.updateValueByDOMTags(),w},updateValueByDOMTags(){this.value.length=0,[].forEach.call(this.getTagElms(),d=>{d.classList.contains(this.settings.classNames.tagNotAllowed.split(" ")[0])||this.value.push(V(d))}),this.update()},injectAtCaret(d,f){var w;return!(f=f||((w=this.state.selection)==null?void 0:w.range))&&d?(this.appendMixTags(d),this):(B(d,f),this.setRangeAtStartEnd(!1,d),this.updateValueByDOMTags(),this.update(),this)},input:{set(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",f=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];var w=this.settings.dropdown.closeOnSelect;this.state.inputText=d,f&&(this.DOM.input.innerHTML=y(""+d)),!d&&w&&this.dropdown.hide.bind(this),this.input.autocomplete.suggest.call(this),this.input.validate.call(this)},raw(){return this.DOM.input.textContent},validate(){var d=!this.state.inputText||this.validateTag({value:this.state.inputText})===!0;return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid,!d),d},normalize(d){var f=d||this.DOM.input,w=[];f.childNodes.forEach(b=>b.nodeType==3&&w.push(b.nodeValue)),w=w.join(`
`);try{w=w.replace(/(?:\r\n|\r|\n)/g,this.settings.delimiters.source.charAt(0))}catch{}return w=w.replace(/\s/g," "),this.trim(w)},autocomplete:{suggest(d){if(this.settings.autoComplete.enabled){typeof(d=d||{value:""})=="string"&&(d={value:d});var f=this.dropdown.getMappedValue(d);if(typeof f!="number"){var w=f.substr(0,this.state.inputText.length).toLowerCase(),b=f.substring(this.state.inputText.length);f&&this.state.inputText&&w==this.state.inputText.toLowerCase()?(this.DOM.input.setAttribute("data-suggest",b),this.state.inputSuggestion=d):(this.DOM.input.removeAttribute("data-suggest"),delete this.state.inputSuggestion)}}},set(d){var f=this.DOM.input.getAttribute("data-suggest"),w=d||(f?this.state.inputText+f:null);return!!w&&(this.settings.mode=="mix"?this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix+w)):(this.input.set.call(this,w),this.setRangeAtStartEnd(!1,this.DOM.input)),this.input.autocomplete.suggest.call(this),this.dropdown.hide(),!0)}}},getTagIdx(d){return this.value.findIndex(f=>f.__tagId==(d||{}).__tagId)},getNodeIndex(d){var f=0;if(d)for(;d=d.previousElementSibling;)f++;return f},getTagElms(){for(var d=arguments.length,f=new Array(d),w=0;w<d;w++)f[w]=arguments[w];var b="."+[...this.settings.classNames.tag.split(" "),...f].join(".");return[].slice.call(this.DOM.scope.querySelectorAll(b))},getLastTag(){var d=this.DOM.scope.querySelectorAll(`${this.settings.classNames.tagSelector}:not(.${this.settings.classNames.tagHide}):not([readonly])`);return d[d.length-1]},isTagDuplicate(d,f,w){var b=0;if(this.settings.mode=="select")return!1;for(let k of this.value)o(this.trim(""+d),k.value,f)&&w!=k.__tagId&&b++;return b},getTagIndexByValue(d){var f=[],w=this.settings.dropdown.caseSensitive;return this.getTagElms().forEach((b,k)=>{b.__tagifyTagData&&o(this.trim(b.__tagifyTagData.value),d,w)&&f.push(k)}),f},getTagElmByValue(d){var f=this.getTagIndexByValue(d)[0];return this.getTagElms()[f]},flashTag(d){d&&(d.classList.add(this.settings.classNames.tagFlash),setTimeout(()=>{d.classList.remove(this.settings.classNames.tagFlash)},100))},isTagBlacklisted(d){return d=this.trim(d.toLowerCase()),this.settings.blacklist.filter(f=>(""+f).toLowerCase()==d).length},isTagWhitelisted(d){return!!this.getWhitelistItem(d)},getWhitelistItem(d,f,w){f=f||"value";var b,k=this.settings;return(w=w||k.whitelist).some(D=>{var M=typeof D=="string"?D:D[f]||D.value;if(o(M,d,k.dropdown.caseSensitive,k.trim))return b=typeof D=="string"?{value:D}:D,!0}),b||f!="value"||k.tagTextProp=="value"||(b=this.getWhitelistItem(d,k.tagTextProp,w)),b},validateTag(d){var f=this.settings,w="value"in d?"value":f.tagTextProp,b=this.trim(d[w]+"");return(d[w]+"").trim()?f.mode!="mix"&&f.pattern&&f.pattern instanceof RegExp&&!f.pattern.test(b)?this.TEXTS.pattern:!f.duplicates&&this.isTagDuplicate(b,f.dropdown.caseSensitive,d.__tagId)?this.TEXTS.duplicate:this.isTagBlacklisted(b)||f.enforceWhitelist&&!this.isTagWhitelisted(b)?this.TEXTS.notAllowed:!f.validate||f.validate(d):this.TEXTS.empty},getInvalidTagAttrs(d,f){return{"aria-invalid":!0,class:`${d.class||""} ${this.settings.classNames.tagNotAllowed}`.trim(),title:f}},hasMaxTags(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},setReadonly(d,f){var w=this.settings;document.activeElement.blur(),w[f||"readonly"]=d,this.DOM.scope[(d?"set":"remove")+"Attribute"](f||"readonly",!0),this.settings.userInput=!0,this.setContentEditable(!d)},setContentEditable(d){this.settings.userInput&&(this.DOM.input.contentEditable=d,this.DOM.input.tabIndex=d?0:-1)},setDisabled(d){this.setReadonly(d,"disabled")},normalizeTags(d){var f=this.settings,w=f.whitelist,b=f.delimiters,k=f.mode,D=f.tagTextProp,M=[],I=!!w&&w[0]instanceof Object,x=Array.isArray(d),$=x&&d[0].value,J=Z=>(Z+"").split(b).filter(se=>se).map(se=>({[D]:this.trim(se),value:this.trim(se)}));if(typeof d=="number"&&(d=d.toString()),typeof d=="string"){if(!d.trim())return[];d=J(d)}else x&&(d=[].concat(...d.map(Z=>Z.value!=null?Z:J(Z))));return I&&!$&&(d.forEach(Z=>{var se=M.map(pe=>pe.value),Y=this.dropdown.filterListItems.call(this,Z[D],{exact:!0});this.settings.duplicates||(Y=Y.filter(pe=>!se.includes(pe.value)));var de=Y.length>1?this.getWhitelistItem(Z[D],D,Y):Y[0];de&&de instanceof Object?M.push(de):k!="mix"&&(Z.value==null&&(Z.value=Z[D]),M.push(Z))}),M.length&&(d=M)),d},parseMixTags(d){var f=this.settings,w=f.mixTagsInterpolator,b=f.duplicates,k=f.transformTag,D=f.enforceWhitelist,M=f.maxTags,I=f.tagTextProp,x=[];d=d.split(w[0]).map((J,Z)=>{var se,Y,de,pe=J.split(w[1]),ae=pe[0],Me=x.length==M;try{if(ae==+ae)throw Error;Y=JSON.parse(ae)}catch{Y=this.normalizeTags(ae)[0]||{value:ae}}if(k.call(this,Y),Me||!(pe.length>1)||D&&!this.isTagWhitelisted(Y.value)||!b&&this.isTagDuplicate(Y.value)){if(J)return Z?w[0]+J:J}else Y[se=Y[I]?I:"value"]=this.trim(Y[se]),de=this.createTagElem(Y),x.push(Y),de.classList.add(this.settings.classNames.tagNoAnimation),pe[0]=de.outerHTML,this.value.push(Y);return pe.join("")}).join(""),this.DOM.input.innerHTML=d,this.DOM.input.appendChild(document.createTextNode("")),this.DOM.input.normalize();var $=this.getTagElms();return $.forEach((J,Z)=>V(J,x[Z])),this.update({withoutChangeEvent:!0}),ie($,this.state.hasFocus),d},replaceTextWithNode(d,f){if(this.state.tag||f){f=f||this.state.tag.prefix+this.state.tag.value;var w,b,k=this.state.selection||window.getSelection(),D=k.anchorNode,M=this.state.tag.delimiters?this.state.tag.delimiters.length:0;return D.splitText(k.anchorOffset-M),(w=D.nodeValue.lastIndexOf(f))==-1||(b=D.splitText(w),d&&D.parentNode.replaceChild(d,b)),!0}},selectTag(d,f){var w=this.settings;if(!w.enforceWhitelist||this.isTagWhitelisted(f.value)){this.input.set.call(this,f[w.tagTextProp]||f.value,!0),this.state.actions.selectOption&&setTimeout(()=>this.setRangeAtStartEnd(!1,this.DOM.input));var b=this.getLastTag();return b?this.replaceTag(b,f):this.appendTag(d),this.value[0]=f,this.update(),this.trigger("add",{tag:d,data:f}),[d]}},addEmptyTag(d){var f=T({value:""},d||{}),w=this.createTagElem(f);V(w,f),this.appendTag(w),this.editTag(w,{skipValidation:!0})},addTags(d,f,w){var b=[],k=this.settings,D=[],M=document.createDocumentFragment();if(w=w||k.skipInvalid,!d||d.length==0)return b;switch(d=this.normalizeTags(d),k.mode){case"mix":return this.addMixTags(d);case"select":f=!1,this.removeAllTags()}return this.DOM.input.removeAttribute("style"),d.forEach(I=>{var x,$={},J=Object.assign({},I,{value:I.value+""});if(I=Object.assign({},J),k.transformTag.call(this,I),I.__isValid=this.hasMaxTags()||this.validateTag(I),I.__isValid!==!0){if(w)return;if(T($,this.getInvalidTagAttrs(I,I.__isValid),{__preInvalidData:J}),I.__isValid==this.TEXTS.duplicate&&this.flashTag(this.getTagElmByValue(I.value)),!k.createInvalidTags)return void D.push(I.value)}if("readonly"in I&&(I.readonly?$["aria-readonly"]=!0:delete I.readonly),x=this.createTagElem(I,$),b.push(x),k.mode=="select")return this.selectTag(x,I);M.appendChild(x),I.__isValid&&I.__isValid===!0?(this.value.push(I),this.trigger("add",{tag:x,index:this.value.length-1,data:I})):(this.trigger("invalid",{data:I,index:this.value.length,tag:x,message:I.__isValid}),k.keepInvalidTags||setTimeout(()=>this.removeTags(x,!0),1e3)),this.dropdown.position()}),this.appendTag(M),this.update(),d.length&&f&&(this.input.set.call(this,k.createInvalidTags?"":D.join(k._delimiters)),this.setRangeAtStartEnd(!1,this.DOM.input)),k.dropdown.enabled&&this.dropdown.refilter(),b},addMixTags(d){if((d=this.normalizeTags(d))[0].prefix||this.state.tag)return this.prefixedTextToTag(d[0]);var f=document.createDocumentFragment();return d.forEach(w=>{var b=this.createTagElem(w);f.appendChild(b)}),this.appendMixTags(f),f},appendMixTags(d){var f=!!this.state.selection;f?this.injectAtCaret(d):(this.DOM.input.focus(),(f=this.setStateSelection()).range.setStart(this.DOM.input,f.range.endOffset),f.range.setEnd(this.DOM.input,f.range.endOffset),this.DOM.input.appendChild(d),this.updateValueByDOMTags(),this.update())},prefixedTextToTag(d){var f,w=this.settings,b=this.state.tag.delimiters;if(w.transformTag.call(this,d),d.prefix=d.prefix||this.state.tag?this.state.tag.prefix:(w.pattern.source||w.pattern)[0],f=this.createTagElem(d),this.replaceTextWithNode(f)||this.DOM.input.appendChild(f),setTimeout(()=>f.classList.add(this.settings.classNames.tagNoAnimation),300),this.value.push(d),this.update(),!b){var k=this.insertAfterTag(f)||f;setTimeout(q,0,k)}return this.state.tag=null,this.trigger("add",T({},{tag:f},{data:d})),f},appendTag(d){var f=this.DOM,w=f.input;f.scope.insertBefore(d,w)},createTagElem(d,f){d.__tagId=F();var w,b=T({},d,i({value:y(d.value+"")},f));return function(k){for(var D,M=document.createNodeIterator(k,NodeFilter.SHOW_TEXT,null,!1);D=M.nextNode();)D.textContent.trim()||D.parentNode.removeChild(D)}(w=this.parseTemplate("tag",[b,this])),V(w,d),w},reCheckInvalidTags(){var d=this.settings;this.getTagElms(d.classNames.tagNotAllowed).forEach((f,w)=>{var b=V(f),k=this.hasMaxTags(),D=this.validateTag(b),M=D===!0&&!k;if(d.mode=="select"&&this.toggleScopeValidation(D),M)return b=b.__preInvalidData?b.__preInvalidData:{value:b.value},this.replaceTag(f,b);f.title=k||D})},removeTags(d,f,w){var b,k=this.settings;if(d=d&&d instanceof HTMLElement?[d]:d instanceof Array?d:d?[d]:[this.getLastTag()],b=d.reduce((D,M)=>{M&&typeof M=="string"&&(M=this.getTagElmByValue(M));var I=V(M);return M&&I&&!I.readonly&&D.push({node:M,idx:this.getTagIdx(I),data:V(M,{__removed:!0})}),D},[]),w=typeof w=="number"?w:this.CSSVars.tagHideTransition,k.mode=="select"&&(w=0,this.input.set.call(this)),b.length==1&&k.mode!="select"&&b[0].node.classList.contains(k.classNames.tagNotAllowed)&&(f=!0),b.length)return k.hooks.beforeRemoveTag(b,{tagify:this}).then(()=>{function D(M){M.node.parentNode&&(M.node.parentNode.removeChild(M.node),f?k.keepInvalidTags&&this.trigger("remove",{tag:M.node,index:M.idx}):(this.trigger("remove",{tag:M.node,index:M.idx,data:M.data}),this.dropdown.refilter(),this.dropdown.position(),this.DOM.input.normalize(),k.keepInvalidTags&&this.reCheckInvalidTags()))}w&&w>10&&b.length==1?(function(M){M.node.style.width=parseFloat(window.getComputedStyle(M.node).width)+"px",document.body.clientTop,M.node.classList.add(k.classNames.tagHide),setTimeout(D.bind(this),w,M)}).call(this,b[0]):b.forEach(D.bind(this)),f||(this.removeTagsFromValue(b.map(M=>M.node)),this.update(),k.mode=="select"&&this.setContentEditable(!0))}).catch(D=>{})},removeTagsFromDOM(){[].slice.call(this.getTagElms()).forEach(d=>d.parentNode.removeChild(d))},removeTagsFromValue(d){(d=Array.isArray(d)?d:[d]).forEach(f=>{var w=V(f),b=this.getTagIdx(w);b>-1&&this.value.splice(b,1)})},removeAllTags(d){d=d||{},this.value=[],this.settings.mode=="mix"?this.DOM.input.innerHTML="":this.removeTagsFromDOM(),this.dropdown.refilter(),this.dropdown.position(),this.state.dropdown.visible&&setTimeout(()=>{this.DOM.input.focus()}),this.settings.mode=="select"&&(this.input.set.call(this),this.setContentEditable(!0)),this.update(d)},postUpdate(){var b,k;this.state.blockChangeEvent=!1;var d=this.settings,f=d.classNames,w=d.mode=="mix"?d.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value.trim():this.value.length+this.input.raw.call(this).length;this.toggleClass(f.hasMaxTags,this.value.length>=d.maxTags),this.toggleClass(f.hasNoTags,!this.value.length),this.toggleClass(f.empty,!w),d.mode=="select"&&this.toggleScopeValidation((k=(b=this.value)==null?void 0:b[0])==null?void 0:k.__isValid)},setOriginalInputValue(d){var f=this.DOM.originalInput;this.settings.mixMode.integrated||(f.value=d,f.tagifyValue=f.value,this.setPersistedData(d,"value"))},update(d){clearTimeout(this.debouncedUpdateTimeout),this.debouncedUpdateTimeout=setTimeout((function(){var f=this.getInputValue();this.setOriginalInputValue(f),this.settings.onChangeAfterBlur&&(d||{}).withoutChangeEvent||this.state.blockChangeEvent||this.triggerChangeEvent(),this.postUpdate()}).bind(this),100)},getInputValue(){var d=this.getCleanValue();return this.settings.mode=="mix"?this.getMixedTagsAsString(d):d.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(d):JSON.stringify(d):""},getCleanValue(d){return a(d||this.value,this.dataProps)},getMixedTagsAsString(){var d="",f=this,w=this.settings,b=w.originalInputValueFormat||JSON.stringify,k=w.mixTagsInterpolator;return function D(M){M.childNodes.forEach(I=>{if(I.nodeType==1){const x=V(I);if(I.tagName=="BR"&&(d+=`\r
`),x&&j.call(f,I)){if(x.__removed)return;d+=k[0]+b(l(x,f.dataProps))+k[1]}else I.getAttribute("style")||["B","I","U"].includes(I.tagName)?d+=I.textContent:I.tagName!="DIV"&&I.tagName!="P"||(d+=`\r
`,D(I))}else d+=I.textContent})}(this.DOM.input),d}},Le.prototype.removeTag=Le.prototype.removeTags,Le})})(bd);var cw=bd.exports;const fw=Uu(cw),pw={answers:{},showForm:!1,showFormProfile:!1,questions:[{question:"   ",answers:[1,2,3,4,5]},{question:"     ",answers:[1,2,3,4,5]},{question:"      ",answers:[1,2,3,4,5]},{question:"     ",answers:[1,2,3,4,5]},{question:"    ",answers:[1,2,3,4,5]},{question:"       ",answers:[1,2,3,4,5]},{question:"",answers:["",""],type:"radio"}],candidate:{id:"",name:null,nationalId:"",notes:"",tags:[],isSelected:!1,companyId:"",company:null,createdAt:"",interviewedDate:"",questions:"",profileUrl:""},categoriesArray:[],async init(){var s;this.isLoading=!0,this.questions.forEach(e=>{this.answers[e.question]=e.answers[0]});try{const e=window.location.pathname.split("/")[2],{data:t}=await Lt.get("/api/candidate/GetCandidate/",{params:{nationalId:e}});this.candidate=t,((s=t==null?void 0:t.name)==null?void 0:s.length)>0&&(this.showFormProfile=!0),t.questions&&t.questions!==" "&&(this.answers=JSON.parse(t==null?void 0:t.questions));const i=await Lt.get("/api/category/Get/");i.data.length>0&&this.questions.push({question:"   ",answers:i.data.map(n=>n.name)}),this.categoriesArray=i.data.map(n=>n.name),this.isLoading=!1}catch(e){console.log(e)}this.route={url:"/candidate",name:"candidate"},document.querySelectorAll("[name=numberSlider]").forEach(e=>{hw(e,{start:Number(this.answers[e.attributes.question.value]||e.attributes.min.value),direction:"rtl",connect:"lower",range:{min:Number(e.attributes.min.value),max:Number(e.attributes.max.value)},step:1,pips:{mode:md.Count,values:Number(e.attributes.max.value),stepped:!0}}).on("update",r=>{this.answers[e.attributes.question.value]=Number(r[0])});var t=e.querySelectorAll(".noUi-value");function i(r){var o=Number(r.target.getAttribute("data-value"));e.noUiSlider.set(o)}for(var n=0;n<t.length;n++)t[n].style.cursor="pointer",t[n].addEventListener("click",i)}),this.$watch("showForm",e=>{var t;new fw(this.$refs.tagifyElement,{enforceWhitelist:!1,whitelist:this.categoriesArray,dropdown:{classname:"color-blue",enabled:0,position:"text",closeOnSelect:!1,highlightFirst:!0},editTags:!0}),(t=this.$refs.tagifyElement)==null||t.addEventListener("change",i=>{this.answers["   "]=i.target.value,console.log(i.target.value),console.log(JSON.parse(i.target.value)),this.candidate.tags=JSON.parse(i.target.value).map(n=>n.value)})})},async submitAnswers(s){try{if(this.candidate.questions=JSON.stringify(s),this.candidate.interviewedDate=new Date().toISOString(),this.candidate.tags||(this.candidate.tags=[]),!this.answers["   "]){Be.fire({title:"     ",icon:"error",confirmButtonText:"",confirmButtonColor:"red"});return}if(!this.candidate.notes){Be.fire({title:"    ",icon:"error",confirmButtonText:"",confirmButtonColor:"red"});return}await Lt.put("/api/candidate/Update",this.candidate),Be.fire({title:"   ",icon:"success",confirmButtonText:"",confirmButtonColor:"#284387"}).then(()=>{window.location.href="/"})}catch{Be.fire({title:"    ",icon:"error",confirmButtonText:"",confirmButtonColor:"#284387"})}}},gw=()=>pw;var mw=function(){function s(e,t){t===void 0&&(t=[]),this._eventType=e,this._eventFunctions=t}return s.prototype.init=function(){var e=this;this._eventFunctions.forEach(function(t){typeof window<"u"&&window.addEventListener(e._eventType,t)})},s}(),bw=function(){function s(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{},InputCounter:{}}}return s.prototype.addInstance=function(e,t,i,n){if(n===void 0&&(n=!1),!this._instances[e])return console.warn("Flowbite: Component ".concat(e," does not exist.")),!1;if(this._instances[e][i]&&!n){console.warn("Flowbite: Instance with ID ".concat(i," already exists."));return}n&&this._instances[e][i]&&this._instances[e][i].destroyAndRemoveInstance(),this._instances[e][i||this._generateRandomId()]=t},s.prototype.getAllInstances=function(){return this._instances},s.prototype.getInstances=function(e){return this._instances[e]?this._instances[e]:(console.warn("Flowbite: Component ".concat(e," does not exist.")),!1)},s.prototype.getInstance=function(e,t){if(this._componentAndInstanceCheck(e,t)){if(!this._instances[e][t]){console.warn("Flowbite: Instance with ID ".concat(t," does not exist."));return}return this._instances[e][t]}},s.prototype.destroyAndRemoveInstance=function(e,t){this._componentAndInstanceCheck(e,t)&&(this.destroyInstanceObject(e,t),this.removeInstance(e,t))},s.prototype.removeInstance=function(e,t){this._componentAndInstanceCheck(e,t)&&delete this._instances[e][t]},s.prototype.destroyInstanceObject=function(e,t){this._componentAndInstanceCheck(e,t)&&this._instances[e][t].destroy()},s.prototype.instanceExists=function(e,t){return!(!this._instances[e]||!this._instances[e][t])},s.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},s.prototype._componentAndInstanceCheck=function(e,t){return this._instances[e]?this._instances[e][t]?!0:(console.warn("Flowbite: Instance with ID ".concat(t," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(e," does not exist.")),!1)},s}(),fe=new bw;typeof window<"u"&&(window.FlowbiteInstances=fe);var tn=function(){return tn=Object.assign||function(s){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},tn.apply(this,arguments)},sn={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},vw={id:null,override:!0},vd=function(){function s(e,t,i,n){e===void 0&&(e=null),t===void 0&&(t=[]),i===void 0&&(i=sn),n===void 0&&(n=vw),this._instanceId=n.id?n.id:e.id,this._accordionEl=e,this._items=t,this._options=tn(tn({},sn),i),this._initialized=!1,this.init(),fe.addInstance("Accordion",this,this._instanceId,n.override)}return s.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._items.forEach(function(t){t.active&&e.open(t.id);var i=function(){e.toggle(t.id)};t.triggerEl.addEventListener("click",i),t.clickHandler=i}),this._initialized=!0)},s.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach(function(e){e.triggerEl.removeEventListener("click",e.clickHandler),delete e.clickHandler}),this._initialized=!1)},s.prototype.removeInstance=function(){fe.removeInstance("Accordion",this._instanceId)},s.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},s.prototype.getItem=function(e){return this._items.filter(function(t){return t.id===e})[0]},s.prototype.open=function(e){var t,i,n=this,r=this.getItem(e);this._options.alwaysOpen||this._items.map(function(o){var a,l;o!==r&&((a=o.triggerEl.classList).remove.apply(a,n._options.activeClasses.split(" ")),(l=o.triggerEl.classList).add.apply(l,n._options.inactiveClasses.split(" ")),o.targetEl.classList.add("hidden"),o.triggerEl.setAttribute("aria-expanded","false"),o.active=!1,o.iconEl&&o.iconEl.classList.remove("rotate-180"))}),(t=r.triggerEl.classList).add.apply(t,this._options.activeClasses.split(" ")),(i=r.triggerEl.classList).remove.apply(i,this._options.inactiveClasses.split(" ")),r.triggerEl.setAttribute("aria-expanded","true"),r.targetEl.classList.remove("hidden"),r.active=!0,r.iconEl&&r.iconEl.classList.add("rotate-180"),this._options.onOpen(this,r)},s.prototype.toggle=function(e){var t=this.getItem(e);t.active?this.close(e):this.open(e),this._options.onToggle(this,t)},s.prototype.close=function(e){var t,i,n=this.getItem(e);(t=n.triggerEl.classList).remove.apply(t,this._options.activeClasses.split(" ")),(i=n.triggerEl.classList).add.apply(i,this._options.inactiveClasses.split(" ")),n.targetEl.classList.add("hidden"),n.triggerEl.setAttribute("aria-expanded","false"),n.active=!1,n.iconEl&&n.iconEl.classList.remove("rotate-180"),this._options.onClose(this,n)},s}();function lo(){document.querySelectorAll("[data-accordion]").forEach(function(s){var e=s.getAttribute("data-accordion"),t=s.getAttribute("data-active-classes"),i=s.getAttribute("data-inactive-classes"),n=[];s.querySelectorAll("[data-accordion-target]").forEach(function(r){if(r.closest("[data-accordion]")===s){var o={id:r.getAttribute("data-accordion-target"),triggerEl:r,targetEl:document.querySelector(r.getAttribute("data-accordion-target")),iconEl:r.querySelector("[data-accordion-icon]"),active:r.getAttribute("aria-expanded")==="true"};n.push(o)}}),new vd(s,n,{alwaysOpen:e==="open",activeClasses:t||sn.activeClasses,inactiveClasses:i||sn.inactiveClasses})})}typeof window<"u"&&(window.Accordion=vd,window.initAccordions=lo);var nn=function(){return nn=Object.assign||function(s){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},nn.apply(this,arguments)},Ja={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},ww={id:null,override:!0},Sr=function(){function s(e,t,i,n){e===void 0&&(e=null),t===void 0&&(t=null),i===void 0&&(i=Ja),n===void 0&&(n=ww),this._instanceId=n.id?n.id:e.id,this._targetEl=e,this._triggerEl=t,this._options=nn(nn({},Ja),i),this._visible=!1,this._initialized=!1,this.init(),fe.addInstance("Collapse",this,this._instanceId,n.override)}return s.prototype.init=function(){var e=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){e.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},s.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},s.prototype.removeInstance=function(){fe.removeInstance("Collapse",this._instanceId)},s.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},s.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},s.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},s.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},s}();function uo(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(s){var e=s.getAttribute("data-collapse-toggle"),t=document.getElementById(e);t?fe.instanceExists("Collapse",t.getAttribute("id"))?new Sr(t,s,{},{id:t.getAttribute("id")+"_"+fe._generateRandomId()}):new Sr(t,s):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=Sr,window.initCollapses=uo);var ni=function(){return ni=Object.assign||function(s){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},ni.apply(this,arguments)},Ks={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},yw={id:null,override:!0},wd=function(){function s(e,t,i,n){e===void 0&&(e=null),t===void 0&&(t=[]),i===void 0&&(i=Ks),n===void 0&&(n=yw),this._instanceId=n.id?n.id:e.id,this._carouselEl=e,this._items=t,this._options=ni(ni(ni({},Ks),i),{indicators:ni(ni({},Ks.indicators),i.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),fe.addInstance("Carousel",this,this._instanceId,n.override)}return s.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._items.map(function(t){t.el.classList.add("absolute","inset-0","transition-transform","transform")}),this._getActiveItem()?this.slideTo(this._getActiveItem().position):this.slideTo(0),this._indicators.map(function(t,i){t.el.addEventListener("click",function(){e.slideTo(i)})}),this._initialized=!0)},s.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},s.prototype.removeInstance=function(){fe.removeInstance("Carousel",this._instanceId)},s.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},s.prototype.getItem=function(e){return this._items[e]},s.prototype.slideTo=function(e){var t=this._items[e],i={left:t.position===0?this._items[this._items.length-1]:this._items[t.position-1],middle:t,right:t.position===this._items.length-1?this._items[0]:this._items[t.position+1]};this._rotate(i),this._setActiveItem(t),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},s.prototype.next=function(){var e=this._getActiveItem(),t=null;e.position===this._items.length-1?t=this._items[0]:t=this._items[e.position+1],this.slideTo(t.position),this._options.onNext(this)},s.prototype.prev=function(){var e=this._getActiveItem(),t=null;e.position===0?t=this._items[this._items.length-1]:t=this._items[e.position-1],this.slideTo(t.position),this._options.onPrev(this)},s.prototype._rotate=function(e){this._items.map(function(t){t.el.classList.add("hidden")}),e.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),e.left.el.classList.add("-translate-x-full","z-10"),e.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),e.middle.el.classList.add("translate-x-0","z-20"),e.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),e.right.el.classList.add("translate-x-full","z-10")},s.prototype.cycle=function(){var e=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){e.next()},this._intervalDuration))},s.prototype.pause=function(){clearInterval(this._intervalInstance)},s.prototype._getActiveItem=function(){return this._activeItem},s.prototype._setActiveItem=function(e){var t,i,n=this;this._activeItem=e;var r=e.position;this._indicators.length&&(this._indicators.map(function(o){var a,l;o.el.setAttribute("aria-current","false"),(a=o.el.classList).remove.apply(a,n._options.indicators.activeClasses.split(" ")),(l=o.el.classList).add.apply(l,n._options.indicators.inactiveClasses.split(" "))}),(t=this._indicators[r].el.classList).add.apply(t,this._options.indicators.activeClasses.split(" ")),(i=this._indicators[r].el.classList).remove.apply(i,this._options.indicators.inactiveClasses.split(" ")),this._indicators[r].el.setAttribute("aria-current","true"))},s}();function ho(){document.querySelectorAll("[data-carousel]").forEach(function(s){var e=s.getAttribute("data-carousel-interval"),t=s.getAttribute("data-carousel")==="slide",i=[],n=0;s.querySelectorAll("[data-carousel-item]").length&&Array.from(s.querySelectorAll("[data-carousel-item]")).map(function(c,p){i.push({position:p,el:c}),c.getAttribute("data-carousel-item")==="active"&&(n=p)});var r=[];s.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(s.querySelectorAll("[data-carousel-slide-to]")).map(function(c){r.push({position:parseInt(c.getAttribute("data-carousel-slide-to")),el:c})});var o=new wd(s,i,{defaultPosition:n,indicators:{items:r},interval:e||Ks.interval});t&&o.cycle();var a=s.querySelector("[data-carousel-next]"),l=s.querySelector("[data-carousel-prev]");a&&a.addEventListener("click",function(){o.next()}),l&&l.addEventListener("click",function(){o.prev()})})}typeof window<"u"&&(window.Carousel=wd,window.initCarousels=ho);var rn=function(){return rn=Object.assign||function(s){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},rn.apply(this,arguments)},Ya={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},Cw={id:null,override:!0},yd=function(){function s(e,t,i,n){e===void 0&&(e=null),t===void 0&&(t=null),i===void 0&&(i=Ya),n===void 0&&(n=Cw),this._instanceId=n.id?n.id:e.id,this._targetEl=e,this._triggerEl=t,this._options=rn(rn({},Ya),i),this._initialized=!1,this.init(),fe.addInstance("Dismiss",this,this._instanceId,n.override)}return s.prototype.init=function(){var e=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){e.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},s.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},s.prototype.removeInstance=function(){fe.removeInstance("Dismiss",this._instanceId)},s.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},s.prototype.hide=function(){var e=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){e._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},s}();function co(){document.querySelectorAll("[data-dismiss-target]").forEach(function(s){var e=s.getAttribute("data-dismiss-target"),t=document.querySelector(e);t?new yd(t,s):console.error('The dismiss element with id "'.concat(e,'" does not exist. Please check the data-dismiss-target attribute.'))})}typeof window<"u"&&(window.Dismiss=yd,window.initDismisses=co);var Ye="top",lt="bottom",ut="right",Ze="left",fo="auto",_s=[Ye,lt,ut,Ze],Ii="start",us="end",Ew="clippingParents",Cd="viewport",Zi="popper",xw="reference",Za=_s.reduce(function(s,e){return s.concat([e+"-"+Ii,e+"-"+us])},[]),Ed=[].concat(_s,[fo]).reduce(function(s,e){return s.concat([e,e+"-"+Ii,e+"-"+us])},[]),_w="beforeRead",Tw="read",kw="afterRead",Sw="beforeMain",Rw="main",Lw="afterMain",Aw="beforeWrite",Mw="write",Ow="afterWrite",Dw=[_w,Tw,kw,Sw,Rw,Lw,Aw,Mw,Ow];function yt(s){return s?(s.nodeName||"").toLowerCase():null}function st(s){if(s==null)return window;if(s.toString()!=="[object Window]"){var e=s.ownerDocument;return e&&e.defaultView||window}return s}function mi(s){var e=st(s).Element;return s instanceof e||s instanceof Element}function at(s){var e=st(s).HTMLElement;return s instanceof e||s instanceof HTMLElement}function po(s){if(typeof ShadowRoot>"u")return!1;var e=st(s).ShadowRoot;return s instanceof e||s instanceof ShadowRoot}function Pw(s){var e=s.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},r=e.elements[t];!at(r)||!yt(r)||(Object.assign(r.style,i),Object.keys(n).forEach(function(o){var a=n[o];a===!1?r.removeAttribute(o):r.setAttribute(o,a===!0?"":a)}))})}function Iw(s){var e=s.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var n=e.elements[i],r=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!at(n)||!yt(n)||(Object.assign(n.style,a),Object.keys(r).forEach(function(l){n.removeAttribute(l)}))})}}const Hw={name:"applyStyles",enabled:!0,phase:"write",fn:Pw,effect:Iw,requires:["computeStyles"]};function wt(s){return s.split("-")[0]}var ci=Math.max,on=Math.min,Hi=Math.round;function Rr(){var s=navigator.userAgentData;return s!=null&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function xd(){return!/^((?!chrome|android).)*safari/i.test(Rr())}function zi(s,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=s.getBoundingClientRect(),n=1,r=1;e&&at(s)&&(n=s.offsetWidth>0&&Hi(i.width)/s.offsetWidth||1,r=s.offsetHeight>0&&Hi(i.height)/s.offsetHeight||1);var o=mi(s)?st(s):window,a=o.visualViewport,l=!xd()&&t,c=(i.left+(l&&a?a.offsetLeft:0))/n,p=(i.top+(l&&a?a.offsetTop:0))/r,v=i.width/n,y=i.height/r;return{width:v,height:y,top:p,right:c+v,bottom:p+y,left:c,x:c,y:p}}function go(s){var e=zi(s),t=s.offsetWidth,i=s.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:s.offsetLeft,y:s.offsetTop,width:t,height:i}}function _d(s,e){var t=e.getRootNode&&e.getRootNode();if(s.contains(e))return!0;if(t&&po(t)){var i=e;do{if(i&&s.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Ot(s){return st(s).getComputedStyle(s)}function zw(s){return["table","td","th"].indexOf(yt(s))>=0}function Yt(s){return((mi(s)?s.ownerDocument:s.document)||window.document).documentElement}function On(s){return yt(s)==="html"?s:s.assignedSlot||s.parentNode||(po(s)?s.host:null)||Yt(s)}function Qa(s){return!at(s)||Ot(s).position==="fixed"?null:s.offsetParent}function Fw(s){var e=/firefox/i.test(Rr()),t=/Trident/i.test(Rr());if(t&&at(s)){var i=Ot(s);if(i.position==="fixed")return null}var n=On(s);for(po(n)&&(n=n.host);at(n)&&["html","body"].indexOf(yt(n))<0;){var r=Ot(n);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return n;n=n.parentNode}return null}function Ts(s){for(var e=st(s),t=Qa(s);t&&zw(t)&&Ot(t).position==="static";)t=Qa(t);return t&&(yt(t)==="html"||yt(t)==="body"&&Ot(t).position==="static")?e:t||Fw(s)||e}function mo(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function ss(s,e,t){return ci(s,on(e,t))}function Bw(s,e,t){var i=ss(s,e,t);return i>t?t:i}function Td(){return{top:0,right:0,bottom:0,left:0}}function kd(s){return Object.assign({},Td(),s)}function Sd(s,e){return e.reduce(function(t,i){return t[i]=s,t},{})}var Nw=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,kd(typeof e!="number"?e:Sd(e,_s))};function Vw(s){var e,t=s.state,i=s.name,n=s.options,r=t.elements.arrow,o=t.modifiersData.popperOffsets,a=wt(t.placement),l=mo(a),c=[Ze,ut].indexOf(a)>=0,p=c?"height":"width";if(!(!r||!o)){var v=Nw(n.padding,t),y=go(r),_=l==="y"?Ye:Ze,T=l==="y"?lt:ut,S=t.rects.reference[p]+t.rects.reference[l]-o[l]-t.rects.popper[p],L=o[l]-t.rects.reference[l],A=Ts(r),F=A?l==="y"?A.clientHeight||0:A.clientWidth||0:0,j=S/2-L/2,B=v[_],V=F-y[p]-v[T],q=F/2-y[p]/2+j,ie=ss(B,q,V),ee=l;t.modifiersData[i]=(e={},e[ee]=ie,e.centerOffset=ie-q,e)}}function jw(s){var e=s.state,t=s.options,i=t.element,n=i===void 0?"[data-popper-arrow]":i;n!=null&&(typeof n=="string"&&(n=e.elements.popper.querySelector(n),!n)||_d(e.elements.popper,n)&&(e.elements.arrow=n))}const Ww={name:"arrow",enabled:!0,phase:"main",fn:Vw,effect:jw,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fi(s){return s.split("-")[1]}var Uw={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Gw(s,e){var t=s.x,i=s.y,n=e.devicePixelRatio||1;return{x:Hi(t*n)/n||0,y:Hi(i*n)/n||0}}function el(s){var e,t=s.popper,i=s.popperRect,n=s.placement,r=s.variation,o=s.offsets,a=s.position,l=s.gpuAcceleration,c=s.adaptive,p=s.roundOffsets,v=s.isFixed,y=o.x,_=y===void 0?0:y,T=o.y,S=T===void 0?0:T,L=typeof p=="function"?p({x:_,y:S}):{x:_,y:S};_=L.x,S=L.y;var A=o.hasOwnProperty("x"),F=o.hasOwnProperty("y"),j=Ze,B=Ye,V=window;if(c){var q=Ts(t),ie="clientHeight",ee="clientWidth";if(q===st(t)&&(q=Yt(t),Ot(q).position!=="static"&&a==="absolute"&&(ie="scrollHeight",ee="scrollWidth")),q=q,n===Ye||(n===Ze||n===ut)&&r===us){B=lt;var be=v&&q===V&&V.visualViewport?V.visualViewport.height:q[ie];S-=be-i.height,S*=l?1:-1}if(n===Ze||(n===Ye||n===lt)&&r===us){j=ut;var ve=v&&q===V&&V.visualViewport?V.visualViewport.width:q[ee];_-=ve-i.width,_*=l?1:-1}}var ye=Object.assign({position:a},c&&Uw),Q=p===!0?Gw({x:_,y:S},st(t)):{x:_,y:S};if(_=Q.x,S=Q.y,l){var Re;return Object.assign({},ye,(Re={},Re[B]=F?"0":"",Re[j]=A?"0":"",Re.transform=(V.devicePixelRatio||1)<=1?"translate("+_+"px, "+S+"px)":"translate3d("+_+"px, "+S+"px, 0)",Re))}return Object.assign({},ye,(e={},e[B]=F?S+"px":"",e[j]=A?_+"px":"",e.transform="",e))}function qw(s){var e=s.state,t=s.options,i=t.gpuAcceleration,n=i===void 0?!0:i,r=t.adaptive,o=r===void 0?!0:r,a=t.roundOffsets,l=a===void 0?!0:a,c={placement:wt(e.placement),variation:Fi(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,el(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,el(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const $w={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:qw,data:{}};var Fs={passive:!0};function Kw(s){var e=s.state,t=s.instance,i=s.options,n=i.scroll,r=n===void 0?!0:n,o=i.resize,a=o===void 0?!0:o,l=st(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&c.forEach(function(p){p.addEventListener("scroll",t.update,Fs)}),a&&l.addEventListener("resize",t.update,Fs),function(){r&&c.forEach(function(p){p.removeEventListener("scroll",t.update,Fs)}),a&&l.removeEventListener("resize",t.update,Fs)}}const Xw={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Kw,data:{}};var Jw={left:"right",right:"left",bottom:"top",top:"bottom"};function Xs(s){return s.replace(/left|right|bottom|top/g,function(e){return Jw[e]})}var Yw={start:"end",end:"start"};function tl(s){return s.replace(/start|end/g,function(e){return Yw[e]})}function bo(s){var e=st(s),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function vo(s){return zi(Yt(s)).left+bo(s).scrollLeft}function Zw(s,e){var t=st(s),i=Yt(s),n=t.visualViewport,r=i.clientWidth,o=i.clientHeight,a=0,l=0;if(n){r=n.width,o=n.height;var c=xd();(c||!c&&e==="fixed")&&(a=n.offsetLeft,l=n.offsetTop)}return{width:r,height:o,x:a+vo(s),y:l}}function Qw(s){var e,t=Yt(s),i=bo(s),n=(e=s.ownerDocument)==null?void 0:e.body,r=ci(t.scrollWidth,t.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),o=ci(t.scrollHeight,t.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-i.scrollLeft+vo(s),l=-i.scrollTop;return Ot(n||t).direction==="rtl"&&(a+=ci(t.clientWidth,n?n.clientWidth:0)-r),{width:r,height:o,x:a,y:l}}function wo(s){var e=Ot(s),t=e.overflow,i=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+n+i)}function Rd(s){return["html","body","#document"].indexOf(yt(s))>=0?s.ownerDocument.body:at(s)&&wo(s)?s:Rd(On(s))}function ns(s,e){var t;e===void 0&&(e=[]);var i=Rd(s),n=i===((t=s.ownerDocument)==null?void 0:t.body),r=st(i),o=n?[r].concat(r.visualViewport||[],wo(i)?i:[]):i,a=e.concat(o);return n?a:a.concat(ns(On(o)))}function Lr(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function ey(s,e){var t=zi(s,!1,e==="fixed");return t.top=t.top+s.clientTop,t.left=t.left+s.clientLeft,t.bottom=t.top+s.clientHeight,t.right=t.left+s.clientWidth,t.width=s.clientWidth,t.height=s.clientHeight,t.x=t.left,t.y=t.top,t}function il(s,e,t){return e===Cd?Lr(Zw(s,t)):mi(e)?ey(e,t):Lr(Qw(Yt(s)))}function ty(s){var e=ns(On(s)),t=["absolute","fixed"].indexOf(Ot(s).position)>=0,i=t&&at(s)?Ts(s):s;return mi(i)?e.filter(function(n){return mi(n)&&_d(n,i)&&yt(n)!=="body"}):[]}function iy(s,e,t,i){var n=e==="clippingParents"?ty(s):[].concat(e),r=[].concat(n,[t]),o=r[0],a=r.reduce(function(l,c){var p=il(s,c,i);return l.top=ci(p.top,l.top),l.right=on(p.right,l.right),l.bottom=on(p.bottom,l.bottom),l.left=ci(p.left,l.left),l},il(s,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Ld(s){var e=s.reference,t=s.element,i=s.placement,n=i?wt(i):null,r=i?Fi(i):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(n){case Ye:l={x:o,y:e.y-t.height};break;case lt:l={x:o,y:e.y+e.height};break;case ut:l={x:e.x+e.width,y:a};break;case Ze:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var c=n?mo(n):null;if(c!=null){var p=c==="y"?"height":"width";switch(r){case Ii:l[c]=l[c]-(e[p]/2-t[p]/2);break;case us:l[c]=l[c]+(e[p]/2-t[p]/2);break}}return l}function ds(s,e){e===void 0&&(e={});var t=e,i=t.placement,n=i===void 0?s.placement:i,r=t.strategy,o=r===void 0?s.strategy:r,a=t.boundary,l=a===void 0?Ew:a,c=t.rootBoundary,p=c===void 0?Cd:c,v=t.elementContext,y=v===void 0?Zi:v,_=t.altBoundary,T=_===void 0?!1:_,S=t.padding,L=S===void 0?0:S,A=kd(typeof L!="number"?L:Sd(L,_s)),F=y===Zi?xw:Zi,j=s.rects.popper,B=s.elements[T?F:y],V=iy(mi(B)?B:B.contextElement||Yt(s.elements.popper),l,p,o),q=zi(s.elements.reference),ie=Ld({reference:q,element:j,strategy:"absolute",placement:n}),ee=Lr(Object.assign({},j,ie)),be=y===Zi?ee:q,ve={top:V.top-be.top+A.top,bottom:be.bottom-V.bottom+A.bottom,left:V.left-be.left+A.left,right:be.right-V.right+A.right},ye=s.modifiersData.offset;if(y===Zi&&ye){var Q=ye[n];Object.keys(ve).forEach(function(Re){var je=[ut,lt].indexOf(Re)>=0?1:-1,et=[Ye,lt].indexOf(Re)>=0?"y":"x";ve[Re]+=Q[et]*je})}return ve}function sy(s,e){e===void 0&&(e={});var t=e,i=t.placement,n=t.boundary,r=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?Ed:l,p=Fi(i),v=p?a?Za:Za.filter(function(T){return Fi(T)===p}):_s,y=v.filter(function(T){return c.indexOf(T)>=0});y.length===0&&(y=v);var _=y.reduce(function(T,S){return T[S]=ds(s,{placement:S,boundary:n,rootBoundary:r,padding:o})[wt(S)],T},{});return Object.keys(_).sort(function(T,S){return _[T]-_[S]})}function ny(s){if(wt(s)===fo)return[];var e=Xs(s);return[tl(s),e,tl(e)]}function ry(s){var e=s.state,t=s.options,i=s.name;if(!e.modifiersData[i]._skip){for(var n=t.mainAxis,r=n===void 0?!0:n,o=t.altAxis,a=o===void 0?!0:o,l=t.fallbackPlacements,c=t.padding,p=t.boundary,v=t.rootBoundary,y=t.altBoundary,_=t.flipVariations,T=_===void 0?!0:_,S=t.allowedAutoPlacements,L=e.options.placement,A=wt(L),F=A===L,j=l||(F||!T?[Xs(L)]:ny(L)),B=[L].concat(j).reduce(function(I,x){return I.concat(wt(x)===fo?sy(e,{placement:x,boundary:p,rootBoundary:v,padding:c,flipVariations:T,allowedAutoPlacements:S}):x)},[]),V=e.rects.reference,q=e.rects.popper,ie=new Map,ee=!0,be=B[0],ve=0;ve<B.length;ve++){var ye=B[ve],Q=wt(ye),Re=Fi(ye)===Ii,je=[Ye,lt].indexOf(Q)>=0,et=je?"width":"height",Le=ds(e,{placement:ye,boundary:p,rootBoundary:v,altBoundary:y,padding:c}),d=je?Re?ut:Ze:Re?lt:Ye;V[et]>q[et]&&(d=Xs(d));var f=Xs(d),w=[];if(r&&w.push(Le[Q]<=0),a&&w.push(Le[d]<=0,Le[f]<=0),w.every(function(I){return I})){be=ye,ee=!1;break}ie.set(ye,w)}if(ee)for(var b=T?3:1,k=function(x){var $=B.find(function(J){var Z=ie.get(J);if(Z)return Z.slice(0,x).every(function(se){return se})});if($)return be=$,"break"},D=b;D>0;D--){var M=k(D);if(M==="break")break}e.placement!==be&&(e.modifiersData[i]._skip=!0,e.placement=be,e.reset=!0)}}const oy={name:"flip",enabled:!0,phase:"main",fn:ry,requiresIfExists:["offset"],data:{_skip:!1}};function sl(s,e,t){return t===void 0&&(t={x:0,y:0}),{top:s.top-e.height-t.y,right:s.right-e.width+t.x,bottom:s.bottom-e.height+t.y,left:s.left-e.width-t.x}}function nl(s){return[Ye,ut,lt,Ze].some(function(e){return s[e]>=0})}function ay(s){var e=s.state,t=s.name,i=e.rects.reference,n=e.rects.popper,r=e.modifiersData.preventOverflow,o=ds(e,{elementContext:"reference"}),a=ds(e,{altBoundary:!0}),l=sl(o,i),c=sl(a,n,r),p=nl(l),v=nl(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:p,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":v})}const ly={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ay};function uy(s,e,t){var i=wt(s),n=[Ze,Ye].indexOf(i)>=0?-1:1,r=typeof t=="function"?t(Object.assign({},e,{placement:s})):t,o=r[0],a=r[1];return o=o||0,a=(a||0)*n,[Ze,ut].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function dy(s){var e=s.state,t=s.options,i=s.name,n=t.offset,r=n===void 0?[0,0]:n,o=Ed.reduce(function(p,v){return p[v]=uy(v,e.rects,r),p},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}const hy={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:dy};function cy(s){var e=s.state,t=s.name;e.modifiersData[t]=Ld({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const fy={name:"popperOffsets",enabled:!0,phase:"read",fn:cy,data:{}};function py(s){return s==="x"?"y":"x"}function gy(s){var e=s.state,t=s.options,i=s.name,n=t.mainAxis,r=n===void 0?!0:n,o=t.altAxis,a=o===void 0?!1:o,l=t.boundary,c=t.rootBoundary,p=t.altBoundary,v=t.padding,y=t.tether,_=y===void 0?!0:y,T=t.tetherOffset,S=T===void 0?0:T,L=ds(e,{boundary:l,rootBoundary:c,padding:v,altBoundary:p}),A=wt(e.placement),F=Fi(e.placement),j=!F,B=mo(A),V=py(B),q=e.modifiersData.popperOffsets,ie=e.rects.reference,ee=e.rects.popper,be=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,ve=typeof be=="number"?{mainAxis:be,altAxis:be}:Object.assign({mainAxis:0,altAxis:0},be),ye=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Q={x:0,y:0};if(q){if(r){var Re,je=B==="y"?Ye:Ze,et=B==="y"?lt:ut,Le=B==="y"?"height":"width",d=q[B],f=d+L[je],w=d-L[et],b=_?-ee[Le]/2:0,k=F===Ii?ie[Le]:ee[Le],D=F===Ii?-ee[Le]:-ie[Le],M=e.elements.arrow,I=_&&M?go(M):{width:0,height:0},x=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Td(),$=x[je],J=x[et],Z=ss(0,ie[Le],I[Le]),se=j?ie[Le]/2-b-Z-$-ve.mainAxis:k-Z-$-ve.mainAxis,Y=j?-ie[Le]/2+b+Z+J+ve.mainAxis:D+Z+J+ve.mainAxis,de=e.elements.arrow&&Ts(e.elements.arrow),pe=de?B==="y"?de.clientTop||0:de.clientLeft||0:0,ae=(Re=ye==null?void 0:ye[B])!=null?Re:0,Me=d+se-ae-pe,xe=d+Y-ae,Ve=ss(_?on(f,Me):f,d,_?ci(w,xe):w);q[B]=Ve,Q[B]=Ve-d}if(a){var Te,Ke=B==="x"?Ye:Ze,ze=B==="x"?lt:ut,Fe=q[V],ne=V==="y"?"height":"width",ue=Fe+L[Ke],nt=Fe-L[ze],Dt=[Ye,Ze].indexOf(A)!==-1,Pt=(Te=ye==null?void 0:ye[V])!=null?Te:0,It=Dt?ue:Fe-ie[ne]-ee[ne]-Pt+ve.altAxis,Et=Dt?Fe+ie[ne]+ee[ne]-Pt-ve.altAxis:nt,Xe=_&&Dt?Bw(It,Fe,Et):ss(_?It:ue,Fe,_?Et:nt);q[V]=Xe,Q[V]=Xe-Fe}e.modifiersData[i]=Q}}const my={name:"preventOverflow",enabled:!0,phase:"main",fn:gy,requiresIfExists:["offset"]};function by(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}function vy(s){return s===st(s)||!at(s)?bo(s):by(s)}function wy(s){var e=s.getBoundingClientRect(),t=Hi(e.width)/s.offsetWidth||1,i=Hi(e.height)/s.offsetHeight||1;return t!==1||i!==1}function yy(s,e,t){t===void 0&&(t=!1);var i=at(e),n=at(e)&&wy(e),r=Yt(e),o=zi(s,n,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((yt(e)!=="body"||wo(r))&&(a=vy(e)),at(e)?(l=zi(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):r&&(l.x=vo(r))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Cy(s){var e=new Map,t=new Set,i=[];s.forEach(function(r){e.set(r.name,r)});function n(r){t.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&n(l)}}),i.push(r)}return s.forEach(function(r){t.has(r.name)||n(r)}),i}function Ey(s){var e=Cy(s);return Dw.reduce(function(t,i){return t.concat(e.filter(function(n){return n.phase===i}))},[])}function xy(s){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(s())})})),e}}function _y(s){var e=s.reduce(function(t,i){var n=t[i.name];return t[i.name]=n?Object.assign({},n,i,{options:Object.assign({},n.options,i.options),data:Object.assign({},n.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var rl={placement:"bottom",modifiers:[],strategy:"absolute"};function ol(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Ty(s){s===void 0&&(s={});var e=s,t=e.defaultModifiers,i=t===void 0?[]:t,n=e.defaultOptions,r=n===void 0?rl:n;return function(a,l,c){c===void 0&&(c=r);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},rl,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},v=[],y=!1,_={state:p,setOptions:function(A){var F=typeof A=="function"?A(p.options):A;S(),p.options=Object.assign({},r,p.options,F),p.scrollParents={reference:mi(a)?ns(a):a.contextElement?ns(a.contextElement):[],popper:ns(l)};var j=Ey(_y([].concat(i,p.options.modifiers)));return p.orderedModifiers=j.filter(function(B){return B.enabled}),T(),_.update()},forceUpdate:function(){if(!y){var A=p.elements,F=A.reference,j=A.popper;if(ol(F,j)){p.rects={reference:yy(F,Ts(j),p.options.strategy==="fixed"),popper:go(j)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(ve){return p.modifiersData[ve.name]=Object.assign({},ve.data)});for(var B=0;B<p.orderedModifiers.length;B++){if(p.reset===!0){p.reset=!1,B=-1;continue}var V=p.orderedModifiers[B],q=V.fn,ie=V.options,ee=ie===void 0?{}:ie,be=V.name;typeof q=="function"&&(p=q({state:p,options:ee,name:be,instance:_})||p)}}}},update:xy(function(){return new Promise(function(L){_.forceUpdate(),L(p)})}),destroy:function(){S(),y=!0}};if(!ol(a,l))return _;_.setOptions(c).then(function(L){!y&&c.onFirstUpdate&&c.onFirstUpdate(L)});function T(){p.orderedModifiers.forEach(function(L){var A=L.name,F=L.options,j=F===void 0?{}:F,B=L.effect;if(typeof B=="function"){var V=B({state:p,name:A,instance:_,options:j}),q=function(){};v.push(V||q)}})}function S(){v.forEach(function(L){return L()}),v=[]}return _}}var ky=[Xw,fy,$w,Hw,hy,oy,my,Ww,ly],yo=Ty({defaultModifiers:ky}),jt=function(){return jt=Object.assign||function(s){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},jt.apply(this,arguments)},Bs=function(s,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,r;i<n;i++)(r||!(i in e))&&(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return s.concat(r||Array.prototype.slice.call(e))},Wt={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},Sy={id:null,override:!0},Ad=function(){function s(e,t,i,n){e===void 0&&(e=null),t===void 0&&(t=null),i===void 0&&(i=Wt),n===void 0&&(n=Sy),this._instanceId=n.id?n.id:e.id,this._targetEl=e,this._triggerEl=t,this._options=jt(jt({},Wt),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),fe.addInstance("Dropdown",this,this._instanceId,n.override)}return s.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},s.prototype.destroy=function(){var e=this,t=this._getTriggerEvents();this._options.triggerType==="click"&&t.showEvents.forEach(function(i){e._triggerEl.removeEventListener(i,e._clickHandler)}),this._options.triggerType==="hover"&&(t.showEvents.forEach(function(i){e._triggerEl.removeEventListener(i,e._hoverShowTriggerElHandler),e._targetEl.removeEventListener(i,e._hoverShowTargetElHandler)}),t.hideEvents.forEach(function(i){e._triggerEl.removeEventListener(i,e._hoverHideHandler),e._targetEl.removeEventListener(i,e._hoverHideHandler)})),this._popperInstance.destroy(),this._initialized=!1},s.prototype.removeInstance=function(){fe.removeInstance("Dropdown",this._instanceId)},s.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},s.prototype._setupEventListeners=function(){var e=this,t=this._getTriggerEvents();this._clickHandler=function(){e.toggle()},this._options.triggerType==="click"&&t.showEvents.forEach(function(i){e._triggerEl.addEventListener(i,e._clickHandler)}),this._hoverShowTriggerElHandler=function(i){i.type==="click"?e.toggle():setTimeout(function(){e.show()},e._options.delay)},this._hoverShowTargetElHandler=function(){e.show()},this._hoverHideHandler=function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},e._options.delay)},this._options.triggerType==="hover"&&(t.showEvents.forEach(function(i){e._triggerEl.addEventListener(i,e._hoverShowTriggerElHandler),e._targetEl.addEventListener(i,e._hoverShowTargetElHandler)}),t.hideEvents.forEach(function(i){e._triggerEl.addEventListener(i,e._hoverHideHandler),e._targetEl.addEventListener(i,e._hoverHideHandler)}))},s.prototype._createPopperInstance=function(){return yo(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},s.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(t){e._handleClickOutside(t,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},s.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},s.prototype._handleClickOutside=function(e,t){var i=e.target,n=this._options.ignoreClickOutsideClass,r=!1;if(n){var o=document.querySelectorAll(".".concat(n));o.forEach(function(a){if(a.contains(i)){r=!0;return}})}i!==t&&!t.contains(i)&&!this._triggerEl.contains(i)&&!r&&this.isVisible()&&this.hide()},s.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["click"],hideEvents:[]}}},s.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},s.prototype.isVisible=function(){return this._visible},s.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._popperInstance.setOptions(function(e){return jt(jt({},e),{modifiers:Bs(Bs([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},s.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._popperInstance.setOptions(function(e){return jt(jt({},e),{modifiers:Bs(Bs([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},s}();function Co(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(s){var e=s.getAttribute("data-dropdown-toggle"),t=document.getElementById(e);if(t){var i=s.getAttribute("data-dropdown-placement"),n=s.getAttribute("data-dropdown-offset-skidding"),r=s.getAttribute("data-dropdown-offset-distance"),o=s.getAttribute("data-dropdown-trigger"),a=s.getAttribute("data-dropdown-delay"),l=s.getAttribute("data-dropdown-ignore-click-outside-class");new Ad(t,s,{placement:i||Wt.placement,triggerType:o||Wt.triggerType,offsetSkidding:n?parseInt(n):Wt.offsetSkidding,offsetDistance:r?parseInt(r):Wt.offsetDistance,delay:a?parseInt(a):Wt.delay,ignoreClickOutsideClass:l||Wt.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(e,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=Ad,window.initDropdowns=Co);var an=function(){return an=Object.assign||function(s){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},an.apply(this,arguments)},ln={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},Ry={id:null,override:!0},Dn=function(){function s(e,t,i){e===void 0&&(e=null),t===void 0&&(t=ln),i===void 0&&(i=Ry),this._eventListenerInstances=[],this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._options=an(an({},ln),t),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),fe.addInstance("Modal",this,this._instanceId,i.override)}return s.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map(function(t){e._targetEl.classList.add(t)}),this._initialized=!0)},s.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},s.prototype.removeInstance=function(){fe.removeInstance("Modal",this._instanceId)},s.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},s.prototype._createBackdrop=function(){var e;if(this._isHidden){var t=document.createElement("div");t.setAttribute("modal-backdrop",""),(e=t.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(t),this._backdropEl=t}},s.prototype._destroyBackdropEl=function(){this._isHidden||document.querySelector("[modal-backdrop]").remove()},s.prototype._setupModalCloseEventListeners=function(){var e=this;this._options.backdrop==="dynamic"&&(this._clickOutsideEventListener=function(t){e._handleOutsideClick(t.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(t){t.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},s.prototype._removeModalCloseEventListeners=function(){this._options.backdrop==="dynamic"&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},s.prototype._handleOutsideClick=function(e){(e===this._targetEl||e===this._backdropEl&&this.isVisible())&&this.hide()},s.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},s.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},s.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},s.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},s.prototype.isVisible=function(){return!this._isHidden},s.prototype.isHidden=function(){return this._isHidden},s.prototype.addEventListenerInstance=function(e,t,i){this._eventListenerInstances.push({element:e,type:t,handler:i})},s.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(e){e.element.removeEventListener(e.type,e.handler)}),this._eventListenerInstances=[]},s.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},s}();function Eo(){document.querySelectorAll("[data-modal-target]").forEach(function(s){var e=s.getAttribute("data-modal-target"),t=document.getElementById(e);if(t){var i=t.getAttribute("data-modal-placement"),n=t.getAttribute("data-modal-backdrop");new Dn(t,{placement:i||ln.placement,backdrop:n||ln.backdrop})}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(s){var e=s.getAttribute("data-modal-toggle"),t=document.getElementById(e);if(t){var i=fe.getInstance("Modal",e);if(i){var n=function(){i.toggle()};s.addEventListener("click",n),i.addEventListenerInstance(s,"click",n)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(s){var e=s.getAttribute("data-modal-show"),t=document.getElementById(e);if(t){var i=fe.getInstance("Modal",e);if(i){var n=function(){i.show()};s.addEventListener("click",n),i.addEventListenerInstance(s,"click",n)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(s){var e=s.getAttribute("data-modal-hide"),t=document.getElementById(e);if(t){var i=fe.getInstance("Modal",e);if(i){var n=function(){i.hide()};s.addEventListener("click",n),i.addEventListenerInstance(s,"click",n)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=Dn,window.initModals=Eo);var un=function(){return un=Object.assign||function(s){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},un.apply(this,arguments)},ri={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},Ly={id:null,override:!0},Md=function(){function s(e,t,i){e===void 0&&(e=null),t===void 0&&(t=ri),i===void 0&&(i=Ly),this._eventListenerInstances=[],this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._options=un(un({},ri),t),this._visible=!1,this._initialized=!1,this.init(),fe.addInstance("Drawer",this,this._instanceId,i.override)}return s.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map(function(t){e._targetEl.classList.add(t)}),this._handleEscapeKey=function(t){t.key==="Escape"&&e.isVisible()&&e.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},s.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},s.prototype.removeInstance=function(){fe.removeInstance("Drawer",this._instanceId)},s.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},s.prototype.hide=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(t){e._targetEl.classList.remove(t)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(t){e._targetEl.classList.add(t)})):(this._getPlacementClasses(this._options.placement).active.map(function(t){e._targetEl.classList.remove(t)}),this._getPlacementClasses(this._options.placement).inactive.map(function(t){e._targetEl.classList.add(t)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},s.prototype.show=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(t){e._targetEl.classList.add(t)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(t){e._targetEl.classList.remove(t)})):(this._getPlacementClasses(this._options.placement).active.map(function(t){e._targetEl.classList.add(t)}),this._getPlacementClasses(this._options.placement).inactive.map(function(t){e._targetEl.classList.remove(t)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},s.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},s.prototype._createBackdrop=function(){var e,t=this;if(!this._visible){var i=document.createElement("div");i.setAttribute("drawer-backdrop",""),(e=i.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(i),i.addEventListener("click",function(){t.hide()})}},s.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]").remove()},s.prototype._getPlacementClasses=function(e){switch(e){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]};default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]}}},s.prototype.isHidden=function(){return!this._visible},s.prototype.isVisible=function(){return this._visible},s.prototype.addEventListenerInstance=function(e,t,i){this._eventListenerInstances.push({element:e,type:t,handler:i})},s.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(e){e.element.removeEventListener(e.type,e.handler)}),this._eventListenerInstances=[]},s.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},s}();function xo(){document.querySelectorAll("[data-drawer-target]").forEach(function(s){var e=s.getAttribute("data-drawer-target"),t=document.getElementById(e);if(t){var i=s.getAttribute("data-drawer-placement"),n=s.getAttribute("data-drawer-body-scrolling"),r=s.getAttribute("data-drawer-backdrop"),o=s.getAttribute("data-drawer-edge"),a=s.getAttribute("data-drawer-edge-offset");new Md(t,{placement:i||ri.placement,bodyScrolling:n?n==="true":ri.bodyScrolling,backdrop:r?r==="true":ri.backdrop,edge:o?o==="true":ri.edge,edgeOffset:a||ri.edgeOffset})}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(s){var e=s.getAttribute("data-drawer-toggle"),t=document.getElementById(e);if(t){var i=fe.getInstance("Drawer",e);if(i){var n=function(){i.toggle()};s.addEventListener("click",n),i.addEventListenerInstance(s,"click",n)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(s){var e=s.getAttribute("data-drawer-dismiss")?s.getAttribute("data-drawer-dismiss"):s.getAttribute("data-drawer-hide"),t=document.getElementById(e);if(t){var i=fe.getInstance("Drawer",e);if(i){var n=function(){i.hide()};s.addEventListener("click",n),i.addEventListenerInstance(s,"click",n)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(s){var e=s.getAttribute("data-drawer-show"),t=document.getElementById(e);if(t){var i=fe.getInstance("Drawer",e);if(i){var n=function(){i.show()};s.addEventListener("click",n),i.addEventListenerInstance(s,"click",n)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=Md,window.initDrawers=xo);var dn=function(){return dn=Object.assign||function(s){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},dn.apply(this,arguments)},al={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},Ay={id:null,override:!0},Od=function(){function s(e,t,i,n){e===void 0&&(e=null),t===void 0&&(t=[]),i===void 0&&(i=al),n===void 0&&(n=Ay),this._instanceId=n.id?n.id:e.id,this._tabsEl=e,this._items=t,this._activeTab=i?this.getTab(i.defaultTabId):null,this._options=dn(dn({},al),i),this._initialized=!1,this.init(),fe.addInstance("Tabs",this,this._tabsEl.id,!0),fe.addInstance("Tabs",this,this._instanceId,n.override)}return s.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(t){t.triggerEl.addEventListener("click",function(){e.show(t.id)})}))},s.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},s.prototype.removeInstance=function(){this.destroy(),fe.removeInstance("Tabs",this._instanceId)},s.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},s.prototype.getActiveTab=function(){return this._activeTab},s.prototype.setActiveTab=function(e){this._activeTab=e},s.prototype.getTab=function(e){return this._items.filter(function(t){return t.id===e})[0]},s.prototype.show=function(e,t){var i,n,r=this;t===void 0&&(t=!1);var o=this.getTab(e);o===this._activeTab&&!t||(this._items.map(function(a){var l,c;a!==o&&((l=a.triggerEl.classList).remove.apply(l,r._options.activeClasses.split(" ")),(c=a.triggerEl.classList).add.apply(c,r._options.inactiveClasses.split(" ")),a.targetEl.classList.add("hidden"),a.triggerEl.setAttribute("aria-selected","false"))}),(i=o.triggerEl.classList).add.apply(i,this._options.activeClasses.split(" ")),(n=o.triggerEl.classList).remove.apply(n,this._options.inactiveClasses.split(" ")),o.triggerEl.setAttribute("aria-selected","true"),o.targetEl.classList.remove("hidden"),this.setActiveTab(o),this._options.onShow(this,o))},s}();function _o(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(s){var e=[],t=null;s.querySelectorAll('[role="tab"]').forEach(function(i){var n=i.getAttribute("aria-selected")==="true",r={id:i.getAttribute("data-tabs-target"),triggerEl:i,targetEl:document.querySelector(i.getAttribute("data-tabs-target"))};e.push(r),n&&(t=r.id)}),new Od(s,e,{defaultTabId:t})})}typeof window<"u"&&(window.Tabs=Od,window.initTabs=_o);var Ut=function(){return Ut=Object.assign||function(s){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},Ut.apply(this,arguments)},Ns=function(s,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,r;i<n;i++)(r||!(i in e))&&(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return s.concat(r||Array.prototype.slice.call(e))},hn={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},My={id:null,override:!0},Dd=function(){function s(e,t,i,n){e===void 0&&(e=null),t===void 0&&(t=null),i===void 0&&(i=hn),n===void 0&&(n=My),this._instanceId=n.id?n.id:e.id,this._targetEl=e,this._triggerEl=t,this._options=Ut(Ut({},hn),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),fe.addInstance("Tooltip",this,this._instanceId,n.override)}return s.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},s.prototype.destroy=function(){var e=this;if(this._initialized){var t=this._getTriggerEvents();t.showEvents.forEach(function(i){e._triggerEl.removeEventListener(i,e._showHandler)}),t.hideEvents.forEach(function(i){e._triggerEl.removeEventListener(i,e._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},s.prototype.removeInstance=function(){fe.removeInstance("Tooltip",this._instanceId)},s.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},s.prototype._setupEventListeners=function(){var e=this,t=this._getTriggerEvents();this._showHandler=function(){e.show()},this._hideHandler=function(){e.hide()},t.showEvents.forEach(function(i){e._triggerEl.addEventListener(i,e._showHandler)}),t.hideEvents.forEach(function(i){e._triggerEl.addEventListener(i,e._hideHandler)})},s.prototype._createPopperInstance=function(){return yo(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},s.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},s.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(t){t.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},s.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},s.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(t){e._handleClickOutside(t,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},s.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},s.prototype._handleClickOutside=function(e,t){var i=e.target;i!==t&&!t.contains(i)&&!this._triggerEl.contains(i)&&this.isVisible()&&this.hide()},s.prototype.isVisible=function(){return this._visible},s.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},s.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return Ut(Ut({},e),{modifiers:Ns(Ns([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},s.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return Ut(Ut({},e),{modifiers:Ns(Ns([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},s}();function To(){document.querySelectorAll("[data-tooltip-target]").forEach(function(s){var e=s.getAttribute("data-tooltip-target"),t=document.getElementById(e);if(t){var i=s.getAttribute("data-tooltip-trigger"),n=s.getAttribute("data-tooltip-placement");new Dd(t,s,{placement:n||hn.placement,triggerType:i||hn.triggerType})}else console.error('The tooltip element with id "'.concat(e,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=Dd,window.initTooltips=To);var Gt=function(){return Gt=Object.assign||function(s){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},Gt.apply(this,arguments)},Vs=function(s,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,r;i<n;i++)(r||!(i in e))&&(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return s.concat(r||Array.prototype.slice.call(e))},rs={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},Oy={id:null,override:!0},Pd=function(){function s(e,t,i,n){e===void 0&&(e=null),t===void 0&&(t=null),i===void 0&&(i=rs),n===void 0&&(n=Oy),this._instanceId=n.id?n.id:e.id,this._targetEl=e,this._triggerEl=t,this._options=Gt(Gt({},rs),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),fe.addInstance("Popover",this,n.id?n.id:this._targetEl.id,n.override)}return s.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},s.prototype.destroy=function(){var e=this;if(this._initialized){var t=this._getTriggerEvents();t.showEvents.forEach(function(i){e._triggerEl.removeEventListener(i,e._showHandler),e._targetEl.removeEventListener(i,e._showHandler)}),t.hideEvents.forEach(function(i){e._triggerEl.removeEventListener(i,e._hideHandler),e._targetEl.removeEventListener(i,e._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},s.prototype.removeInstance=function(){fe.removeInstance("Popover",this._instanceId)},s.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},s.prototype._setupEventListeners=function(){var e=this,t=this._getTriggerEvents();this._showHandler=function(){e.show()},this._hideHandler=function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},100)},t.showEvents.forEach(function(i){e._triggerEl.addEventListener(i,e._showHandler),e._targetEl.addEventListener(i,e._showHandler)}),t.hideEvents.forEach(function(i){e._triggerEl.addEventListener(i,e._hideHandler),e._targetEl.addEventListener(i,e._hideHandler)})},s.prototype._createPopperInstance=function(){return yo(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},s.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},s.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(t){t.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},s.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},s.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(t){e._handleClickOutside(t,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},s.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},s.prototype._handleClickOutside=function(e,t){var i=e.target;i!==t&&!t.contains(i)&&!this._triggerEl.contains(i)&&this.isVisible()&&this.hide()},s.prototype.isVisible=function(){return this._visible},s.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},s.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return Gt(Gt({},e),{modifiers:Vs(Vs([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},s.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return Gt(Gt({},e),{modifiers:Vs(Vs([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},s}();function ko(){document.querySelectorAll("[data-popover-target]").forEach(function(s){var e=s.getAttribute("data-popover-target"),t=document.getElementById(e);if(t){var i=s.getAttribute("data-popover-trigger"),n=s.getAttribute("data-popover-placement"),r=s.getAttribute("data-popover-offset");new Pd(t,s,{placement:n||rs.placement,offset:r?parseInt(r):rs.offset,triggerType:i||rs.triggerType})}else console.error('The popover element with id "'.concat(e,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=Pd,window.initPopovers=ko);var cn=function(){return cn=Object.assign||function(s){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},cn.apply(this,arguments)},Ar={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},Dy={id:null,override:!0},Id=function(){function s(e,t,i,n,r){e===void 0&&(e=null),t===void 0&&(t=null),i===void 0&&(i=null),n===void 0&&(n=Ar),r===void 0&&(r=Dy),this._instanceId=r.id?r.id:i.id,this._parentEl=e,this._triggerEl=t,this._targetEl=i,this._options=cn(cn({},Ar),n),this._visible=!1,this._initialized=!1,this.init(),fe.addInstance("Dial",this,this._instanceId,r.override)}return s.prototype.init=function(){var e=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var t=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){e.show()},t.showEvents.forEach(function(i){e._triggerEl.addEventListener(i,e._showEventHandler),e._targetEl.addEventListener(i,e._showEventHandler)}),this._hideEventHandler=function(){e._parentEl.matches(":hover")||e.hide()},t.hideEvents.forEach(function(i){e._parentEl.addEventListener(i,e._hideEventHandler)}),this._initialized=!0}},s.prototype.destroy=function(){var e=this;if(this._initialized){var t=this._getTriggerEventTypes(this._options.triggerType);t.showEvents.forEach(function(i){e._triggerEl.removeEventListener(i,e._showEventHandler),e._targetEl.removeEventListener(i,e._showEventHandler)}),t.hideEvents.forEach(function(i){e._parentEl.removeEventListener(i,e._hideEventHandler)}),this._initialized=!1}},s.prototype.removeInstance=function(){fe.removeInstance("Dial",this._instanceId)},s.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},s.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},s.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},s.prototype.toggle=function(){this._visible?this.hide():this.show()},s.prototype.isHidden=function(){return!this._visible},s.prototype.isVisible=function(){return this._visible},s.prototype._getTriggerEventTypes=function(e){switch(e){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},s}();function So(){document.querySelectorAll("[data-dial-init]").forEach(function(s){var e=s.querySelector("[data-dial-toggle]");if(e){var t=e.getAttribute("data-dial-toggle"),i=document.getElementById(t);if(i){var n=e.getAttribute("data-dial-trigger");new Id(s,e,i,{triggerType:n||Ar.triggerType})}else console.error("Dial with id ".concat(t," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(s.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}typeof window<"u"&&(window.Dial=Id,window.initDials=So);var fn=function(){return fn=Object.assign||function(s){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},fn.apply(this,arguments)},ll={minValue:null,maxValue:null,onIncrement:function(){},onDecrement:function(){}},Py={id:null,override:!0},Hd=function(){function s(e,t,i,n,r){e===void 0&&(e=null),t===void 0&&(t=null),i===void 0&&(i=null),n===void 0&&(n=ll),r===void 0&&(r=Py),this._instanceId=r.id?r.id:e.id,this._targetEl=e,this._incrementEl=t,this._decrementEl=i,this._options=fn(fn({},ll),n),this._initialized=!1,this.init(),fe.addInstance("InputCounter",this,this._instanceId,r.override)}return s.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._inputHandler=function(t){{var i=t.target;/^\d*$/.test(i.value)||(i.value=i.value.replace(/[^\d]/g,"")),e._options.maxValue!==null&&parseInt(i.value)>e._options.maxValue&&(i.value=e._options.maxValue.toString()),e._options.minValue!==null&&parseInt(i.value)<e._options.minValue&&(i.value=e._options.minValue.toString())}},this._incrementClickHandler=function(){e.increment()},this._decrementClickHandler=function(){e.decrement()},this._targetEl.addEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.addEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.addEventListener("click",this._decrementClickHandler),this._initialized=!0)},s.prototype.destroy=function(){this._targetEl&&this._initialized&&(this._targetEl.removeEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.removeEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.removeEventListener("click",this._decrementClickHandler),this._initialized=!1)},s.prototype.removeInstance=function(){fe.removeInstance("InputCounter",this._instanceId)},s.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},s.prototype.getCurrentValue=function(){return parseInt(this._targetEl.value)||0},s.prototype.increment=function(){this._options.maxValue!==null&&this.getCurrentValue()>=this._options.maxValue||(this._targetEl.value=(this.getCurrentValue()+1).toString(),this._options.onIncrement(this))},s.prototype.decrement=function(){this._options.minValue!==null&&this.getCurrentValue()<=this._options.minValue||(this._targetEl.value=(this.getCurrentValue()-1).toString(),this._options.onDecrement(this))},s}();function Ro(){document.querySelectorAll("[data-input-counter]").forEach(function(s){var e=s.id,t=document.querySelector('[data-input-counter-increment="'+e+'"]'),i=document.querySelector('[data-input-counter-decrement="'+e+'"]'),n=s.getAttribute("data-input-counter-min"),r=s.getAttribute("data-input-counter-max");s?fe.instanceExists("InputCounter",s.getAttribute("id"))||new Hd(s,t||null,i||null,{minValue:n?parseInt(n):null,maxValue:r?parseInt(r):null}):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-input-counter attribute.'))})}typeof window<"u"&&(window.InputCounter=Hd,window.initInputCounters=Ro);function Iy(){lo(),uo(),ho(),co(),Co(),Eo(),xo(),_o(),To(),ko(),So(),Ro()}typeof window<"u"&&(window.initFlowbite=Iy);var Hy=new mw("load",[lo,uo,ho,co,Co,Eo,xo,_o,To,ko,So,Ro]);Hy.init();const zy={form:{name:"",logo:null,ids:""},requestData:{name:"",logo:"",ids:[]},table:null,createModal:null,async init(){this.isLoading=!1,this.route={name:"",url:"companies"},this.table=new Tn(this.$refs.companiesTable,{height:"100%",layout:"fitColumns",textDirection:"rtl",placeholder:"  ",ajaxURL:`${document.location.origin}/api/company/Get`,ajaxLoader:!0,headerSort:!1,columns:[{title:"#",formatter:"rownum",width:40,hozAlign:"center",headerSort:!1,frozen:!0},{title:"",field:"logo",widthGrow:.2,headerSort:!1,formatter:t=>t.getValue()===null||t.getValue()===""?'<img src="logo.jpeg" class="w-10 h-10 rounded-full">':`<img src="/Storage/${t.getValue()}" class="w-10 h-10 rounded-full">`},{title:"",field:"name",headerSort:!1},{title:"",field:"id",widthGrow:.3,headerSort:!1,formatter:t=>`<button class="bg-[#ffd0d0] hover:bg-[#ffd0d0]/70 px-5 py-1 rounded-lg text-[#D66A6A] font-normal duration-300 transition-colors ease-in-out" x-on:click="deleteCompany('${t.getValue()}')"> </button>`}]});const s={placement:"center",backdrop:"dynamic",backdropClasses:"bg-gray-900/50 fixed inset-0 z-40",closable:!0},e={id:"modal",override:!0};this.createModal=new Dn(this.$refs.createCompanyModal,s,e)},async createCompany(){var e,t;const s=this.form.ids.split(",");if(this.requestData.ids=s,this.form.name===""||this.form.name===null){Be.fire({icon:"error",title:"",text:"   "});return}this.requestData.name=this.form.name;try{if(this.form.logo){const n=new FormData;n.append("file",this.$refs.companyLogo.files[0]);const r=await Lt.post(`${document.location.origin}/api/company/UploadLogo`,n,{headers:{"Content-Type":"multipart/form-data"}});this.requestData.logo=r.data}await Lt.post(`${document.location.origin}/api/company/Create`,{Name:this.requestData.name,Logo:this.requestData.logo,Users:this.requestData.ids})&&(Be.fire({icon:"success",title:"",text:"   "}),(e=this.createModal)==null||e.hide(),(t=this.table)==null||t.setData(null))}catch(i){Be.fire({icon:"error",title:"",text:"    "}),console.log(i)}},async deleteCompany(s){var t;const{isConfirmed:e}=await Be.fire({icon:"warning",title:"",text:"     ",showCancelButton:!0,confirmButtonText:"",cancelButtonText:"",confirmButtonColor:"#284387"});if(e)try{await Lt.delete(`${document.location.origin}/api/company/Delete/${s}`)&&(Be.fire({icon:"success",title:"",text:"   "}),(t=this.table)==null||t.setData(null))}catch(i){Be.fire({icon:"error",title:"",text:"    "}),console.log(i)}}},Fy=()=>zy,By={form:{name:""},table:null,createModal:null,async init(){this.isLoading=!1,this.route={name:"",url:"categories"},this.table=new Tn(this.$refs.categoriesTable,{height:"100%",layout:"fitColumns",textDirection:"rtl",placeholder:"  ",ajaxURL:`${document.location.origin}/api/category/Get`,ajaxLoader:!0,headerSort:!1,columns:[{title:"",field:"name",headerSort:!1},{title:"",field:"id",widthGrow:.3,headerSort:!1,formatter:t=>`<button class="bg-[#ffd0d0] hover:bg-[#ffd0d0]/70 px-5 py-1 rounded-lg text-[#D66A6A] font-normal duration-300 transition-colors ease-in-out" x-on:click="deleteCategory('${t.getValue()}')"> </button>`}]});const s={placement:"center",backdrop:"dynamic",backdropClasses:"bg-gray-900/50 fixed inset-0 z-40",closable:!0},e={id:"modal",override:!0};this.createModal=new Dn(this.$refs.createCategoryModal,s,e)},async createCategory(){var s,e;if(this.form.name===""||this.form.name===null){Be.fire({icon:"error",title:"",text:"  "});return}try{await Lt.post(`${document.location.origin}/api/category/Create`,{name:this.form.name})&&(Be.fire({icon:"success",title:"",text:"   "}),(s=this.createModal)==null||s.hide(),(e=this.table)==null||e.setData(null))}catch(t){Be.fire({icon:"error",title:"",text:"    "}),console.log(t)}},async deleteCategory(s){var t;const{isConfirmed:e}=await Be.fire({icon:"warning",title:"",text:"     ",showCancelButton:!0,confirmButtonText:"",cancelButtonText:"",confirmButtonColor:"#284387"});if(e)try{await Lt.delete(`${document.location.origin}/api/category/Delete/${s}`)&&(Be.fire({icon:"success",title:"",text:"   "}),(t=this.table)==null||t.setData(null))}catch(i){Be.fire({icon:"error",title:"",text:"    "}),console.log(i)}}},Ny=()=>By;window.Alpine=bi;bi.data("layoutData",fg);bi.data("indexData",_v);bi.data("CandidateViewData",gw);bi.data("CompanyIndexData",Fy);bi.data("CategoryIndexData",Ny);bi.start();
